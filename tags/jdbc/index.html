<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>JDBC | Rexä¸­å¿ƒç«™</title>
<meta name="keywords" content="" />
<meta name="description" content="Rexçš„ä¸ªäººåšå®¢">
<meta name="author" content="Rex">
<link rel="canonical" href="https://rex0520.github.io/tags/jdbc/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.css" rel="preload stylesheet" as="style">
<link rel="preload" href="http://cdn.rexhub.xyz/img/20210821105340.png" as="image">
<link rel="icon" href="https://rex0520.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://rex0520.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://rex0520.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://rex0520.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://rex0520.github.io/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.100.2" />
<link rel="alternate" type="application/rss+xml" href="https://rex0520.github.io/tags/jdbc/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="JDBC" />
<meta property="og:description" content="Rexçš„ä¸ªäººåšå®¢" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://rex0520.github.io/tags/jdbc/" /><meta property="og:image" content="https://cdn.rexhub.xyz/img/20210820141535.jpg"/><meta property="og:site_name" content="RexHub" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://cdn.rexhub.xyz/img/20210820141535.jpg"/>

<meta name="twitter:title" content="JDBC"/>
<meta name="twitter:description" content="Rexçš„ä¸ªäººåšå®¢"/>

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://rex0520.github.io/" accesskey="h" title="Home (Alt + H)">
                <img src="http://cdn.rexhub.xyz/img/20210821105340.png" alt="logo" aria-label="logo"
                    height="35">Home</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://rex0520.github.io/posts/" title="æ–‡ç« ">
                    <span>æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://rex0520.github.io/categories/" title="åˆ†ç±»">
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="https://rex0520.github.io/tags/" title="æ ‡ç­¾">
                    <span>æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://rex0520.github.io/archives/" title="æ—¶é—´è½´">
                    <span>æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://rex0520.github.io/search/" title="æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header><main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://rex0520.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://rex0520.github.io/tags/">Tags</a></div>
  <h1>JDBC</h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Druidæ•°æ®åº“è¿æ¥æ± 
    </h2>
  </header>
  <section class="entry-content">
    <p>Druidæ•°æ®åº“è¿æ¥æ±  æ¦‚è¿° ä»€ä¹ˆæ˜¯è¿æ¥æ± ï¼ŸğŸ¤” Javaè¿æ¥æ•°æ®åº“æœ‰å¾ˆå¤šä¸­æ–¹å¼ï¼Œæœ€åŸå§‹çš„æ–¹å¼å°±æ˜¯ç›´æ¥ä½¿ç”¨æ•°æ®åº“é©±åŠ¨è¿æ¥æ•°æ®åº“ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æœ‰å¾ˆå¤šçš„å¼Šç«¯ï¼Œå¦‚æ¯æ¬¡æ‰§è¡Œsqléƒ½éœ€è¦åˆ›å»ºå’Œå…³é—­æ•°æ®åº“è¿æ¥å™¨ï¼Œéœ€è¦æ¶ˆè€—å¤§é‡çš„èµ„æºï¼Œå¦‚æœæ²¡å…³é—­æˆåŠŸè¿˜ä¼šå¯¼è‡´å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œä»¥åŠä¸€äº›çº¿ç¨‹é—®é¢˜ã€‚è€Œæ•°æ®åº“è¿æ¥æ± ä¸»è¦åšçš„æ˜¯ï¼Œé¢„å…ˆåˆ›å»ºå¥½ä¸€å®šé‡çš„æ•°æ®åº“è¿æ¥æ”¾åˆ°æ± å­ä¸­ï¼Œå½“éœ€è¦æ‰§è¡Œsqlè¯­å¥çš„æ—¶å€™å–å‡ºä¸€ä¸ªæ•°æ®åº“è¿æ¥æ‰§è¡Œsqlè¯­å¥ï¼Œç”¨å®Œäº†æ”¾å›å»ï¼Œå¦‚æœç³»ç»Ÿå…³é—­åˆ™æ–­å¼€æ‰€æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œå¹¶é‡Šæ”¾å†…å­˜ã€‚
å¸¸è§çš„æ•°æ®åº“è¿æ¥æ± çš„é…ç½®å‚æ•° url æ•°æ®åº“åœ°å€ username æ•°æ®åº“è´¦å· password æ•°æ®åº“å¯†ç  driverClassName æ•°æ®åº“é©±åŠ¨ maxActive æ± å­ä¸­æ”¯æŒçš„æœ€å¤§è¿æ¥æ•°ï¼ˆä¸€èˆ¬æ˜¯å¯èƒ½çš„å¹¶å‘çš„æ•°é‡ï¼‰ maxIdle æ± å­ä¸­è¿æ¥æœ€å¤§çš„ç©ºé—²æ•°ã€‚ï¼ˆå³ä½¿æ²¡æœ‰ä½¿ç”¨è¿æ¥ï¼Œæ± å­é‡Œä¹Ÿä¼šæœ‰maxIdleä¸ªè¿æ¥ï¼‰ minIdle æ± å­ä¸­è¿æ¥æœ€å°çš„ç©ºé—²æ•°ã€‚ï¼ˆå½“è¿æ¥å°‘äºè¿™ä¸ªå€¼ï¼Œæ± å­ä¼šè‡ªåŠ¨åˆ›å»ºè¿æ¥è¡¥å……åˆ°è¿™ä¸ªå€¼ï¼‰ initialSize æ± å­ä¸­ä¸€å¼€å§‹çš„è¿æ¥æ•° maxWait è¿æ¥æœ€å¤§çš„ç­‰å¾…æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ä¼šæŠ¥é”™ï¼Œ-1çš„è¯å°±æ˜¯æ— é™ç­‰å¾… å¸¸è§çš„æ•°æ®åº“è¿æ¥æ±  HikariCP Hikariåœ¨æ—¥è¯­ä¸­æ˜¯å…‰çš„æ„æ€ï¼Œä¸»æ‰“é«˜æ€§èƒ½é«˜æ•ˆç‡ã€‚SpringBooté»˜è®¤çš„æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨çš„å°±æ˜¯HikariCPã€‚ä»–çš„ä¼˜ç‚¹åœ¨äº æœ‰ç²¾ç®€çš„å­—èŠ‚ç (ä»£ç é‡æ¯”è¾ƒå°‘) ä¼˜åŒ–äº†ä»£ç†å’Œæ‹¦æˆªå™¨ å®šä¹‰äº†é›†åˆç±»å‹ï¼šConcurrentBagæé«˜å¹¶å‘è¯»å†™æ•ˆç‡ Druid Druidæ˜¯Alibabaçš„ä¸€ä¸ªå¼€æºçš„æ•°æ®åº“è¿æ¥æ± ï¼ŒğŸ˜²å®˜æ–¹è‡ªç§°Javaæœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ï¼Œï¼ˆä½†æ˜¯å®æµ‹HikariCPçš„æ€§èƒ½è¦æ›´å¼ºğŸ¤ªï¼‰ä¸è¿‡æˆ‘è§‰å¾—é™¤äº†æ€§èƒ½ä¹‹å¤–ä¹Ÿè¦ç»¼åˆè€ƒè™‘å…¶ä»–çš„åŠŸèƒ½ã€‚Druidé›†æˆäº†å¼ºå¤§çš„ç›‘æ§åŠŸèƒ½ï¼ˆSQLã€Webã€Sessionç­‰ç­‰ï¼‰ã€é»‘ç™½åå•æ‹¦æˆªï¼Œè¿™ç‚¹æˆ‘è§‰å¾—åœ¨çœŸå®çš„ç”Ÿäº§ç¯èŠ‚ä¸­æœ‰å¾ˆå¤§ä¼˜åŠ¿ï¼Œå¯ä»¥æ ¹æ®ç›‘æ§çš„ä¿¡æ¯è°ƒæ•´é¡¹ç›®ä½¿ä¹‹å˜å¾—æ›´é«˜æ•ˆã€‚ DBCPã€C3P0 è¿™ä¿©æ¬¾ç”¨çš„å¥½åƒæ¯”è¾ƒå°‘ï¼Œå°±ä¸å¤šä»‹ç»äº†ã€‚ Druid æ­£ç‰‡å¼€å§‹ï¼Œè¿™å‡ å¤©å­¦ä¹ äº†Druidå‘ç°ï¼ŒDruidä¸ä»…ä»…æ˜¯åœ¨æ•°æ®åº“è¿æ¥æ± çš„æ€§èƒ½æ–¹é¢åšçš„å¾ˆå¥½ï¼Œè€Œä¸”è¿˜æœ‰å¼ºå¤§çš„ç›‘æ§åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨æ­¤è®°å½•ä¸‹ä»–å’ŒSpringBootçš„æ­é…ã€‚é…ç½®å‚è€ƒDruidçš„å®˜æ–¹æ–‡æ¡£ï¼Œå®˜æ–¹ä»‹ç»çš„ç¡®å®å¾ˆè¯¦ç»†äº†ï¼Œä¸è¿‡æˆ‘è¿™è¾¹è®°å½•çš„ä¼šå’Œå®˜æ–¹æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä½¿ç”¨çš„æœ‰è‡ªåŠ¨è£…é…çš„druid
é›†æˆSpringBoot é…ç½®Mavenï¼Œå¼•å…¥druid &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.13&lt;/version&gt; &lt;/dependency&gt; åœ¨é‡Œé¢çš„DruidDataSourceAutoConfigureæ–‡ä»¶å·²ç»å¯¹druidåšäº†å¤§é‡é…ç½®ï¼ŒæŒ‰ç…§å®˜æ–¹è¿˜éœ€è¦å†™é…ç½®ç±»æ¥é…ç½®druidä¸€äº›è¿æ¥ä¿¡æ¯ï¼ˆæ•°æ®åº“è¿æ¥ä¿¡æ¯ã€ç›‘æ§é…ç½®ç­‰ç­‰ï¼‰ï¼Œè€Œè¿™è¾¹å¤§éƒ¨åˆ†çš„é…ç½®åªéœ€è¦å†™åœ¨application.yml/application.propertiesé‡Œå°±å¥½äº†ï¼Œå‰©ä¸‹çš„å°±è®©DruidDataSourceAutoConfigureæ¥å°†è¿™äº›é…ç½®ç»‘å®šåœ¨druidä¸Šå°±å¥½ã€‚æ‰€ä»¥æ¥ä¸‹æ¥çš„ä¸€æ­¥ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå°±æ˜¯å†™é…ç½®æ–‡ä»¶ ç¼–å†™é…ç½®ä¿¡æ¯ spring: datasource: url: jdbc:mysql://localhost:3306/proj_template?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;charsetEncoding=utf-8&amp;useSSL=true&amp;allowPublicKeyRetrieval=true username: root password: root driver-class-name: com.mysql.cj.jdbc.Driver druid: filter: slf4j: enabled: true # å¼€å¯æ—¥å¿—åŠŸèƒ½ wall: enabled: true # å¼€å¯é˜²ç«å¢™åŠŸèƒ½ stat: enabled: true # å¼€å¯sqlç›‘æ§åŠŸèƒ½ slow-sql-millis: 1000 # é…ç½®SQLæ…¢çš„æ ‡å‡† log-slow-sql: true # æ˜¯å¦å¼€å¯è®°å½•æ‰§è¡Œæ…¢çš„sql stat-view-servlet: enabled: true # å¼€å¯ç›‘æ§é¡µåŠŸèƒ½ login-username: rex # ç›‘æ§é¡µç™»å½•è´¦å· login-password: pwdofrex # ç›‘æ§é¡µç™»å½•å¯†ç  reset-enable: false # é…ç½®æ˜¯å¦å…è®¸é‡ç½®ç›‘æ§ä¿¡æ¯ web-stat-filter: enabled: true # å¼€å¯webç›‘æ§ exclusions: &#34;*....</p>
  </section>
  <footer class="entry-footer">2022-10-07&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Rex</footer>
  <a class="entry-link" aria-label="post link to Druidæ•°æ®åº“è¿æ¥æ± " href="https://rex0520.github.io/posts/back/java/jdbctool/druid%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>JPAå­¦ä¹ 
    </h2>
  </header>
  <section class="entry-content">
    <p>JPA ä¸€ã€ä»€ä¹ˆæ˜¯jpa â€‹	JPAæ˜¯Java Persistence APIçš„æ„æ€ï¼Œæ˜¯ä¸€ç§ORMæ¡†æ¶ã€‚æ˜¯ä½¿ç”¨JDK 5.0æ³¨è§£æˆ–XMLæè¿°å¯¹è±¡ï¼å…³ç³»è¡¨çš„æ˜ å°„å…³ç³»çš„å…ƒæ•°æ®ï¼Œå¹¶å°†è¿è¡ŒæœŸçš„é¢å‘å¯¹è±¡è¯­è¨€ç¨‹åºä¸­çš„å®ä½“å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ã€‚
äºŒã€åŸºäºæ³¨è§£çš„ä½¿ç”¨ JPAå¸¸ç”¨æ³¨è§£ æ³¨è§£ è§£é‡Š @Entity å£°æ˜ç±»ä¸ºå®ä½“æˆ–è¡¨ã€‚ @Table å£°æ˜è¡¨åã€‚ @Basic æŒ‡æ˜éçº¦æŸæ˜ç¡®çš„å„ä¸ªå­—æ®µã€‚ @Embedded æŒ‡å®šç±»æˆ–å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¯åµŒå…¥çš„ç±»çš„å®ä½“çš„å±æ€§ã€‚ @Id æŒ‡å®šçš„ç±»çš„å±æ€§ï¼Œç”¨äºè¯†åˆ«ï¼ˆä¸€ä¸ªè¡¨ä¸­çš„ä¸»é”®ï¼‰ã€‚ @GeneratedValue æŒ‡å®šå¦‚ä½•æ ‡è¯†å±æ€§å¯ä»¥è¢«åˆå§‹åŒ–ï¼Œä¾‹å¦‚è‡ªåŠ¨ã€æ‰‹åŠ¨ã€æˆ–ä»åºåˆ—è¡¨ä¸­è·å¾—çš„å€¼ã€‚ @Transient æŒ‡å®šçš„å±æ€§ï¼Œå®ƒæ˜¯ä¸æŒä¹…çš„ï¼Œå³ï¼šè¯¥å€¼æ°¸è¿œä¸ä¼šå­˜å‚¨å†æ•°æ®åº“ä¸­ã€‚ @Column æŒ‡å®šæŒä¹…å±æ€§æ å±æ€§ã€‚ @SequenceGenerator æŒ‡å®šåœ¨@GeneratedValueæ³¨è§£ä¸­æŒ‡å®šçš„å±æ€§çš„å€¼ã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ªåºåˆ—ã€‚ @TableGenerator æŒ‡å®šåœ¨@GeneratedValueæ‰¹æ³¨æŒ‡å®šå±æ€§çš„å€¼å‘ç”Ÿå™¨ã€‚å®ƒåˆ›é€ äº†çš„å€¼ç”Ÿæˆçš„è¡¨ã€‚ @AccessType è¿™ç§ç±»å‹çš„æ³¨é‡Šç”¨äºè®¾ç½®è®¿é—®ç±»å‹ã€‚å¦‚æœè®¾ç½®@AccessType(FIELD)ï¼Œåˆ™å¯ä»¥ç›´æ¥è®¿é—®å˜é‡å¹¶ä¸”ä¸éœ€è¦getterå’Œsetterï¼Œä½†å¿…é¡»ä¸ºpublicã€‚å¦‚æœè®¾ç½®@AccessType(PROPERTY)ï¼Œé€šè¿‡getterå’Œsetteræ–¹æ³•è®¿é—®Entityçš„å˜é‡ã€‚ @JoinColumn æŒ‡å®šä¸€ä¸ªå®ä½“ç»„ç»‡æˆ–å®ä½“çš„é›†åˆã€‚è¿™æ˜¯ç”¨åœ¨å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤šå…³è”ã€‚ @UniqueConstraint æŒ‡å®šçš„å­—æ®µå’Œç”¨äºä¸»è¦æˆ–è¾…åŠ©è¡¨çš„å”¯ä¸€çº¦æŸã€‚ @ColumnResult å‚è€ƒä½¿ç”¨selectå­—å¥çš„SQLæŸ¥è¯¢ä¸­çš„åˆ—æ˜ã€‚ @ManyToMany å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´çš„å¤šå¯¹å¤šçš„çš„å…³ç³» @ManyToOne å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´çš„å¤šå¯¹ä¸€çš„å…³ç³» @OneToMany å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´å­˜åœ¨ä¸€ä¸ªä¸€å¯¹å¤šçš„å…³ç³»ã€‚ @OneToOne å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´æœ‰ä¸€ä¸ªä¸€å¯¹ä¸€çš„å…³ç³» @NamedQueries æŒ‡å®šå‘½åæŸ¥è¯¢çš„åˆ—è¡¨ @NamedQuery æŒ‡å®šä½¿ç”¨é™æ€åç§°çš„æŸ¥è¯¢ã€‚ ä¸‰ã€ä½¿ç”¨ åœ¨application.propertiesæ–‡ä»¶ä¸­çš„é…ç½®
#jpaçš„é…ç½® spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect spring.jpa.show-sql=true spring.jpa.hibernate.ddl-auto=create tips:
â€‹	jpa.hibernate.ddl-autoæ˜¯hibernateçš„é…ç½®å±æ€§ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯ï¼šè‡ªåŠ¨åˆ›å»ºã€æ›´æ–°ã€éªŒè¯æ•°æ®åº“è¡¨ç»“æ„ã€‚è¯¥å‚æ•°çš„å‡ ç§é…ç½®å¦‚ä¸‹ï¼š
createï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶éƒ½ä¼šåˆ é™¤ä¸Šä¸€æ¬¡çš„ç”Ÿæˆçš„è¡¨ï¼Œç„¶åæ ¹æ®ä½ çš„modelç±»å†é‡æ–°æ¥ç”Ÿæˆæ–°è¡¨ï¼Œå“ªæ€•ä¸¤æ¬¡æ²¡æœ‰ä»»ä½•æ”¹å˜ä¹Ÿè¦è¿™æ ·æ‰§è¡Œï¼Œè¿™å°±æ˜¯å¯¼è‡´æ•°æ®åº“è¡¨æ•°æ®ä¸¢å¤±çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚
create-dropï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶æ ¹æ®modelç±»ç”Ÿæˆè¡¨ï¼Œä½†æ˜¯sessionFactoryä¸€å…³é—­,è¡¨å°±è‡ªåŠ¨åˆ é™¤ã€‚
updateï¼šæœ€å¸¸ç”¨çš„å±æ€§ï¼Œç¬¬ä¸€æ¬¡åŠ è½½hibernateæ—¶æ ¹æ®modelç±»ä¼šè‡ªåŠ¨å»ºç«‹èµ·è¡¨çš„ç»“æ„ï¼ˆå‰ææ˜¯å…ˆå»ºç«‹å¥½æ•°æ®åº“ï¼‰ï¼Œä»¥ååŠ è½½hibernateæ—¶æ ¹æ®modelç±»è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„ï¼Œå³ä½¿è¡¨ç»“æ„æ”¹å˜äº†ä½†è¡¨ä¸­çš„è¡Œä»ç„¶å­˜åœ¨ä¸ä¼šåˆ é™¤ä»¥å‰çš„è¡Œã€‚è¦æ³¨æ„çš„æ˜¯å½“éƒ¨ç½²åˆ°æœåŠ¡å™¨åï¼Œè¡¨ç»“æ„æ˜¯ä¸ä¼šè¢«é©¬ä¸Šå»ºç«‹èµ·æ¥çš„ï¼Œæ˜¯è¦ç­‰åº”ç”¨ç¬¬ä¸€æ¬¡è¿è¡Œèµ·æ¥åæ‰ä¼šã€‚
validateï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶ï¼ŒéªŒè¯åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„ï¼Œåªä¼šå’Œæ•°æ®åº“ä¸­çš„è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œä¸ä¼šåˆ›å»ºæ–°è¡¨ï¼Œä½†æ˜¯ä¼šæ’å…¥æ–°å€¼ã€‚
å››ã€JPQLæŸ¥è¯¢ â€‹	å¸¸ç”¨å…³é”®å­—
keyword sample jpaql snippet And findByLastnameAndFirstname â€¦where x....</p>
  </section>
  <footer class="entry-footer">2021-03-22&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;Rex</footer>
  <a class="entry-link" aria-label="post link to JPAå­¦ä¹ " href="https://rex0520.github.io/posts/back/java/jdbctool/jpa%D1%A7%CF%B0/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>MybatisåŸºç¡€
    </h2>
  </header>
  <section class="entry-content">
    <p>MyBatisåŸºç¡€å…¥é—¨ è½¯ä»¶å¼€å‘ä¸­çš„æ¡†æ¶ æ¡†æ¶æ˜¯å¯è¢«åº”ç”¨å¼€å‘è€…å®šåˆ¶çš„åº”ç”¨éª¨æ¶ æ¡†æ¶æ˜¯ä¸€ç§è§„åˆ™ï¼Œä¿è¯å¼€å‘è€…éµå¾ªç›¸åŒçš„æ–¹å¼å¼€å‘ç¨‹åº æ¡†æ¶æå€¡â€œä¸è¦é‡å¤é€ è½®å­â€ï¼Œå¯¹åŸºç¡€åŠŸèƒ½è¿›è¡Œå°è£… æ¡†æ¶çš„ä¼˜ç‚¹ æå¤§æé«˜äº†å¼€å‘æ•ˆç‡ ç»Ÿä¸€çš„ç¼–ç è§„åˆ™ï¼Œæœ‰åˆ©äºå›¢é˜Ÿç®¡ç† çµæ´»é…ç½®çš„åº”ç”¨ï¼Œæ‹¥æœ‰æ›´å¥½çš„ç»´æŠ¤æ€§ SSMå¼€å‘æ¡†æ¶ S -&gt; Spring S -&gt; Spring MVC M -&gt; MyBatis ä»€ä¹ˆæ˜¯MyBatis MyBatisæ˜¯ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ MyBatisä½¿ç”¨XMLå°†SQLä¸ç¨‹åºè§£è€¦ï¼Œä¾¿äºç»´æŠ¤ MyBatiså­¦ä¹ ç®€å•ï¼Œæ‰§è¡Œé«˜æ•ˆï¼Œæ˜¯JDBCçš„å»¶å±• MyBatiså¼€å‘æµç¨‹ å¼•å…¥MyBatisä¾èµ– åˆ›å»ºæ ¸å¿ƒé…ç½®æ–‡ä»¶ åˆ›å»ºå®ä½“(Entity)ç±» åˆ›å»ºMapperæ˜ å°„æ–‡ä»¶ åˆå§‹åŒ–SessionFactory åˆ©ç”¨SqlSessionå¯¹è±¡æ“ä½œæ•°æ® MyBatisç¯å¢ƒé…ç½® mybatis-config.xmlè¯´æ˜ MyBatisé‡‡ç”¨XMLæ ¼å¼é…ç½®æ•°æ®åº“ç¯å¢ƒä¿¡æ¯ MyBatisç¯å¢ƒé…ç½®æ ‡ç­¾ environmentåŒ…å«æ•°æ®åº“é©±åŠ¨ã€URLã€ç”¨æˆ·åäºå¯†ç  mybatis-config.xmlç¤ºä¾‹ï¼š &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt; &lt;!DOCTYPE configuration PUBLIC &#34;-//mybatis.org//DTD Config 3.0//EN&#34; &#34;http://mybatis.org/dtd/mybatis-3-config.dtd&#34;&gt; &lt;configuration&gt; &lt;environments default=&#34;dev&#34;&gt; &lt;!--æ ¹æ®ç¯å¢ƒï¼Œä¸åŒçš„ç¯å¢ƒä¸åŒçš„idï¼Œdev-&gt;å¼€å‘ç¯å¢ƒ prd-&gt;ç”Ÿäº§ç¯å¢ƒ --&gt; &lt;environment id=&#34;dev&#34;&gt; &lt;!--é‡‡ç”¨JDBCæ–¹å¼å¯¹æ•°æ®åº“äº‹åŠ¡è¿›è¡Œcommit/rollback--&gt; &lt;transactionManager type=&#34;JDBC&#34;&gt;&lt;/transactionManager&gt; &lt;!--æ•°æ®è¿æ¥æ–¹å¼ç®¡ç†æ•°æ®åº“è¿æ¥--&gt; &lt;dataSource type=&#34;POOLED&#34;&gt; &lt;property name=&#34;driver&#34; value=&#34;com.mysql.cj.jdbc.Driver&#34;/&gt; &lt;property name=&#34;url&#34; value=&#34;jdbc:mysql://localhost:3306/babytun?useUnicode=true&amp;amp;characterEncoding=UTF-8&#34;/&gt; &lt;property name=&#34;username&#34; value=&#34;root&#34;/&gt; &lt;property name=&#34;password&#34; value=&#34;root&#34;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;environment id=&#34;prd&#34;&gt; &lt;!...</p>
  </section>
  <footer class="entry-footer">2021-03-09&nbsp;Â·&nbsp;8 min&nbsp;Â·&nbsp;Rex</footer>
  <a class="entry-link" aria-label="post link to MybatisåŸºç¡€" href="https://rex0520.github.io/posts/back/java/jdbctool/mybatis%E5%9F%BA%E7%A1%80/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Mybatisè¿›é˜¶
    </h2>
  </header>
  <section class="entry-content">
    <p>MyBatisè¿›é˜¶ ä»€ä¹ˆæ˜¯æ—¥å¿— æ—¥å¿—æ–‡ä»¶æ˜¯ç”¨äºè®°å½•ç³»ç»Ÿæ“ä½œäº‹ä»¶çš„è®°å½•æ–‡ä»¶æˆ–æ–‡ä»¶é›†åˆ æ—¥å¿—ä¿å­˜å†å²æ•°æ®ï¼Œæ˜¯è¯Šæ–­é—®é¢˜ä»¥åŠç†è§£ç³»ç»Ÿæ´»åŠ¨çš„é‡è¦ä¾æ® SLF4jä¸Logback æ—¥å¿—çš„ä½¿ç”¨: å¼•å…¥logbackä¾èµ–
&lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;/dependency&gt; åˆ›å»ºlogback.xmlï¼Œå¹¶å†™å…¥å¦‚ä¸‹ä»£ç ï¼š
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt; &lt;configuration&gt; &lt;appender name=&#34;console&#34; class=&#34;ch.qos.logback.core.ConsoleAppender&#34;&gt; &lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼ˆä¼˜å…ˆçº§é«˜åˆ°ä½ï¼‰ error: é”™è¯¯ - ç³»ç»Ÿçš„æ•…éšœæ—¥å¿— warn: è­¦å‘Š - å­˜åœ¨é£é™©æˆ–ä½¿ç”¨ä¸å½“çš„æ—¥å¿— info: ä¸€èˆ¬æ€§æ¶ˆæ¯ debug: ç¨‹åºå†…éƒ¨ç”¨äºè°ƒè¯•ä¿¡æ¯ trace: ç¨‹åºå…è®¸çš„è·Ÿè¸ªä¿¡æ¯ --&gt; &lt;root level=&#34;debug&#34;&gt; &lt;appender-ref ref=&#34;console&#34;&gt;&lt;/appender-ref&gt; &lt;/root&gt; &lt;/configuration&gt; åŠ¨æ€SQL åŠ¨æ€SQLæ˜¯æŒ‡æ ¹æ®å‚æ•°æ•°æ®åŠ¨æ€ç»„ç»‡SQLçš„æŠ€æœ¯ ä»£ç ç¤ºä¾‹ï¼š goods.xmlä¸­åŠ å…¥å¦‚ä¸‹sqlè¯­å¥
&lt;select id=&#34;dynamicSelect&#34; parameterType=&#34;java.util.Map&#34; resultType=&#34;com.imooc.mybatis.entity.Goods&#34;&gt; select * from t_goods &lt;where&gt; &lt;if test=&#34;categoryId != null&#34;&gt; and category_id = #{categoryId} &lt;/if&gt; &lt;if test=&#34;currentPrice !...</p>
  </section>
  <footer class="entry-footer">2021-03-09&nbsp;Â·&nbsp;7 min&nbsp;Â·&nbsp;Rex</footer>
  <a class="entry-link" aria-label="post link to Mybatisè¿›é˜¶" href="https://rex0520.github.io/posts/back/java/jdbctool/mybatis%E8%BF%9B%E9%98%B6/"></a>
</article>
    </main>
    
<footer class="footer">
  <span>&copy; 2022 <a href="https://rex0520.github.io/">Rexä¸­å¿ƒç«™</a></span>
  <span>
    Powered by
    <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
    <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
  </span>
  <span><a href="https://beian.miit.gov.cn/">æµ™ICPå¤‡2021016765å·-2</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  let menu = document.getElementById('menu')
  menu.scrollLeft = localStorage.getItem("menu-scroll-position");
  menu.onscroll = function () {
    localStorage.setItem("menu-scroll-position", menu.scrollLeft);
  }

  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();
      var id = this.getAttribute("href").substr(1);
      if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
      } else {
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
      }
      if (id === "top") {
        history.replaceState(null, null, " ");
      } else {
        history.pushState(null, null, `#${id}`);
      }
    });
  });

</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };

</script>
<script>
  document.getElementById("theme-toggle").addEventListener("click", () => {
    if (document.body.className.includes("dark")) {
      document.body.classList.remove('dark');
      localStorage.setItem("pref-theme", 'light');
    } else {
      document.body.classList.add('dark');
      localStorage.setItem("pref-theme", 'dark');
    }
  })

</script>

<script src="/assets/js/mermaid.min.js"></script>
<script>
  
  
  const mermaidKeywords = [
    "graph TD",
    "graph TB",
    "graph BT",
    "graph RL",
    "graph LR",
    "sequenceDiagram",
    "gantt",
    "classDiagram",
    "gitGraph",
    "erDiagram",
    "journey"
  ];
  var htmlCollection = document.getElementsByClassName('language-fallback')
  console.log(htmlCollection)
  Array.prototype.slice.call(htmlCollection)
  console.log(Array.prototype.slice.call(htmlCollection))
  Array.from(htmlCollection).forEach(ele => {
    var graphDefinition = ele.innerText;
    if (mermaidKeywords.some((keyword) => graphDefinition.startsWith(keyword))) {
      ele.parentElement.parentElement.outerHTML = `<div class="mermaid">${ele.innerText}</div>`
    }
  })
  Array.from(document.getElementsByClassName('language-mermaid')).forEach(ele => {
    ele.parentElement.outerHTML = `<div class="mermaid">${ele.innerText}</div>`
  })
</script>
<style>
   
  .mermaid svg {
    display: block;
    margin: auto;
  }
</style>
</body>

</html>
