[{"content":"Gradleæ„å»ºå·¥å…· èº«è¾¹æœ‰å­¦ä¹ å®‰å“çš„å¤§ä½¬å¼ºçƒˆæ¨èæˆ‘å­¦ä¹ äº†è§£ä¸‹Gradleè¿™æ¬¾æ„å»ºå·¥å…·ï¼Œè¯´æ˜¯å°†ä¼šæ˜¯æœªæ¥çš„ä¸»æµï¼Œæ‰€ä»¥æ¥æ­¤å­¦ä¹ å¹¶è®°å½•ä¸‹ã€‚\nè´§æ¯”ä¸‰å®¶ Ant Maven Gradle å…¬å¸ Apache Apache Google è¯­è¨€ xml xml Groovy æ„å»ºæ€§èƒ½ é€Ÿåº¦æœ€å¿« é€Ÿåº¦æœ€ä½ ä¸­é—´ ä¾èµ–ç®¡ç† ivyç®¡ç† GAVç®¡ç† GNVç®¡ç† æ’ä»¶ç®¡ç† ç®€å• å¤æ‚ ç®€å• ä¾§é‡ å°å‹é¡¹ç›®æ„å»º é¡¹ç›®åŒ…ç®¡ç† å¤§å‹é¡¹ç›®æ„å»º æµè¡Œç¨‹åº¦(2022) ä½ é«˜ ä¸­ï¼ˆæœªæ¥è¶‹åŠ¿ï¼‰ æ€»ç»“ï¼šå„æœ‰å„çš„ä¼˜ç¼ºç‚¹ï¼Œè™½ç„¶gradleç»“åˆäº†antå’Œmavençš„ä¼˜ç‚¹ï¼Œä½†æ˜¯ç°åœ¨çš„å…¼å®¹æ€§è¿˜æ¯”è¾ƒæŸ¥\nGradleç›®å½•æ„ç»“ ç›®å½• åŠŸèƒ½ /build å°è£…ç¼–è¯‘åçš„æ–‡ä»¶ã€æµ‹è¯•æŠ¥å‘Š /gradle/wrapper/ å°è£…åŒ…è£…å™¨æ–‡ä»¶å¤¹ /src é€Ÿåº¦æœ€å¿«ï½œ /gradlew mac/linuxç«¯åŒ…è£…å™¨å¯åŠ¨è„šæœ¬ /gradlew.bat windowsç«¯åŒ…è£…å™¨å¯åŠ¨è„šæœ¬ /build.gradle æ„å»ºè„šæœ¬ï¼ˆç±»ä¼¼mavençš„pomï¼‰ /setting.gradle è®¾ç½®é¡¹ç›®ä¿¡æ¯ æ–‡ä»¶ç»“æ„ä¸mavenæå…¶ç›¸ä¼¼ğŸ«¤ï¼Œéƒ½æ˜¯åŸºäºçº¦å®šå¤§äºé…ç½®ï¼ˆConvention over configurationï¼‰çš„è®¾å®š\nå¸¸ç”¨å‘½ä»¤ å‘½ä»¤ ä½œç”¨ gradle clean gradle classes ç¼–è¯‘ä¸šåŠ¡ä»£ç å’Œé…ç½®æ–‡ä»¶ gradle test ç¼–è¯‘æµ‹è¯•ä»£ç ï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Šï½œ gradle build æ„å»ºé¡¹ç›® gradle build -x test è·³è¿‡æµ‹è¯•æ„å»º ä¸‹è½½æºé…ç½® åœ¨gradleå®‰è½¬ç›®å½•çš„init.dæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªinit.gradleæ–‡ä»¶ init.gradle\nallprojects { repositories { mavenLocal() maven { name \u0026#34;Alibaba\u0026#34;; url \u0026#34;https://maven.aliyun.com/repository/public\u0026#34; } maven { name \u0026#34;Spring\u0026#34;; url \u0026#34;http://repo.spring.io/libs-milestone/\u0026#34; } mavenCentral() } buildscript { repositories { maven { name \u0026#34;Alibaba\u0026#34;; url \u0026#39;https://maven.aliyun.com/repository/public\u0026#39; } maven { name \u0026#34;Spring\u0026#34;; url \u0026#39;http://repo.spring.io/plugins-release/\u0026#39; } maven { name \u0026#34;M2\u0026#34;; url \u0026#39;https://plugins.gradle.org/m2/\u0026#39; } } } } è¯´æ˜ï¼ˆä»ä¸Šè‡³ä¸‹æœç´¢ï¼‰\nmavenLocal() ä»æœ¬åœ°mavenæ‰¾ï¼Œéœ€é…ç½®M2_HOMEç¯å¢ƒå˜é‡ï¼Œå˜é‡å€¼ä¸ºmavenåœ°å€ Alibaba é˜¿é‡Œä¸‹è½½æº mavenCentral() mavenä¸­å¤®ä»“åº“ tip: é…ç½®æºå‚è€ƒé˜¿é‡Œäº‘å®˜æ–¹ WrapperåŒ…è£…å™¨ GradlerWrapperä¸ºè§£å†³æ²¡æœ‰gradleçš„ç¯å¢ƒä¸‹ä½¿ç”¨gradleé¡¹ç›®çš„é—®é¢˜ã€‚åªéœ€è¦ä½¿ç”¨æ„å»ºé¡¹ç›®æ—¶ç”Ÿæˆçš„gradlew/gradlew.batï¼Œéœ€æ³¨æ„çš„æ˜¯ä½¿ç”¨gradlewçš„å‘½ä»¤éœ€è¦ä¾èµ–äºjdk\nè¿è¡Œçš„ä¾èµ–åŒ…åœ¨gradle/wrapperä¸‹ Gradleçš„ä½¿ç”¨æ–¹å¼å’Œgradlewæ˜¯ä¸€æ ·çš„ å¯ä½¿ç”¨gradle wrapperæŒ‡å®šå‚æ•°æ§åˆ¶wrapperç‰ˆæœ¬ï¼ˆå‡çº§é¡¹ç›®çš„gradleï¼‰ï¼Œ å‚æ•° è¯´æ˜ \u0026ndash;gradle-version ç”¨äºæŒ‡å®šä½¿ç”¨çš„Gradleç‰ˆæœ¬ \u0026ndash;gradle-distribution-url ç”¨äºæŒ‡å®šä¸‹è½½Gradleå‘è¡Œçš„urlåœ°å€ ","permalink":"https://rexhub.space/posts/back/java/build_tool/gradle/","summary":"Gradleæ„å»ºå·¥å…· èº«è¾¹æœ‰å­¦ä¹ å®‰å“çš„å¤§ä½¬å¼ºçƒˆæ¨èæˆ‘å­¦ä¹ äº†è§£ä¸‹Gradleè¿™æ¬¾æ„å»ºå·¥å…·ï¼Œè¯´æ˜¯å°†ä¼šæ˜¯æœªæ¥çš„ä¸»æµï¼Œæ‰€ä»¥æ¥æ­¤å­¦ä¹ å¹¶è®°å½•ä¸‹ã€‚\nè´§æ¯”ä¸‰å®¶ Ant Maven Gradle å…¬å¸ Apache Apache Google è¯­è¨€ xml xml Groovy æ„å»ºæ€§èƒ½ é€Ÿåº¦æœ€å¿« é€Ÿåº¦æœ€ä½ ä¸­é—´ ä¾èµ–ç®¡ç† ivyç®¡ç† GAVç®¡ç† GNVç®¡ç† æ’ä»¶ç®¡ç† ç®€å• å¤æ‚ ç®€å• ä¾§é‡ å°å‹é¡¹ç›®æ„å»º é¡¹ç›®åŒ…ç®¡ç† å¤§å‹é¡¹ç›®æ„å»º æµè¡Œç¨‹åº¦(2022) ä½ é«˜ ä¸­ï¼ˆæœªæ¥è¶‹åŠ¿ï¼‰ æ€»ç»“ï¼šå„æœ‰å„çš„ä¼˜ç¼ºç‚¹ï¼Œè™½ç„¶gradleç»“åˆäº†antå’Œmavençš„ä¼˜ç‚¹ï¼Œä½†æ˜¯ç°åœ¨çš„å…¼å®¹æ€§è¿˜æ¯”è¾ƒæŸ¥\nGradleç›®å½•æ„ç»“ ç›®å½• åŠŸèƒ½ /build å°è£…ç¼–è¯‘åçš„æ–‡ä»¶ã€æµ‹è¯•æŠ¥å‘Š /gradle/wrapper/ å°è£…åŒ…è£…å™¨æ–‡ä»¶å¤¹ /src é€Ÿåº¦æœ€å¿«ï½œ /gradlew mac/linuxç«¯åŒ…è£…å™¨å¯åŠ¨è„šæœ¬ /gradlew.bat windowsç«¯åŒ…è£…å™¨å¯åŠ¨è„šæœ¬ /build.gradle æ„å»ºè„šæœ¬ï¼ˆç±»ä¼¼mavençš„pomï¼‰ /setting.gradle è®¾ç½®é¡¹ç›®ä¿¡æ¯ æ–‡ä»¶ç»“æ„ä¸mavenæå…¶ç›¸ä¼¼ğŸ«¤ï¼Œéƒ½æ˜¯åŸºäºçº¦å®šå¤§äºé…ç½®ï¼ˆConvention over configurationï¼‰çš„è®¾å®š\nå¸¸ç”¨å‘½ä»¤ å‘½ä»¤ ä½œç”¨ gradle clean gradle classes ç¼–è¯‘ä¸šåŠ¡ä»£ç å’Œé…ç½®æ–‡ä»¶ gradle test ç¼–è¯‘æµ‹è¯•ä»£ç ï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Šï½œ gradle build æ„å»ºé¡¹ç›® gradle build -x test è·³è¿‡æµ‹è¯•æ„å»º ä¸‹è½½æºé…ç½® åœ¨gradleå®‰è½¬ç›®å½•çš„init.","title":"Gradleæ„å»ºå·¥å…·"},{"content":"SpringBooté…ç½®å¯åŠ¨ èƒŒæ™¯ åœ¨å®é™…å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œé¡¹ç›®æ‰“åŒ…ä¸Šçº¿åéœ€è¦æ›´æ”¹ä¸€äº›é…ç½®ï¼Œå¦‚æœæ¯æ¬¡éƒ½éœ€è¦é‡æ–°åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šæ‰“åŒ…åä¸Šçº¿ï¼Œè¿™æ ·çš„æ“ä½œå…¶å®æ˜¯éå¸¸ç¹ççš„ï¼Œæ‰€ä»¥éœ€è¦æœ‰äº›è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶ï¼Œè®©é¡¹ç›®ä»¥è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶æ¥å¯åŠ¨é¡¹ç›®ã€‚ ä¹‹å‰è‡ªå·±åœ¨å®é™…çš„å¼€å‘ä¸­å…¶å®ä¹Ÿé‡åˆ°è¿‡è¿™æ ·çš„æƒ…å†µï¼Œé¡¹ç›®æ˜¯ç”¨åœ¨Windows serverä¸Šçš„ï¼Œéœ€è¦å¯¹æ–¹æ¥å®æ—¶è§‚æµ‹æ•°æ®çš„å‡†ç¡®æ€§æ¥è°ƒæ•´é…ç½®æ•°æ®ï¼Œé‚£æ—¶å€™å› ä¸ºåªæœ‰è¿™ä¸ªå°éœ€æ±‚ï¼Œä¹Ÿå°±æ²¡æœ‰å†™ä¸ªwebå‰ç«¯æ¥åšè°ƒæ•´äº†ï¼Œæ‰€ä»¥å°±æƒ³ç€ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¸©äº†å¾ˆå¤šå‘ï¼Œcsdnä¹Ÿæ²¡æœ‰å¾ˆå…¨é¢çš„è¯´æ˜ï¼Œè¿™æ¬¡è¿›è¡Œäº†æ·±å…¥çš„å­¦ä¹ ï¼Œè¿™è¾¹çš„é…ç½®æ˜¯é’ˆå¯¹äºspringbooté¡¹ç›®çš„\nå…³äºProfile application-profileä½¿ç”¨ æŒ‡å®šé…ç½®ç¯å¢ƒapplication-{env}.ymlï¼Œenvæ˜¯æˆ‘ä»¬çš„ç¯å¢ƒï¼Œä¸€èˆ¬application-prod.ymlä¸ºç”Ÿäº§ç¯å¢ƒä¸‹è¿è¡Œã€application-test.ymlä¸ºæµ‹è¯•ç¯å¢ƒä¸‹è¿è¡Œ æ¿€æ´»æŒ‡å®šç¯å¢ƒ é…ç½®æ–‡ä»¶æ¿€æ´» åœ¨application.ymlä¸­é…ç½®spring.profiles.activeæ¥æ¿€æ´»åˆ¶å®šçš„{env}ç¯å¢ƒ å‘½ä»¤è¡Œæ¿€æ´» java -jar xxx.jar \u0026ndash;spring.profiles.active=prod \u0026ndash; person.name=haha tips: é»˜è®¤é…ç½®å’Œç¯å¢ƒå˜é‡åŒæ—¶ç”Ÿæ•ˆ åŒåé…ç½®æŒ‰ä¼˜å…ˆçº§è¦†ç›–ï¼Œä¼˜å…ˆçº§ï¼šå‘½ä»¤è¡Œå‚æ•° \u0026gt; å‘½ä»¤è¡ŒæŒ‡å®šçš„ç¯å¢ƒé…ç½® \u0026gt; é»˜è®¤é…ç½®ç¯å¢ƒ SpringBootä¸­çš„@Profileæ³¨è§£ @Profileæ³¨è§£ä¸»è¦æ˜¯ç”¨äºæ¡ä»¶è£…é…ï¼Œå®ƒçš„å‚æ•°ä¸ºåˆ¶å®šçš„ç¯å¢ƒ\nimport lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.beans.factory.annotation.Value; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.context.annotation.Profile; import space.rexhub.boot05webadmin.bean.ConfigProperties; @Profile(\u0026#34;prod\u0026#34;) @Configuration @Slf4j public class ProdConfigure { @Value(\u0026#34;${rexhub.username}\u0026#34;) private String username; @Value(\u0026#34;${rexhub.password}\u0026#34;) private String password; @Bean public ConfigProperties configProperties(){ ConfigProperties configProperties = new ConfigProperties(); configProperties.setUsername(username); configProperties.setPassword(password); log.info(\u0026#34;prod: \u0026#34;+ configProperties); return configProperties; } } å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼Œå½“profileæ¿€æ´»äº†prodæ—¶ï¼Œæ‰ä¼šæŠŠä¸‹é¢çš„é…ç½®åŠ è½½åˆ°å®¹å™¨ä¸­ï¼Œè¿™ç§é…ç½®æ–¹å¼å¯ä»¥é’ˆå¯¹äºä¸åŒçš„ç¯å¢ƒé…ç½®ç‰¹å®šç¯å¢ƒä¸‹ç‰¹å®šçš„é…ç½®ä¿¡æ¯ï¼Œä¸éœ€è¦å†™åœ¨å¤–è¾¹é¢‘ç¹ä¿®æ”¹çš„ã€‚\nProfileåˆ†ç»„ åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿˜æœ‰ç§åˆ†ç»„çš„æ¦‚å¿µï¼Œå¯ä»¥å°†é…ç½®ç¯å¢ƒæŒ‰ç»„çš„å½¢å¼ä½¿ç”¨ã€‚ ä½¿ç”¨:\nåœ¨é…ç½®æ–‡ä»¶ä¸­åˆ†å¥½é…ç½®ç»„ spring: profiles: group: prodGroup[1]: prod prodGroup[2]: tencent åœ¨å‘½ä»¤è¡Œåˆ¶å®šéœ€è¦æ¿€æ´»çš„é…ç½®ç»„ java -jar xxx.jar --spring.profiles.active=prodGroup å…³äºå¤–éƒ¨é…ç½® å®˜æ–¹è¯´æ˜\nå¤–éƒ¨é…ç½®æº Javaå±æ€§æ–‡ä»¶ YAMLæ–‡ä»¶ ç³»ç»Ÿç¯å¢ƒå˜é‡ å‘½ä»¤è¡Œå‚æ•° é…ç½®æ–‡ä»¶æŸ¥æ‰¾çš„ä½ç½®ï¼ˆä»é‡Œåˆ°å¤–æŸ¥æ‰¾ï¼Œå¤–çš„è¦†ç›–é‡Œé¢çš„ï¼‰ classpath, æ ¹è·¯å¾„(srcä¸‹ï¼Œresourceä¸‹) classpathæ ¹è·¯å¾„ä¸‹çš„configç›®å½• jaråŒ…å½“å‰ç›®å½•ä¸‹ jaråŒ…è·¯å¾„ä¸‹çš„configè·¯å¾„ä¸‹ ç³»ç»Ÿæ ¹ç›®å½•ä¸‹çš„configçš„ç›´æ¥å­ç›®å½• é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº å½“å‰é¡¹ç›®å†…çš„application.ymlã€application.properties å½“å‰é¡¹ç›®å†…æŒ‡å®šæ¿€æ´»çš„application-{env}.ymlã€application-{env}.properties jaråŒ…å¤–éƒ¨çš„application.ymlã€application.properties jaråŒ…å¤–éƒ¨æŒ‡å®šæ¿€æ´»çš„application-{env}.ymlã€application-{env}.properties ","permalink":"https://rexhub.space/posts/back/java/framework/springboot/springboot%E9%85%8D%E7%BD%AE%E5%90%AF%E5%8A%A8/","summary":"SpringBooté…ç½®å¯åŠ¨ èƒŒæ™¯ åœ¨å®é™…å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œé¡¹ç›®æ‰“åŒ…ä¸Šçº¿åéœ€è¦æ›´æ”¹ä¸€äº›é…ç½®ï¼Œå¦‚æœæ¯æ¬¡éƒ½éœ€è¦é‡æ–°åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šæ‰“åŒ…åä¸Šçº¿ï¼Œè¿™æ ·çš„æ“ä½œå…¶å®æ˜¯éå¸¸ç¹ççš„ï¼Œæ‰€ä»¥éœ€è¦æœ‰äº›è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶ï¼Œè®©é¡¹ç›®ä»¥è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶æ¥å¯åŠ¨é¡¹ç›®ã€‚ ä¹‹å‰è‡ªå·±åœ¨å®é™…çš„å¼€å‘ä¸­å…¶å®ä¹Ÿé‡åˆ°è¿‡è¿™æ ·çš„æƒ…å†µï¼Œé¡¹ç›®æ˜¯ç”¨åœ¨Windows serverä¸Šçš„ï¼Œéœ€è¦å¯¹æ–¹æ¥å®æ—¶è§‚æµ‹æ•°æ®çš„å‡†ç¡®æ€§æ¥è°ƒæ•´é…ç½®æ•°æ®ï¼Œé‚£æ—¶å€™å› ä¸ºåªæœ‰è¿™ä¸ªå°éœ€æ±‚ï¼Œä¹Ÿå°±æ²¡æœ‰å†™ä¸ªwebå‰ç«¯æ¥åšè°ƒæ•´äº†ï¼Œæ‰€ä»¥å°±æƒ³ç€ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¸©äº†å¾ˆå¤šå‘ï¼Œcsdnä¹Ÿæ²¡æœ‰å¾ˆå…¨é¢çš„è¯´æ˜ï¼Œè¿™æ¬¡è¿›è¡Œäº†æ·±å…¥çš„å­¦ä¹ ï¼Œè¿™è¾¹çš„é…ç½®æ˜¯é’ˆå¯¹äºspringbooté¡¹ç›®çš„\nå…³äºProfile application-profileä½¿ç”¨ æŒ‡å®šé…ç½®ç¯å¢ƒapplication-{env}.ymlï¼Œenvæ˜¯æˆ‘ä»¬çš„ç¯å¢ƒï¼Œä¸€èˆ¬application-prod.ymlä¸ºç”Ÿäº§ç¯å¢ƒä¸‹è¿è¡Œã€application-test.ymlä¸ºæµ‹è¯•ç¯å¢ƒä¸‹è¿è¡Œ æ¿€æ´»æŒ‡å®šç¯å¢ƒ é…ç½®æ–‡ä»¶æ¿€æ´» åœ¨application.ymlä¸­é…ç½®spring.profiles.activeæ¥æ¿€æ´»åˆ¶å®šçš„{env}ç¯å¢ƒ å‘½ä»¤è¡Œæ¿€æ´» java -jar xxx.jar \u0026ndash;spring.profiles.active=prod \u0026ndash; person.name=haha tips: é»˜è®¤é…ç½®å’Œç¯å¢ƒå˜é‡åŒæ—¶ç”Ÿæ•ˆ åŒåé…ç½®æŒ‰ä¼˜å…ˆçº§è¦†ç›–ï¼Œä¼˜å…ˆçº§ï¼šå‘½ä»¤è¡Œå‚æ•° \u0026gt; å‘½ä»¤è¡ŒæŒ‡å®šçš„ç¯å¢ƒé…ç½® \u0026gt; é»˜è®¤é…ç½®ç¯å¢ƒ SpringBootä¸­çš„@Profileæ³¨è§£ @Profileæ³¨è§£ä¸»è¦æ˜¯ç”¨äºæ¡ä»¶è£…é…ï¼Œå®ƒçš„å‚æ•°ä¸ºåˆ¶å®šçš„ç¯å¢ƒ\nimport lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.beans.factory.annotation.Value; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.context.annotation.Profile; import space.rexhub.boot05webadmin.bean.ConfigProperties; @Profile(\u0026#34;prod\u0026#34;) @Configuration @Slf4j public class ProdConfigure { @Value(\u0026#34;${rexhub.username}\u0026#34;) private String username; @Value(\u0026#34;${rexhub.password}\u0026#34;) private String password; @Bean public ConfigProperties configProperties(){ ConfigProperties configProperties = new ConfigProperties(); configProperties.setUsername(username); configProperties.setPassword(password); log.info(\u0026#34;prod: \u0026#34;+ configProperties); return configProperties; } } å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼Œå½“profileæ¿€æ´»äº†prodæ—¶ï¼Œæ‰ä¼šæŠŠä¸‹é¢çš„é…ç½®åŠ è½½åˆ°å®¹å™¨ä¸­ï¼Œè¿™ç§é…ç½®æ–¹å¼å¯ä»¥é’ˆå¯¹äºä¸åŒçš„ç¯å¢ƒé…ç½®ç‰¹å®šç¯å¢ƒä¸‹ç‰¹å®šçš„é…ç½®ä¿¡æ¯ï¼Œä¸éœ€è¦å†™åœ¨å¤–è¾¹é¢‘ç¹ä¿®æ”¹çš„ã€‚","title":"SpringBooté…ç½®å¯åŠ¨"},{"content":"Druidæ•°æ®åº“è¿æ¥æ±  æ¦‚è¿° ä»€ä¹ˆæ˜¯è¿æ¥æ± ï¼ŸğŸ¤” Javaè¿æ¥æ•°æ®åº“æœ‰å¾ˆå¤šä¸­æ–¹å¼ï¼Œæœ€åŸå§‹çš„æ–¹å¼å°±æ˜¯ç›´æ¥ä½¿ç”¨æ•°æ®åº“é©±åŠ¨è¿æ¥æ•°æ®åº“ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æœ‰å¾ˆå¤šçš„å¼Šç«¯ï¼Œå¦‚æ¯æ¬¡æ‰§è¡Œsqléƒ½éœ€è¦åˆ›å»ºå’Œå…³é—­æ•°æ®åº“è¿æ¥å™¨ï¼Œéœ€è¦æ¶ˆè€—å¤§é‡çš„èµ„æºï¼Œå¦‚æœæ²¡å…³é—­æˆåŠŸè¿˜ä¼šå¯¼è‡´å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œä»¥åŠä¸€äº›çº¿ç¨‹é—®é¢˜ã€‚è€Œæ•°æ®åº“è¿æ¥æ± ä¸»è¦åšçš„æ˜¯ï¼Œé¢„å…ˆåˆ›å»ºå¥½ä¸€å®šé‡çš„æ•°æ®åº“è¿æ¥æ”¾åˆ°æ± å­ä¸­ï¼Œå½“éœ€è¦æ‰§è¡Œsqlè¯­å¥çš„æ—¶å€™å–å‡ºä¸€ä¸ªæ•°æ®åº“è¿æ¥æ‰§è¡Œsqlè¯­å¥ï¼Œç”¨å®Œäº†æ”¾å›å»ï¼Œå¦‚æœç³»ç»Ÿå…³é—­åˆ™æ–­å¼€æ‰€æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œå¹¶é‡Šæ”¾å†…å­˜ã€‚\nå¸¸è§çš„æ•°æ®åº“è¿æ¥æ± çš„é…ç½®å‚æ•° url æ•°æ®åº“åœ°å€ username æ•°æ®åº“è´¦å· password æ•°æ®åº“å¯†ç  driverClassName æ•°æ®åº“é©±åŠ¨ maxActive æ± å­ä¸­æ”¯æŒçš„æœ€å¤§è¿æ¥æ•°ï¼ˆä¸€èˆ¬æ˜¯å¯èƒ½çš„å¹¶å‘çš„æ•°é‡ï¼‰ maxIdle æ± å­ä¸­è¿æ¥æœ€å¤§çš„ç©ºé—²æ•°ã€‚ï¼ˆå³ä½¿æ²¡æœ‰ä½¿ç”¨è¿æ¥ï¼Œæ± å­é‡Œä¹Ÿä¼šæœ‰maxIdleä¸ªè¿æ¥ï¼‰ minIdle æ± å­ä¸­è¿æ¥æœ€å°çš„ç©ºé—²æ•°ã€‚ï¼ˆå½“è¿æ¥å°‘äºè¿™ä¸ªå€¼ï¼Œæ± å­ä¼šè‡ªåŠ¨åˆ›å»ºè¿æ¥è¡¥å……åˆ°è¿™ä¸ªå€¼ï¼‰ initialSize æ± å­ä¸­ä¸€å¼€å§‹çš„è¿æ¥æ•° maxWait è¿æ¥æœ€å¤§çš„ç­‰å¾…æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ä¼šæŠ¥é”™ï¼Œ-1çš„è¯å°±æ˜¯æ— é™ç­‰å¾… å¸¸è§çš„æ•°æ®åº“è¿æ¥æ±  HikariCP Hikariåœ¨æ—¥è¯­ä¸­æ˜¯å…‰çš„æ„æ€ï¼Œä¸»æ‰“é«˜æ€§èƒ½é«˜æ•ˆç‡ã€‚SpringBooté»˜è®¤çš„æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨çš„å°±æ˜¯HikariCPã€‚ä»–çš„ä¼˜ç‚¹åœ¨äº æœ‰ç²¾ç®€çš„å­—èŠ‚ç (ä»£ç é‡æ¯”è¾ƒå°‘) ä¼˜åŒ–äº†ä»£ç†å’Œæ‹¦æˆªå™¨ å®šä¹‰äº†é›†åˆç±»å‹ï¼šConcurrentBagæé«˜å¹¶å‘è¯»å†™æ•ˆç‡ Druid Druidæ˜¯Alibabaçš„ä¸€ä¸ªå¼€æºçš„æ•°æ®åº“è¿æ¥æ± ï¼ŒğŸ˜²å®˜æ–¹è‡ªç§°Javaæœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ï¼Œï¼ˆä½†æ˜¯å®æµ‹HikariCPçš„æ€§èƒ½è¦æ›´å¼ºğŸ¤ªï¼‰ä¸è¿‡æˆ‘è§‰å¾—é™¤äº†æ€§èƒ½ä¹‹å¤–ä¹Ÿè¦ç»¼åˆè€ƒè™‘å…¶ä»–çš„åŠŸèƒ½ã€‚Druidé›†æˆäº†å¼ºå¤§çš„ç›‘æ§åŠŸèƒ½ï¼ˆSQLã€Webã€Sessionç­‰ç­‰ï¼‰ã€é»‘ç™½åå•æ‹¦æˆªï¼Œè¿™ç‚¹æˆ‘è§‰å¾—åœ¨çœŸå®çš„ç”Ÿäº§ç¯èŠ‚ä¸­æœ‰å¾ˆå¤§ä¼˜åŠ¿ï¼Œå¯ä»¥æ ¹æ®ç›‘æ§çš„ä¿¡æ¯è°ƒæ•´é¡¹ç›®ä½¿ä¹‹å˜å¾—æ›´é«˜æ•ˆã€‚ DBCPã€C3P0 è¿™ä¿©æ¬¾ç”¨çš„å¥½åƒæ¯”è¾ƒå°‘ï¼Œå°±ä¸å¤šä»‹ç»äº†ã€‚ Druid æ­£ç‰‡å¼€å§‹ï¼Œè¿™å‡ å¤©å­¦ä¹ äº†Druidå‘ç°ï¼ŒDruidä¸ä»…ä»…æ˜¯åœ¨æ•°æ®åº“è¿æ¥æ± çš„æ€§èƒ½æ–¹é¢åšçš„å¾ˆå¥½ï¼Œè€Œä¸”è¿˜æœ‰å¼ºå¤§çš„ç›‘æ§åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨æ­¤è®°å½•ä¸‹ä»–å’ŒSpringBootçš„æ­é…ã€‚é…ç½®å‚è€ƒDruidçš„å®˜æ–¹æ–‡æ¡£ï¼Œå®˜æ–¹ä»‹ç»çš„ç¡®å®å¾ˆè¯¦ç»†äº†ï¼Œä¸è¿‡æˆ‘è¿™è¾¹è®°å½•çš„ä¼šå’Œå®˜æ–¹æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä½¿ç”¨çš„æœ‰è‡ªåŠ¨è£…é…çš„druid\né›†æˆSpringBoot é…ç½®Mavenï¼Œå¼•å…¥druid \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.13\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨é‡Œé¢çš„DruidDataSourceAutoConfigureæ–‡ä»¶å·²ç»å¯¹druidåšäº†å¤§é‡é…ç½®ï¼ŒæŒ‰ç…§å®˜æ–¹è¿˜éœ€è¦å†™é…ç½®ç±»æ¥é…ç½®druidä¸€äº›è¿æ¥ä¿¡æ¯ï¼ˆæ•°æ®åº“è¿æ¥ä¿¡æ¯ã€ç›‘æ§é…ç½®ç­‰ç­‰ï¼‰ï¼Œè€Œè¿™è¾¹å¤§éƒ¨åˆ†çš„é…ç½®åªéœ€è¦å†™åœ¨application.yml/application.propertiesé‡Œå°±å¥½äº†ï¼Œå‰©ä¸‹çš„å°±è®©DruidDataSourceAutoConfigureæ¥å°†è¿™äº›é…ç½®ç»‘å®šåœ¨druidä¸Šå°±å¥½ã€‚æ‰€ä»¥æ¥ä¸‹æ¥çš„ä¸€æ­¥ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå°±æ˜¯å†™é…ç½®æ–‡ä»¶ ç¼–å†™é…ç½®ä¿¡æ¯ spring: datasource: url: jdbc:mysql://localhost:3306/proj_template?serverTimezone=Asia/Shanghai\u0026amp;useUnicode=true\u0026amp;charsetEncoding=utf-8\u0026amp;useSSL=true\u0026amp;allowPublicKeyRetrieval=true username: root password: root driver-class-name: com.mysql.cj.jdbc.Driver druid: filter: slf4j: enabled: true # å¼€å¯æ—¥å¿—åŠŸèƒ½ wall: enabled: true # å¼€å¯é˜²ç«å¢™åŠŸèƒ½ stat: enabled: true # å¼€å¯sqlç›‘æ§åŠŸèƒ½ slow-sql-millis: 1000 # é…ç½®SQLæ…¢çš„æ ‡å‡† log-slow-sql: true # æ˜¯å¦å¼€å¯è®°å½•æ‰§è¡Œæ…¢çš„sql stat-view-servlet: enabled: true # å¼€å¯ç›‘æ§é¡µåŠŸèƒ½ login-username: rex # ç›‘æ§é¡µç™»å½•è´¦å· login-password: pwdofrex # ç›‘æ§é¡µç™»å½•å¯†ç  reset-enable: false # é…ç½®æ˜¯å¦å…è®¸é‡ç½®ç›‘æ§ä¿¡æ¯ web-stat-filter: enabled: true # å¼€å¯webç›‘æ§ exclusions: \u0026#34;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*\u0026#34; # webç›‘æ§ç™½åå• ","permalink":"https://rexhub.space/posts/back/java/jdbctool/druid%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/","summary":"Druidæ•°æ®åº“è¿æ¥æ±  æ¦‚è¿° ä»€ä¹ˆæ˜¯è¿æ¥æ± ï¼ŸğŸ¤” Javaè¿æ¥æ•°æ®åº“æœ‰å¾ˆå¤šä¸­æ–¹å¼ï¼Œæœ€åŸå§‹çš„æ–¹å¼å°±æ˜¯ç›´æ¥ä½¿ç”¨æ•°æ®åº“é©±åŠ¨è¿æ¥æ•°æ®åº“ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æœ‰å¾ˆå¤šçš„å¼Šç«¯ï¼Œå¦‚æ¯æ¬¡æ‰§è¡Œsqléƒ½éœ€è¦åˆ›å»ºå’Œå…³é—­æ•°æ®åº“è¿æ¥å™¨ï¼Œéœ€è¦æ¶ˆè€—å¤§é‡çš„èµ„æºï¼Œå¦‚æœæ²¡å…³é—­æˆåŠŸè¿˜ä¼šå¯¼è‡´å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œä»¥åŠä¸€äº›çº¿ç¨‹é—®é¢˜ã€‚è€Œæ•°æ®åº“è¿æ¥æ± ä¸»è¦åšçš„æ˜¯ï¼Œé¢„å…ˆåˆ›å»ºå¥½ä¸€å®šé‡çš„æ•°æ®åº“è¿æ¥æ”¾åˆ°æ± å­ä¸­ï¼Œå½“éœ€è¦æ‰§è¡Œsqlè¯­å¥çš„æ—¶å€™å–å‡ºä¸€ä¸ªæ•°æ®åº“è¿æ¥æ‰§è¡Œsqlè¯­å¥ï¼Œç”¨å®Œäº†æ”¾å›å»ï¼Œå¦‚æœç³»ç»Ÿå…³é—­åˆ™æ–­å¼€æ‰€æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œå¹¶é‡Šæ”¾å†…å­˜ã€‚\nå¸¸è§çš„æ•°æ®åº“è¿æ¥æ± çš„é…ç½®å‚æ•° url æ•°æ®åº“åœ°å€ username æ•°æ®åº“è´¦å· password æ•°æ®åº“å¯†ç  driverClassName æ•°æ®åº“é©±åŠ¨ maxActive æ± å­ä¸­æ”¯æŒçš„æœ€å¤§è¿æ¥æ•°ï¼ˆä¸€èˆ¬æ˜¯å¯èƒ½çš„å¹¶å‘çš„æ•°é‡ï¼‰ maxIdle æ± å­ä¸­è¿æ¥æœ€å¤§çš„ç©ºé—²æ•°ã€‚ï¼ˆå³ä½¿æ²¡æœ‰ä½¿ç”¨è¿æ¥ï¼Œæ± å­é‡Œä¹Ÿä¼šæœ‰maxIdleä¸ªè¿æ¥ï¼‰ minIdle æ± å­ä¸­è¿æ¥æœ€å°çš„ç©ºé—²æ•°ã€‚ï¼ˆå½“è¿æ¥å°‘äºè¿™ä¸ªå€¼ï¼Œæ± å­ä¼šè‡ªåŠ¨åˆ›å»ºè¿æ¥è¡¥å……åˆ°è¿™ä¸ªå€¼ï¼‰ initialSize æ± å­ä¸­ä¸€å¼€å§‹çš„è¿æ¥æ•° maxWait è¿æ¥æœ€å¤§çš„ç­‰å¾…æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ä¼šæŠ¥é”™ï¼Œ-1çš„è¯å°±æ˜¯æ— é™ç­‰å¾… å¸¸è§çš„æ•°æ®åº“è¿æ¥æ±  HikariCP Hikariåœ¨æ—¥è¯­ä¸­æ˜¯å…‰çš„æ„æ€ï¼Œä¸»æ‰“é«˜æ€§èƒ½é«˜æ•ˆç‡ã€‚SpringBooté»˜è®¤çš„æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨çš„å°±æ˜¯HikariCPã€‚ä»–çš„ä¼˜ç‚¹åœ¨äº æœ‰ç²¾ç®€çš„å­—èŠ‚ç (ä»£ç é‡æ¯”è¾ƒå°‘) ä¼˜åŒ–äº†ä»£ç†å’Œæ‹¦æˆªå™¨ å®šä¹‰äº†é›†åˆç±»å‹ï¼šConcurrentBagæé«˜å¹¶å‘è¯»å†™æ•ˆç‡ Druid Druidæ˜¯Alibabaçš„ä¸€ä¸ªå¼€æºçš„æ•°æ®åº“è¿æ¥æ± ï¼ŒğŸ˜²å®˜æ–¹è‡ªç§°Javaæœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ï¼Œï¼ˆä½†æ˜¯å®æµ‹HikariCPçš„æ€§èƒ½è¦æ›´å¼ºğŸ¤ªï¼‰ä¸è¿‡æˆ‘è§‰å¾—é™¤äº†æ€§èƒ½ä¹‹å¤–ä¹Ÿè¦ç»¼åˆè€ƒè™‘å…¶ä»–çš„åŠŸèƒ½ã€‚Druidé›†æˆäº†å¼ºå¤§çš„ç›‘æ§åŠŸèƒ½ï¼ˆSQLã€Webã€Sessionç­‰ç­‰ï¼‰ã€é»‘ç™½åå•æ‹¦æˆªï¼Œè¿™ç‚¹æˆ‘è§‰å¾—åœ¨çœŸå®çš„ç”Ÿäº§ç¯èŠ‚ä¸­æœ‰å¾ˆå¤§ä¼˜åŠ¿ï¼Œå¯ä»¥æ ¹æ®ç›‘æ§çš„ä¿¡æ¯è°ƒæ•´é¡¹ç›®ä½¿ä¹‹å˜å¾—æ›´é«˜æ•ˆã€‚ DBCPã€C3P0 è¿™ä¿©æ¬¾ç”¨çš„å¥½åƒæ¯”è¾ƒå°‘ï¼Œå°±ä¸å¤šä»‹ç»äº†ã€‚ Druid æ­£ç‰‡å¼€å§‹ï¼Œè¿™å‡ å¤©å­¦ä¹ äº†Druidå‘ç°ï¼ŒDruidä¸ä»…ä»…æ˜¯åœ¨æ•°æ®åº“è¿æ¥æ± çš„æ€§èƒ½æ–¹é¢åšçš„å¾ˆå¥½ï¼Œè€Œä¸”è¿˜æœ‰å¼ºå¤§çš„ç›‘æ§åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨æ­¤è®°å½•ä¸‹ä»–å’ŒSpringBootçš„æ­é…ã€‚é…ç½®å‚è€ƒDruidçš„å®˜æ–¹æ–‡æ¡£ï¼Œå®˜æ–¹ä»‹ç»çš„ç¡®å®å¾ˆè¯¦ç»†äº†ï¼Œä¸è¿‡æˆ‘è¿™è¾¹è®°å½•çš„ä¼šå’Œå®˜æ–¹æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä½¿ç”¨çš„æœ‰è‡ªåŠ¨è£…é…çš„druid\né›†æˆSpringBoot é…ç½®Mavenï¼Œå¼•å…¥druid \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.13\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨é‡Œé¢çš„DruidDataSourceAutoConfigureæ–‡ä»¶å·²ç»å¯¹druidåšäº†å¤§é‡é…ç½®ï¼ŒæŒ‰ç…§å®˜æ–¹è¿˜éœ€è¦å†™é…ç½®ç±»æ¥é…ç½®druidä¸€äº›è¿æ¥ä¿¡æ¯ï¼ˆæ•°æ®åº“è¿æ¥ä¿¡æ¯ã€ç›‘æ§é…ç½®ç­‰ç­‰ï¼‰ï¼Œè€Œè¿™è¾¹å¤§éƒ¨åˆ†çš„é…ç½®åªéœ€è¦å†™åœ¨application.yml/application.propertiesé‡Œå°±å¥½äº†ï¼Œå‰©ä¸‹çš„å°±è®©DruidDataSourceAutoConfigureæ¥å°†è¿™äº›é…ç½®ç»‘å®šåœ¨druidä¸Šå°±å¥½ã€‚æ‰€ä»¥æ¥ä¸‹æ¥çš„ä¸€æ­¥ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå°±æ˜¯å†™é…ç½®æ–‡ä»¶ ç¼–å†™é…ç½®ä¿¡æ¯ spring: datasource: url: jdbc:mysql://localhost:3306/proj_template?serverTimezone=Asia/Shanghai\u0026amp;useUnicode=true\u0026amp;charsetEncoding=utf-8\u0026amp;useSSL=true\u0026amp;allowPublicKeyRetrieval=true username: root password: root driver-class-name: com.mysql.cj.jdbc.Driver druid: filter: slf4j: enabled: true # å¼€å¯æ—¥å¿—åŠŸèƒ½ wall: enabled: true # å¼€å¯é˜²ç«å¢™åŠŸèƒ½ stat: enabled: true # å¼€å¯sqlç›‘æ§åŠŸèƒ½ slow-sql-millis: 1000 # é…ç½®SQLæ…¢çš„æ ‡å‡† log-slow-sql: true # æ˜¯å¦å¼€å¯è®°å½•æ‰§è¡Œæ…¢çš„sql stat-view-servlet: enabled: true # å¼€å¯ç›‘æ§é¡µåŠŸèƒ½ login-username: rex # ç›‘æ§é¡µç™»å½•è´¦å· login-password: pwdofrex # ç›‘æ§é¡µç™»å½•å¯†ç  reset-enable: false # é…ç½®æ˜¯å¦å…è®¸é‡ç½®ç›‘æ§ä¿¡æ¯ web-stat-filter: enabled: true # å¼€å¯webç›‘æ§ exclusions: \u0026#34;*.","title":"Druidæ•°æ®åº“è¿æ¥æ± "},{"content":"SpringBootæºç åˆ†æï¼ˆè¯·æ±‚éƒ¨åˆ†ï¼‰ å¼•è¨€ ğŸ‘€çœ‹äº†å°šç¡…è°·é›·ç¥çš„SpringBoot2æºç åˆ†æï¼Œé¢‡æœ‰æ„Ÿè§¦ğŸ¤™ï¼Œè¯·æ±‚å¤„ç†è¿™éƒ¨åˆ†çš„æºç çœŸçš„æ˜¯å¤ªç²¾å½©äº†ï¼Œå†³å®šè‡ªå·±åœ¨å¥½å¥½çš„debugå‡ æ¬¡ï¼Œå†è®°å½•ä¸‹ç¬”è®°ï¼ä»¥å‰ä¸ç†è§£ä»€ä¹ˆå«ä½œâ€œæ¡†æ¶ = è®¾è®¡æ¨¡å¼ + åå°„ + æ³¨è§£â€ï¼Œè§‰å¾—è®¾è®¡æ¨¡å¼ä¸å°±æ˜¯ä¸€äº›ä»£ç é£æ ¼ï¼Œåå°„ä¸å°±æ˜¯è¿è¡Œæ—¶åŠ¨æ€è·å–ç±»çš„å†…éƒ¨ä¿¡æ¯å¹¶æ‰§è¡Œå…¶çš„ä¸€äº›æ–¹æ³•ï¼Œæ³¨è§£ä¸å°±æ˜¯å®šä¹‰è¡¥å……ä¹ˆã€‚ä½†çœ‹äº†SpringBootæºç åæ‰çŸ¥é“å¦‚æœæ²¡æœ‰è®¾è®¡æ¨¡å¼ï¼Œæœ‰äº›å¤æ‚é€»è¾‘çš„ä»£ç ä¸åšä¸€äº›å°è£…ğŸ“¦å¤„ç†çš„è¯å°±ä¼šå˜æˆğŸ’©å±±ä»£ç ï¼Œæ•ˆç‡ä½ã€éš¾ç†è§£ã€éš¾æ‰©å±•ã€‚è€Œé€šè¿‡åå°„ï¼Œå¯ä»¥ä½¿å¾—æ¡†æ¶æœ‰æ›´é«˜çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚ä½¿ç”¨æ³¨è§£åˆ™å¯ä»¥ä½¿ä»£ç æ›´åŠ ç®€æ´ã€‚\næ¥å£åˆ›å»º SpringBootçš„ç‰¹ç‚¹å¼€ç®±å³ç”¨ï¼Œå³å†…éƒ¨å·²ç»ä¸ºæˆ‘ä»¬åšäº†å¤§é‡çš„é…ç½®ï¼ŒåŒ…æ‹¬è¯·æ±‚å‚æ•°è§£æã€æ•°æ®å“åº”ã€å†…å®¹åå•†ç­‰ç­‰ï¼Œå¦‚æœæ˜¯ç”¨ä¼ ç»Ÿçš„servlet(SpringBootåº•å±‚å·²ç»å°è£…äº†tomcat)ä¼šå˜å¾—æå…¶å¤æ‚ï¼Œè€Œspringbootæˆ‘ä»¬åªéœ€è¦å‡ ä¸ªæ³¨è§£å°±å¯ä»¥å®Œæˆä¸€ä¸ªç®€å•çš„æ¥å£ã€‚ Example:\n@GetMapping(\u0026#34;/girl\u0026#34;) public String getGirlFriend(@RequestParam String girlfriend){ return String.format(\u0026#34;Get a girlfriend: %s\u0026#34;, girlfriend); } è¿™æ ·å°±æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä½¿ç”¨GetMappingæ¥è¯´æ˜è¯·æ±‚æ–¹å¼(\u0026ldquo;get\u0026rdquo;)å’Œè¯·æ±‚è·¯å¾„(\u0026quot;/girl\u0026quot;), å¯ä»¥ç”¨urlæ‹¼æ¥å‚æ•°çš„æ–¹å¼ä¼ å‚æ•°ï¼ˆ\u0026quot;/girl?girlfriend=xxx\u0026quot;ï¼‰ã€‚æŒ‰ç…§ä»¥å‰sevletï¼Œè·å–å‚æ•°éœ€è¦request.getParameter(\u0026ldquo;girlfriend\u0026rdquo;),postæ–¹æ³•åˆ™è¦ä»request.getInputStream()è·å–BufferReaderåå†åšå¤„ç†ï¼›è¿”å›å€¼æƒ³è¦è¿”å›jsonæ ¼å¼ï¼Œéœ€è¦ç”¨å·¥å…·ç±»ï¼Œå°†å¯¹è±¡æ‹¼æ¥æˆjsonæ ¼å¼ï¼Œç„¶åç”¨response.getWriter().println(girlfriend)å†™å‡ºï¼Œå¦‚æœæ˜¯ä¸­æ–‡è¿˜éœ€è¦è¿›è¡Œç¼–ç å¤„ç†ã€‚è€Œç°åœ¨è¿™äº›ç¹çå¹¶ä¸”é‡å¤çš„æ“ä½œspringbootå…¨åšäº†å¤„ç†ï¼Œä½¿æˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­åªéœ€è¦æ³¨æ„ä¸šåŠ¡éƒ¨åˆ†çš„ä»£ç å®ç°ã€‚\nè¯·æ±‚å¤„ç†è¿‡ç¨‹æ¦‚è§ˆ è¯·æ±‚æ˜ å°„ å¤„ç†å¹¶è·å–è¯·æ±‚å‚æ•° è°ƒç”¨ç›®æ ‡æ–¹æ³• æ•°æ®å“åº”ä¸å†…å®¹åå•† è¯·æ±‚æ˜ å°„ è¯·æ±‚è¿›æ¥ä¼šè¿›åˆ°DispatchServlet.doDispatch()(Tips: DispatchServletæ˜¯HttpServletçš„ä¸€ä¸ªå­ç±»ï¼Œç”±Springè¿›è¡Œå°è£…)ä¸­ï¼ŒSpringMVCåŠŸèƒ½åˆ†æéƒ½ä»è¿™ä¸ªç±»å¼€å§‹åˆ†æ protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { HttpServletRequest processedRequest = request; HandlerExecutionChain mappedHandler = null; boolean multipartRequestParsed = false; WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request); try { ModelAndView mv = null; Exception dispatchException = null; try { processedRequest = checkMultipart(request); multipartRequestParsed = (processedRequest != request); // æ‰¾åˆ°å½“å‰è¯·æ±‚ä½¿ç”¨å“ªä¸ªHandlerï¼ˆControllerçš„æ–¹æ³•ï¼‰å¤„ç† // Determine handler for the current request. mappedHandler = getHandler(processedRequest); //HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„ã€‚ .... getHandler(processedRequest)ï¼šæ‰¾åˆ°å¯ä»¥å¤„ç†å½“å‰è¯·æ±‚çš„handler åœ¨springä¸­å·²ç»é¢„å®šä¹‰äº†5ä¸ªå¸¸ç”¨çš„è¯·æ±‚å¤„ç†å™¨ 1. RequestMappingHandlerMapping: ç”¨äºè¯·æ±‚ï¼Œä¿å­˜äº†æ‰€æœ‰@RequestMapping å’Œhandlerçš„æ˜ å°„è§„åˆ™ã€‚ 2. WelcomPageHandlerMapping: ç”¨äºå¤„ç†æ¬¢è¿é¡µ 3. BeanNameUrlHandlerMapping: å¤„ç†å®¹å™¨ä¸­ä»¥/å¼€å¤´çš„bean 4. RouterFuntionMapping: å¤„ç†RouterFunctionå‘èµ·çš„è¯·æ±‚ 5. SimpleUrlHandlerMapping: å¤„ç†è¯·æ±‚çš„æ˜ å°„å…³ç³» getHandler: æŒ¨ä¸ªå°è¯•æ‰€æœ‰çš„HandlerMappingçœ‹æ˜¯å¦æœ‰è¯·æ±‚ä¿¡æ¯ protected HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception { if (this.handlerMappings != null) { for (HandlerMapping mapping : this.handlerMappings) { // æŒ¨ä¸ªå°è¯•HandlerMappingçœ‹çœ‹æ˜¯å¦æœ‰è¯·æ±‚ä¿¡æ¯ HandlerExecutionChain handler = mapping.getHandler(request); if (handler != null) { return handler; } } } return null; } å¤„ç†å¹¶è·å–è¯·æ±‚å‚æ•° å¤§ä½“æ€è·¯ ä¸ºå½“å‰Handleræ‰¾ä¸€ä¸ªé€‚é…å™¨HandlerAdapter é€‚é…å™¨æ‰§è¡Œç›®æ ‡æ–¹æ³•çš„åŒæ—¶è§£ææ¯ä¸ªå‚æ•° è¯¦è§£ é¢„å®šä¹‰äº†å¸¸ç”¨çš„äº”ä¸ªé€‚é…å™¨ RequestMappingHandlerAdapter: æ”¯æŒæ–¹æ³•ä¸Šæ ‡æ³¨@RequestMapping HandlerFunctionAdapter: æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹çš„ HttpRequestHandlerAdapter: httpè¯·æ±‚å¤„ç†å™¨é€‚é…å™¨ SimpleControllerHandlerAdapter: ç®€å•æ§åˆ¶å™¨å¤„ç†å™¨é€‚é…å™¨ doDispatchè°ƒç”¨getHandlerAdapter protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { ... // Determine handler adapter for the current request. HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler()); ... } getHandlerAdapterï¼Œæ‰¾åˆ°å¯ä»¥å¤„ç†å½“å‰è¯·æ±‚çš„handler protected HandlerAdapter getHandlerAdapter(Object handler) throws ServletException { if (this.handlerAdapters != null) { for (HandlerAdapter adapter: this.handlerAdapters) { // éå†ç³»ç»Ÿä¸­çš„é€‚é…å™¨ï¼Œçœ‹çœ‹å“ªç§æ”¯æŒå¤„ç†å½“å‰è¯·æ±‚çš„handler if (adapter.supports(handler)) { return adapter; } } } } æ‰§è¡Œç›®æ ‡æ–¹æ³• protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { ... // è°ƒç”¨å¤„ç†å™¨æ‰§è¡Œç›®æ ‡æ–¹æ³• mv = ha.handle(processedRequest, response, mappedHandler.getHandler()); ... } ha.handle(\u0026hellip;) â†’ AbstractHandlerMethodAdapter.handleInternal(\u0026hellip;) â†’ RequestMappingHandlerAdapter.invokeHandlerMethod(\u0026hellip;) â†’ ServletInvocableHandlerMethod.invokeAndHandle(\u0026hellip;) â†’ InvocableHandlerMethod.getMethodArgumentValues(\u0026hellip;) æ‰¾åˆ°åˆé€‚çš„å‚æ•°è§£æå™¨-HandlerMethodArgumentResolver ç”¨äºè§£æå‚æ•°çš„å€¼ é¢„å®šä¹‰çš„å‚æ•°è§£æå™¨æœ‰27ç§ RequestParamMethodArgumentResolver: ç”¨äºè§£æ@Paramçš„å‚æ•° RequestParamMapMethodArgumentResolver: ç”¨äºè§£æ@Param Mapæ ¼å¼çš„å‚æ•° PathVariableMethodArgumentResolver: ç”¨äºè§£æ@PathVariableè·¯å¾„å˜é‡ \u0026hellip; åˆ¤æ–­æ˜¯å¦æ”¯æŒè¯¥å‚æ•°è§£æå™¨ protected Object[] getMethodArgumentValues(NativeWebRequest request, @Nullable ModelAndViewContainer mavContainer, Object... providedArgs) throws Exception { ... for (int i = 0; i \u0026lt; parameters.length; i++) { MethodParameter parameter = parameters[i]; ... // åˆ¤æ–­è§£æå™¨æ˜¯å¦æ”¯æŒè§£æè¯¥å‚æ•° if (!this.resolvers.supportsParameter(parameter)) { throw new IllegalStateException(formatArgumentError(parameter, \u0026#34;No suitable resolver\u0026#34;)); } } } å¦‚æœæ”¯æŒåˆ™è°ƒç”¨å‚æ•°è§£æå™¨çš„resolveArgument()æ–¹æ³• protected Object[] getMethodArgumentValues(NativeWebRequest request, @Nullable ModelAndViewContainer mavContainer, Object... providedArgs) throws Exception { ... // è§£ææŒ‡å®šå‚æ•° args[i] = this.resolvers.resolveArgument(parameter, mavContainer, request, this.dataBinderFactory); ... } public Object resolveArgument(MethodParameter parameter, @Nullable ModelAndViewContainer mavContainer, NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) throws Exception { // è·å–å¯ä»¥è§£æè¯¥å‚æ•°çš„å‚æ•°è§£æå™¨ HandlerMethodArgumentResolver resolver = getArgumentResolver(parameter); if (resolver == null) { throw new IllegalArgumentException(\u0026#34;Unsupported parameter type [\u0026#34; + parameter.getParameterType().getName() + \u0026#34;]. supportsParameter should be called first.\u0026#34;); } // è§£ææ–¹æ³•çš„å‚æ•° return resolver.resolveArgument(parameter, mavContainer, webRequest, binderFactory); } åˆã€‚ã€‚ã€‚åœ¨getArgumentResolver()é‡Œè·å–åˆé€‚çš„è§£æå™¨ï¼Œæ„Ÿè§‰è¿™è¾¹åšçš„æœ‰ç‚¹é‡å¤äº†(é‡Œé¢æ ¡éªŒæ˜¯å¦æ”¯æŒå‚æ•°è§£æå™¨)ï¼Œæ‰¾åˆ°äº†å‚æ•°è§£æå™¨åå†æ‰§è¡Œè§£æå™¨çš„resolveArgumentï¼ˆ\u0026hellip;) è¿™è¾¹æ¼”ç¤ºè°ƒç”¨çš„æ˜¯AbstractNamedValueMethodArgumentResolverä¸­çš„è§£æå‚æ•°çš„æ–¹æ³•ï¼ˆå…¶ä»–ç±»å‹å‚æ•°è§£æå™¨ä¸ä¸€æ ·ï¼‰ public final Object resolveArgument(MethodParameter parameter, @Nullable ModelAndViewContainer mavContainer, NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) throws Exception { // å‚æ•°åç§°ä¿¡æ¯å¯¹è±¡ NamedValueInfo namedValueInfo = getNamedValueInfo(parameter); MethodParameter nestedParameter = parameter.nestedIfOptional(); // è·å–å‚æ•°åç§° Object resolvedName = resolveEmbeddedValuesAndExpressions(namedValueInfo.name); if (resolvedName == null) { throw new IllegalArgumentException( \u0026#34;Specified name must not resolve to null: [\u0026#34; + namedValueInfo.name + \u0026#34;]\u0026#34;); } // æ ¹æ®å‚æ•°åè·å–å‚æ•°å€¼ Object arg = resolveName(resolvedName.toString(), nestedParameter, webRequest); .... return arg; } è¿™è¾¹æ¼”ç¤ºçš„æ˜¯@Paramå‚æ•°è·å–çš„æµç¨‹ï¼Œè‡ªå®šä¹‰POJOçš„è¯æ˜¯ç”±ModelAttributeMethodProcessorè¿™ä¸ªå‚æ•°è§£æå™¨æ¥å¤„ç†ï¼Œä»–è§£æçš„åŸç†æ˜¯é€šè¿‡åå°„ è§£æéƒ¨åˆ†ä»£ç  public final Object resolveArgument(MethodParameter parameter, @Nullable ModelAndViewContainer mavContainer, NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) throws Exception { ... // è·å–å‚æ•°åç§° String name = ModelFactory.getNameForParameter(parameter); ... Object attribute = null; BindingResult bindingResult = null; if (mavContainer.containsAttribute(name)) { attribute = mavContainer.getModel().get(name); }else { // åˆ›å»ºå±æ€§å®ä¾‹, å³éœ€è¦ç»‘å®šå±æ€§çš„å¯¹è±¡ try { attribute = createAttribute(name, parameter, binderFactory, webRequest); } catch (BindException ex) { ... } } if (bindingResult == null) { // åˆ›å»ºæ•°æ®ç»‘å®šå™¨ WebDataBinder binder = binderFactory.createBinder(webRequest, attribute, name); if (binder.getTarget() != null) { if (!mavContainer.isBindingDisabled(name)) { // å°†webRequestä¸­çš„è¯·æ±‚æ•°æ®ç»‘å®šåœ¨å¯¹è±¡ä¸­ bindRequestParameters(binder, webRequest); } ... } ... } // å°†æ•°æ®ç»‘å®šåœ¨ModelAndViewContainerä¸­ Map\u0026lt;String, Object\u0026gt; bindingResultModel = bindingResult.getModel(); mavContainer.removeAttributes(bindingResultModel); mavContainer.addAllAttributes(bindingResultModel); return attribute; } è¿™é‡Œé¢æœ‰ä¸ªWebDataBinderï¼Œå³æ•°æ®ç»‘å®šå™¨ï¼Œç”¨äºå°†è¯·æ±‚å‚æ•°çš„å€¼ç»‘å®šåˆ°æŒ‡å®šçš„JavaBeané‡Œé¢ï¼Œåˆ©ç”¨å®ƒé‡Œé¢çš„ Converters å°†è¯·æ±‚æ•°æ®è½¬æˆæŒ‡å®šçš„æ•°æ®ç±»å‹ã€‚å†æ¬¡å°è£…åˆ°JavaBeanä¸­ 2. ä»–è¿™é‡Œçš„æ•°æ®ç»‘å®šå™¨é»˜è®¤çš„æœ‰124ç§ï¼ˆä¹Ÿå¯ä»¥åœ¨WebMvcConfigurerä¸­è‡ªå®šä¹‰ğŸ˜ï¼‰ @Override public void addFormatters(FormatterRegistry registry) { // ç”¨lambdaä¼šæŠ¥é”™ // æ·»åŠ ä¸€ä¸ªæ ¼å¼è½¬æ¢å™¨ registry.addConverter(new Converter\u0026lt;String, Pet\u0026gt;() { @Override public Pet convert(String source) { if (StringUtils.hasLength(source)){ Pet pet = new Pet(); String[] args = source.split(\u0026#34;,\u0026#34;); pet.setName(args[0]); pet.setAge(Integer.valueOf(args[1])); return pet; } return null; } }); WebMvcConfigurer.super.addFormatters(registry); } è·å–å¥½å‚æ•°ä¹‹åå°±æ˜¯è°ƒç”¨ç›®æ ‡æ–¹æ³•äº†\u0026hellip; è°ƒç”¨ç›®æ ‡æ–¹æ³• è°ƒç”¨æ–¹æ³•éƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼ŒåŸç†å°±æ˜¯é€šè¿‡åå°„å·¥å…·è·å–ç›®æ ‡ç±»ä¸­çš„æ–¹æ³•å¹¶æ‰§è¡Œ @Nullable protected Object doInvoke(Object... args) throws Exception { // è·å–ç›®æ ‡æ–¹æ³• Method method = getBridgedMethod(); try { if (KotlinDetector.isSuspendingFunction(method)) { return CoroutinesUtils.invokeSuspendingFunction(method, getBean(), args); } // æ‰§è¡Œç›®æ ‡æ–¹æ³• return method.invoke(getBean(), args); } catch (InvocationTargetException ex) { ... } } method.invoke(getBean(), args)æ‰§è¡Œç›®æ ‡æ–¹æ³• æ•°æ®å“åº”ä¸å†…å®¹åå•† æ•°æ®å“åº” æ•°æ®å“åº”åˆ†ä¸ºå“åº”é¡µé¢å’Œå“åº”æ•°æ®ï¼Œé¡µé¢ä¸€èˆ¬éƒ½æ˜¯ç”¨é‡å®šå‘æˆ–è€…è¯·æ±‚è½¬å‘ï¼Œå“åº”æ•°æ®å°±æ˜¯å°†æŒ‡å®šçš„å­—ç¬¦ä¸²ã€jsonã€xmlç­‰ç‰¹å®šæ ¼å¼è¿”å›\nç›®æ ‡å‡½æ•°æ‰§è¡Œå®Œåï¼Œä¼šè¿”å›ä¸€ä¸ªå‚æ•° public void invokeAndHandle(ServletWebRequest webRequest, ModelAndViewContainer mavContainer, Object... providedArgs) throws Exception { //æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œå¹¶è·å–è¿”å›å€¼ Object returnValue = invokeForRequest(webRequest, mavContainer, providedArgs); ... } å¤„ç†è¯·æ±‚ç»“æœ ServletInvocableHandlerMethod public void invokeAndHandle(ServletWebRequest webRequest, ModelAndViewContainer mavContainer, Object... providedArgs) throws Exception { ... // å¤„ç†è¿”å›å‚æ•° this.returnValueHandlers.handleReturnValue( returnValue, getReturnValueType(returnValue), mavContainer, webRequest); ... } HandlerMethodReturnValueHandlerComposite.handleReturnValue(\u0026hellip;) public void handleReturnValue(@Nullable Object returnValue, MethodParameter returnType, ModelAndViewContainer mavContainer, NativeWebRequest webRequest) throws Exception { // è·å–åŒ¹é…çš„è¿”å›å€¼å¤„ç†å™¨ HandlerMethodReturnValueHandler handler = selectHandler(returnValue, returnType); if (handler == null) { throw new IllegalArgumentException(\u0026#34;Unknown return value type: \u0026#34; + returnType.getParameterType().getName()); } // ç”¨å¾—åˆ°çš„è¿”å›å€¼å¤„ç†å™¨å¤„ç†è¿”å›ç»“æœ handler.handleReturnValue(returnValue, returnType, mavContainer, webRequest); } selectHandler(\u0026hellip;)è·å–é€‚åˆå¤„ç†åˆ¶å®šç±»å‹çš„å¤„ç†å™¨ é¢„å®šä¹‰çš„è¿”å›å€¼å¤„ç†å™¨æœ‰15ç§ ModelAndViewMethodReturnValueHandler ModelMethodProcessor ViewMethodReturnValueHandler ResponseBodyEmitterReturnValueHandler \u0026hellip; ServletModelAttributeMethodProcessor è·å–åŒ¹é…çš„è¿”å›å€¼å¤„ç†å™¨(ä¸å‚æ•°è§£æå™¨çš„åŒ¹é…çš„è®¾è®¡æ€è·¯ç±»ä¼¼) private HandlerMethodReturnValueHandler selectHandler(@Nullable Object value, MethodParameter returnType) { boolean isAsyncValue = isAsyncReturnValue(value, returnType); for (HandlerMethodReturnValueHandler handler : this.returnValueHandlers) { if (isAsyncValue \u0026amp;\u0026amp; !(handler instanceof AsyncHandlerMethodReturnValueHandler)) { continue; } if (handler.supportsReturnType(returnType)) { return handler; } } return null; } ç”¨æŒ‡å®šçš„è¿”å›å€¼å¤„ç†å™¨å¤„ç†è¿”å›å‚æ•° å¤„ç†è¿”å›å‚æ•° @Override public void handleReturnValue(@Nullable Object returnValue, MethodParameter returnType, ModelAndViewContainer mavContainer, NativeWebRequest webRequest) throws IOException, HttpMediaTypeNotAcceptableException, HttpMessageNotWritableException { ... // ä½¿ç”¨MessageConvertersè½¬æ¢æ•°æ®åå°†æ•°æ®å†™å‡º writeWithMessageConverters(returnValue, returnType, inputMessage, outputMessage); } ç”±äºæˆ‘ä»¬è¿™ä¸ªæ˜¯@ResponseBodyçš„è¿”å›å€¼å¤„ç†å™¨ï¼Œè¿™ä¸ªå¤„ç†å™¨ä¼šè°ƒç”¨RequestResponseBodyMethodProcessorçš„writeWithMessageConverters(\u0026hellip;)æ¥å¤„ç†å‚æ•° protected \u0026lt;T\u0026gt; void writeWithMessageConverters(@Nullable T value, MethodParameter returnType, ServletServerHttpRequest inputMessage, ServletServerHttpResponse outputMessage) throws IOException, HttpMediaTypeNotAcceptableException, HttpMessageNotWritableException { ... // è·å–è¯·æ±‚éœ€è¦è¿”å›çš„åª’ä½“ç±»å‹ MediaType selectedMediaType = null; MediaType contentType = outputMessage.getHeaders() // æœåŠ¡å™¨æœ€ç»ˆæ ¹æ®è‡ªå·±è‡ªèº«çš„èƒ½åŠ›ï¼Œå†³å®šæœåŠ¡å™¨èƒ½ç”Ÿäº§å‡ºä»€ä¹ˆæ ·å†…å®¹ç±»å‹çš„æ•°æ®ï¼Œ ... // SpringMVCä¼šæŒ¨ä¸ªéå†æ‰€æœ‰å®¹å™¨åº•å±‚çš„ HttpMessageConverter if (selectedMediaType != null) { selectedMediaType = selectedMediaType.removeQualityValue(); for (HttpMessageConverter\u0026lt;?\u0026gt; converter : this.messageConverters) { GenericHttpMessageConverter genericConverter = (converter instanceof GenericHttpMessageConverter ? (GenericHttpMessageConverter\u0026lt;?\u0026gt;) converter : null); // åˆ¤æ–­è¯¥è½¬æ¢å™¨èƒ½å¦è½¬æ¢æ•°æ® if (genericConverter != null ? ((GenericHttpMessageConverter) converter).canWrite(targetType, valueType, selectedMediaType) : converter.canWrite(valueType, selectedMediaType)) { ... if (body != null) { ... if (genericConverter != null) { // ä½¿ç”¨æŒ‡å®šçš„è½¬æ¢å™¨å°†æ•°æ®å†™å…¥bodyä¸­ genericConverter.write(body, targetType, selectedMediaType, outputMessage); } else { // ä½¿ç”¨é»˜è®¤çš„è½¬æ¢å™¨å†™å…¥body ((HttpMessageConverter) converter).write(body, selectedMediaType, outputMessage); } } ... return; } } } ... } æ¯ä¸ªconverterå®ç°äº†HttpMessageConverteræ¥å£ï¼Œæ¥å£é‡Œæœ‰read()ã€writer()æ–¹æ³•ç­‰ï¼Œconvteréœ€è¦é‡å†™è¿™äº›æ–¹æ³•ï¼Œå°†åˆ¶å®šå‚æ•°æŒ‰ç…§ç‰¹å®šçš„æ–¹æ³•å†™å‡ºã€‚ğŸ˜ä¸€èˆ¬å¯ä»¥é‡å†™çš„éƒ½å¯ä»¥è®©æˆ‘ä»¬è‡ªå®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€äº›Convteræ”¾åˆ°SpringMVCçš„é…ç½®ä¸­ï¼Œä¼šåœ¨å†…å®¹åå•†éƒ¨åˆ†è¯¦ç»†sayã€‚ å†…å®¹åå•† å†…å®¹åå•†ä¸»è¦åšçš„å°±æ˜¯æ ¹æ®å®¢æˆ·ç«¯çš„éœ€æ±‚è¿”å›åˆ¶å®šæ ¼å¼çš„æ•°æ®(jsonã€xmlã€‚ã€‚ã€‚)\nå¼€å¯æµè§ˆå™¨å‚æ•°æ–¹å¼å†…å®¹åå•†åŠŸèƒ½ åœ¨åˆ†æå†…å®¹åŸç†ä¹‹å‰ï¼Œå¾—ç‰¹åˆ«æä¸€ä¸‹springbootå¯¹å†…å®¹åå•†çš„é…ç½®\nspring: mvc: contentnegotiation: favor-parameter: true #å¼€å¯è¯·æ±‚å‚æ•°å†…å®¹åå•†æ¨¡å¼ åšäº†è¿™æ ·çš„é…ç½®ä¹‹ååªéœ€è¦åœ¨urlçš„å‚æ•°ä¸­å¸¦ç€formatå‚æ•°ï¼Œå¦‚\nhttp://localhost:8080/test/person?format=jsonï¼Œå°†æ•°æ®è½¬æ¢ä¸ºjsonæ ¼å¼ http://localhost:8080/test/person?format=xmlï¼Œå°†æ•°æ®è½¬æ¢ä¸ºxmlæ ¼å¼ åŸç† éƒ¨åˆ†åŸç†åœ¨ä¸Šè¿°æ•°æ®å“åº”çš„æœ‰æè¿‡ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€ç‚¹é‡å¤\nåˆ¤æ–­å½“å‰å“åº”å¤´ä¸­æ˜¯å¦å·²ç»æœ‰ç¡®å®šçš„åª’ä½“ç±»å‹ï¼ŒMediaTypeå±æ€§ è·å–å®¢æˆ·ç«¯æ”¯æŒæ¥æ”¶çš„å†…å®¹ç±»å‹ï¼ŒAcceptå±æ€§ contentNegotiationManagerå†…å®¹åå•†ç®¡ç†ï¼Œä½¿ç”¨å†…å®¹åå•†ç®¡ç†å™¨é‡Œçš„ç­–ç•¥æ¥è·å–å¤„ç†ç­–ç•¥ï¼ˆæ˜¯é€‰æ‹©å°†æ•°æ®è½¬ä¸ºjson/xml/\u0026hellip;ï¼‰ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯ParameterContentNegotiationStrategyç­–ç•¥ éå†æ‰€æœ‰çš„MessageConverterï¼Œæ‰¾å‡ºæ”¯æŒå¤„ç†è¯¥å¯¹è±¡çš„è½¬æ¢å™¨ å°†è¯¥convteræ”¯æŒå¤„ç†çš„åª’ä½“ç±»å‹ç»Ÿè®¡å‡ºæ¥ è¿›è¡Œå†…å®¹åå•†çš„æœ€ä½³åŒ¹é…åª’ä½“ç±»å‹ protected \u0026lt;T\u0026gt; void writeWithMessageConverters(@Nullable T value, MethodParameter returnType, ServletServerHttpRequest inputMessage, ServletServerHttpResponse outputMessage) throws IOException, HttpMediaTypeNotAcceptableException, HttpMessageNotWritableException { ... // è¿›è¡Œå†…å®¹åå•†çš„æœ€ä½³åŒ¹é… MediaType.sortBySpecificityAndQuality(mediaTypesToUse); ... } è‡ªå®šä¹‰å†…å®¹åå•† å®ç°å¤šåè®®æ•°æ®å…¼å®¹: jsonã€xmlã€x-rexã€‚ä»åŸç†ä¸Šçœ‹ï¼Œåªéœ€è¦åœ¨WebMvcConfigureråŠ å…¥è‡ªå®šä¹‰è½¬æ¢å™¨ã€‚ä»£ç å¦‚ä¸‹ MyMessageConverter.java\n/** * Description: è‡ªå®šä¹‰Converter * * @author rex * @date 2022-09-25 16:37 */ public class MyMessageConverter implements HttpMessageConverter\u0026lt;Person\u0026gt; { /** * è¯»å–æ•°æ®çš„è§„åˆ™ */ public boolean canRead(Class\u0026lt;?\u0026gt; clazz, MediaType mediaType) { return false; } /** * å†™å…¥æ•°æ®çš„è§„åˆ™ */ public boolean canWrite(Class\u0026lt;?\u0026gt; clazz, MediaType mediaType) { return clazz.isAssignableFrom(Person.class); } /** * æœåŠ¡å™¨è¦ç»Ÿè®¡MessageConverteréƒ½èƒ½å†™å‡ºé‚£äº›ç±»å‹ * application/x-rex */ @Override public List\u0026lt;MediaType\u0026gt; getSupportedMediaTypes() { return MediaType.parseMediaTypes(\u0026#34;application/x-rex\u0026#34;); } /** * è¯»å–æ•°æ® */ @Override public Person read(Class\u0026lt;? extends Person\u0026gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException { return null; } /** * å†™å…¥æ•°æ® */ @Override public void write(Person person, MediaType contentType, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException { //è‡ªå®šä¹‰å†…å®¹å†™å‡º String data = person.getName() + \u0026#34;;\u0026#34; + person.getAge() + \u0026#34;;\u0026#34; + person.getBirth(); outputMessage.getBody().write(data.getBytes()); } } WebConfig.java\n@Configuration(proxyBeanMethods = false) public class WebConfig implements WebMvcConfigurer { @Override public void extendMessageConverters(List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; converters) { // åŠ å…¥è‡ªå®šä¹‰çš„æ¶ˆæ¯è½¬æ¢å™¨ converters.add(new MyMessageConverter()); } } ","permalink":"https://rexhub.space/posts/back/java/framework/springboot/springboot%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E8%AF%B7%E6%B1%82%E9%83%A8%E5%88%86/","summary":"SpringBootæºç åˆ†æï¼ˆè¯·æ±‚éƒ¨åˆ†ï¼‰ å¼•è¨€ ğŸ‘€çœ‹äº†å°šç¡…è°·é›·ç¥çš„SpringBoot2æºç åˆ†æï¼Œé¢‡æœ‰æ„Ÿè§¦ğŸ¤™ï¼Œè¯·æ±‚å¤„ç†è¿™éƒ¨åˆ†çš„æºç çœŸçš„æ˜¯å¤ªç²¾å½©äº†ï¼Œå†³å®šè‡ªå·±åœ¨å¥½å¥½çš„debugå‡ æ¬¡ï¼Œå†è®°å½•ä¸‹ç¬”è®°ï¼ä»¥å‰ä¸ç†è§£ä»€ä¹ˆå«ä½œâ€œæ¡†æ¶ = è®¾è®¡æ¨¡å¼ + åå°„ + æ³¨è§£â€ï¼Œè§‰å¾—è®¾è®¡æ¨¡å¼ä¸å°±æ˜¯ä¸€äº›ä»£ç é£æ ¼ï¼Œåå°„ä¸å°±æ˜¯è¿è¡Œæ—¶åŠ¨æ€è·å–ç±»çš„å†…éƒ¨ä¿¡æ¯å¹¶æ‰§è¡Œå…¶çš„ä¸€äº›æ–¹æ³•ï¼Œæ³¨è§£ä¸å°±æ˜¯å®šä¹‰è¡¥å……ä¹ˆã€‚ä½†çœ‹äº†SpringBootæºç åæ‰çŸ¥é“å¦‚æœæ²¡æœ‰è®¾è®¡æ¨¡å¼ï¼Œæœ‰äº›å¤æ‚é€»è¾‘çš„ä»£ç ä¸åšä¸€äº›å°è£…ğŸ“¦å¤„ç†çš„è¯å°±ä¼šå˜æˆğŸ’©å±±ä»£ç ï¼Œæ•ˆç‡ä½ã€éš¾ç†è§£ã€éš¾æ‰©å±•ã€‚è€Œé€šè¿‡åå°„ï¼Œå¯ä»¥ä½¿å¾—æ¡†æ¶æœ‰æ›´é«˜çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚ä½¿ç”¨æ³¨è§£åˆ™å¯ä»¥ä½¿ä»£ç æ›´åŠ ç®€æ´ã€‚\næ¥å£åˆ›å»º SpringBootçš„ç‰¹ç‚¹å¼€ç®±å³ç”¨ï¼Œå³å†…éƒ¨å·²ç»ä¸ºæˆ‘ä»¬åšäº†å¤§é‡çš„é…ç½®ï¼ŒåŒ…æ‹¬è¯·æ±‚å‚æ•°è§£æã€æ•°æ®å“åº”ã€å†…å®¹åå•†ç­‰ç­‰ï¼Œå¦‚æœæ˜¯ç”¨ä¼ ç»Ÿçš„servlet(SpringBootåº•å±‚å·²ç»å°è£…äº†tomcat)ä¼šå˜å¾—æå…¶å¤æ‚ï¼Œè€Œspringbootæˆ‘ä»¬åªéœ€è¦å‡ ä¸ªæ³¨è§£å°±å¯ä»¥å®Œæˆä¸€ä¸ªç®€å•çš„æ¥å£ã€‚ Example:\n@GetMapping(\u0026#34;/girl\u0026#34;) public String getGirlFriend(@RequestParam String girlfriend){ return String.format(\u0026#34;Get a girlfriend: %s\u0026#34;, girlfriend); } è¿™æ ·å°±æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä½¿ç”¨GetMappingæ¥è¯´æ˜è¯·æ±‚æ–¹å¼(\u0026ldquo;get\u0026rdquo;)å’Œè¯·æ±‚è·¯å¾„(\u0026quot;/girl\u0026quot;), å¯ä»¥ç”¨urlæ‹¼æ¥å‚æ•°çš„æ–¹å¼ä¼ å‚æ•°ï¼ˆ\u0026quot;/girl?girlfriend=xxx\u0026quot;ï¼‰ã€‚æŒ‰ç…§ä»¥å‰sevletï¼Œè·å–å‚æ•°éœ€è¦request.getParameter(\u0026ldquo;girlfriend\u0026rdquo;),postæ–¹æ³•åˆ™è¦ä»request.getInputStream()è·å–BufferReaderåå†åšå¤„ç†ï¼›è¿”å›å€¼æƒ³è¦è¿”å›jsonæ ¼å¼ï¼Œéœ€è¦ç”¨å·¥å…·ç±»ï¼Œå°†å¯¹è±¡æ‹¼æ¥æˆjsonæ ¼å¼ï¼Œç„¶åç”¨response.getWriter().println(girlfriend)å†™å‡ºï¼Œå¦‚æœæ˜¯ä¸­æ–‡è¿˜éœ€è¦è¿›è¡Œç¼–ç å¤„ç†ã€‚è€Œç°åœ¨è¿™äº›ç¹çå¹¶ä¸”é‡å¤çš„æ“ä½œspringbootå…¨åšäº†å¤„ç†ï¼Œä½¿æˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­åªéœ€è¦æ³¨æ„ä¸šåŠ¡éƒ¨åˆ†çš„ä»£ç å®ç°ã€‚\nè¯·æ±‚å¤„ç†è¿‡ç¨‹æ¦‚è§ˆ è¯·æ±‚æ˜ å°„ å¤„ç†å¹¶è·å–è¯·æ±‚å‚æ•° è°ƒç”¨ç›®æ ‡æ–¹æ³• æ•°æ®å“åº”ä¸å†…å®¹åå•† è¯·æ±‚æ˜ å°„ è¯·æ±‚è¿›æ¥ä¼šè¿›åˆ°DispatchServlet.doDispatch()(Tips: DispatchServletæ˜¯HttpServletçš„ä¸€ä¸ªå­ç±»ï¼Œç”±Springè¿›è¡Œå°è£…)ä¸­ï¼ŒSpringMVCåŠŸèƒ½åˆ†æéƒ½ä»è¿™ä¸ªç±»å¼€å§‹åˆ†æ protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { HttpServletRequest processedRequest = request; HandlerExecutionChain mappedHandler = null; boolean multipartRequestParsed = false; WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request); try { ModelAndView mv = null; Exception dispatchException = null; try { processedRequest = checkMultipart(request); multipartRequestParsed = (processedRequest !","title":"SpringBootæºç åˆ†æï¼ˆè¯·æ±‚éƒ¨åˆ†ï¼‰"},{"content":"SpringBootå­¦ä¹ ï¼ˆå…¥é—¨ç¯‡ï¼‰ ç®€å•ä½¿ç”¨ æµè§ˆå™¨ä¸­è¾“å…¥http://127.0.0.1:8080/hello, æ˜¾ç¤ºhello, springboot2çš„å­—æ ·\nåˆ›å»ºmavenå·¥ç¨‹\nç”Ÿæˆpom.xmlæ–‡ä»¶ï¼Œå¼•å…¥ç›¸å…³ä¾èµ–\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;groupId\u0026gt;xyz.rexhub\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;boot-01-helloworld\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;!--é¡¹ç›®æ‰“åŒ…æ–‡ä»¶æ ¼å¼--\u0026gt; \u0026lt;packaging\u0026gt;jar\u0026lt;/packaging\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;maven.compiler.source\u0026gt;8\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;8\u0026lt;/maven.compiler.target\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;!--springbootæ¡†æ¶åŸºç¡€ä¾èµ–--\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.4.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--springboot webä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;!--mavenæ„å»ºå·¥å…·æ’ä»¶--\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt; åˆ›å»ºä¸»ç¨‹åº\npackage xyz.rexhub.boot; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; /** * Description: ä¸»ç¨‹åºç±» * * @author rex * @date 2022-07-06 23:21 */ @SpringBootApplication public class MainApplication { public static void main(String[] args) { SpringApplication.run(MainApplication.class, args); } } ä¸šåŠ¡ä»£ç \npackage xyz.rexhub.boot.controller; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.Mapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; /** * Description: * * @author rex * @date 2022-07-06 23:32 */ @RestController public class HelloController { @RequestMapping(\u0026#34;/hello\u0026#34;) public String handle01(){ return \u0026#34;hello, springboot2\u0026#34;; } } æµ‹è¯•ï¼šè¿è¡Œmainæ–¹æ³•\nç®€åŒ–é…ç½®,application.properties\nserver.port=8888 ç®€åŒ–éƒ¨ç½²\nä½¿ç”¨mavençš„cleanå’Œpackageå‘½ä»¤ï¼Œç”Ÿæˆå¯¹åº”çš„jaråŒ…\nè‡ªåŠ¨é…ç½®åŸç† ä¾èµ–ç®¡ç† çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†ï¼Œå…¸å‹ä¾‹å­ï¼šspring-boot-starterå¼•å…¥äº†spring-booté¡¹ç›®å¼€å‘çš„å„ç§åŸºç¡€åŒ…\nå¼€å‘å¯¼å…¥starteråœºæ™¯å¯åŠ¨å™¨\n1ã€è§åˆ°å¾ˆå¤š spring-boot-starter-* ï¼š *å°±æŸç§åœºæ™¯ 2ã€åªè¦å¼•å…¥starterï¼Œè¿™ä¸ªåœºæ™¯çš„æ‰€æœ‰å¸¸è§„éœ€è¦çš„ä¾èµ–æˆ‘ä»¬éƒ½è‡ªåŠ¨å¼•å…¥ 3ã€SpringBootæ‰€æœ‰æ”¯æŒçš„åœºæ™¯https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter 4ã€è§åˆ°çš„ *-spring-boot-starterï¼š ç¬¬ä¸‰æ–¹ä¸ºæˆ‘ä»¬æä¾›çš„ç®€åŒ–å¼€å‘çš„åœºæ™¯å¯åŠ¨å™¨ã€‚ 5ã€æ‰€æœ‰åœºæ™¯å¯åŠ¨å™¨æœ€åº•å±‚çš„ä¾èµ– \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.4.RELEASE\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;compile\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; æ— é¡»å…³æ³¨ç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨ç‰ˆæœ¬ä»²è£ï¼Œåœ¨spring-boot-starterä¸­å®šä¹‰äº†å¾ˆå¤šå·¥å…·çš„ç‰ˆæœ¬å·å˜é‡ï¼Œå¦‚ï¼šmysql-connector.version, å¯¼mysqlé©±åŠ¨çš„æ—¶å€™å°±æ— éœ€æ³¨åversionï¼›å¦‚æœéœ€è¦å¯¼å…¥ç‰¹å®šç‰ˆæœ¬çš„ï¼Œéœ€è¦å†™æ˜ç‰ˆæœ¬å·\nè‡ªåŠ¨é…ç½® ç‰¹æ€§ è‡ªåŠ¨å¼•å…¥å¹¶é…ç½®äº†Tomcatå¤§éƒ¨åˆ†çš„ä¿¡æ¯ï¼Œå¦‚ç«¯å£å·ã€ä¸Šä¸‹æ–‡è·¯å¾„\nè‡ªåŠ¨å¼•å…¥SpringMVCå¸¸ç”¨ç»„ä»¶ï¼ˆåŠŸèƒ½ï¼‰ï¼Œå¹¶ä¸”è‡ªåŠ¨é…å¥½å¸¸è§åŠŸèƒ½: å­—ç¬¦ç¼–ç é—®é¢˜\né»˜è®¤çš„åŒ…ç»“æ„\nä¸»ç¨‹åºæ‰€åœ¨åŒ…åŠå…¶ä¸‹é¢çš„æ‰€æœ‰å­åŒ…é‡Œé¢çš„ç»„ä»¶éƒ½ä¼šè¢«é»˜è®¤æ‰«æè¿›æ¥\næ— éœ€ä»¥å‰çš„åŒ…æ‰«æé…ç½®\næƒ³è¦æ”¹å˜æ‰«æè·¯å¾„ï¼Œ@SpringBootApplication(scanBasePackages=\u0026ldquo;com.atguigu\u0026rdquo;)\næˆ–è€…@ComponentScan æŒ‡å®šæ‰«æè·¯å¾„\n@SpringBootApplication ç­‰åŒäº @SpringBootConfiguration @EnableAutoConfiguration @ComponentScan(\u0026#34;com.atguigu.boot\u0026#34;) å„ç§é…ç½®æ‹¥æœ‰é»˜è®¤å€¼\né»˜è®¤é…ç½®æœ€ç»ˆéƒ½æ˜¯æ˜ å°„åˆ°æŸä¸ªç±»ä¸Šï¼Œå¦‚ï¼šMultipartProperties é…ç½®æ–‡ä»¶çš„å€¼æœ€ç»ˆä¼šç»‘å®šæ¯ä¸ªç±»ä¸Šï¼Œè¿™ä¸ªç±»ä¼šåœ¨å®¹å™¨ä¸­åˆ›å»ºå¯¹è±¡ æŒ‰éœ€åŠ è½½æ‰€æœ‰è‡ªåŠ¨é…ç½®é¡¹\néå¸¸å¤šçš„starter å¼•å…¥äº†å“ªäº›åœºæ™¯è¿™ä¸ªåœºæ™¯çš„è‡ªåŠ¨é…ç½®æ‰ä¼šå¼€å¯ SpringBootæ‰€æœ‰çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½éƒ½åœ¨ spring-boot-autoconfigure åŒ…é‡Œé¢ \u0026hellip;\nå®¹å™¨åŠŸèƒ½ ç»„ä»¶æ·»åŠ  @Configuration\nå‘Šè¯‰Springbootæ˜¯ä¸€ä¸ªé…ç½®ç±»\né…ç½®ç±»æœ¬èº«ä¹Ÿæ˜¯ç»„ä»¶\n@Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) @Documented @Component public @interface Configuration { @AliasFor(annotation = Component.class) String value() default \u0026#34;\u0026#34;; boolean proxyBeanMethods() default true; } proxyBeanMethods: ä»£ç†beançš„æ–¹æ³•\nFull(proxyBeanMethods = true): ä¿è¯æ¯ä¸ª@Beanæ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯å•å®ä¾‹ Full(proxyBeanMethods = false): æ¯ä¸ª@Beanæ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯æ–°åˆ›å»ºçš„ ç»„ä»¶ä¾èµ–å¿…é¡»ä½¿ç”¨Fullæ¨¡å¼é»˜è®¤ã€‚ ç¤ºä¾‹\n#############################Configurationä½¿ç”¨ç¤ºä¾‹###################################################### /** * Description:springé…ç½®æ–‡ä»¶ * @author rex * @date 2022-07-07 23:26 */ @Configuration(proxyBeanMethods = false) //å‘Šè¯‰SpringBootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» == é…ç½®æ–‡ä»¶ public class MyConfig { /** * Full:å¤–éƒ¨æ— è®ºå¯¹é…ç½®ç±»ä¸­çš„è¿™ä¸ªç»„ä»¶æ³¨å†Œæ–¹æ³•è°ƒç”¨å¤šå°‘æ¬¡è·å–çš„éƒ½æ˜¯ä¹‹å‰æ³¨å†Œå®¹å™¨ä¸­çš„å•å®ä¾‹å¯¹è±¡ * @return */ @Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ã€‚ä»¥æ–¹æ³•åä½œä¸ºç»„ä»¶çš„idã€‚è¿”å›ç±»å‹å°±æ˜¯ç»„ä»¶ç±»å‹ã€‚è¿”å›çš„å€¼ï¼Œå°±æ˜¯ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å®ä¾‹ public User user01(){ User zhangsan = new User(\u0026#34;zhangsan\u0026#34;, 18); //userç»„ä»¶ä¾èµ–äº†Petç»„ä»¶ zhangsan.setPet(tomcatPet()); return zhangsan; } @Bean(\u0026#34;tom\u0026#34;) public Pet tomcatPet(){ return new Pet(\u0026#34;tomcat\u0026#34;); } } ################################@Configurationæµ‹è¯•ä»£ç å¦‚ä¸‹######################################## @SpringBootConfiguration @EnableAutoConfiguration @ComponentScan(\u0026#34;com.atguigu.boot\u0026#34;) public class MainApplication { public static void main(String[] args) { //1ã€è¿”å›æˆ‘ä»¬IOCå®¹å™¨ ConfigurableApplicationContext run = SpringApplication.run(MainApplication.class, args); //2ã€æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶ String[] names = run.getBeanDefinitionNames(); for (String name : names) { System.out.println(name); } //3ã€ä»å®¹å™¨ä¸­è·å–ç»„ä»¶ Pet tom01 = run.getBean(\u0026#34;tom\u0026#34;, Pet.class); Pet tom02 = run.getBean(\u0026#34;tom\u0026#34;, Pet.class); System.out.println(\u0026#34;ç»„ä»¶ï¼š\u0026#34;+(tom01 == tom02)); //4ã€xyz.rexhub.boot.config.MyConfig$$EnhancerBySpringCGLIB$$36f113b4@6c000e0c MyConfig bean = run.getBean(MyConfig.class); System.out.println(bean); //å¦‚æœ@Configuration(proxyBeanMethods = true)ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•ã€‚SpringBootæ€»ä¼šæ£€æŸ¥è¿™ä¸ªç»„ä»¶æ˜¯å¦åœ¨å®¹å™¨ä¸­æœ‰ã€‚ //ä¿æŒç»„ä»¶å•å®ä¾‹ User user = bean.user01(); User user1 = bean.user01(); System.out.println(user == user1); User user01 = run.getBean(\u0026#34;user01\u0026#34;, User.class); Pet tom = run.getBean(\u0026#34;tom\u0026#34;, Pet.class); System.out.println(\u0026#34;ç”¨æˆ·çš„å® ç‰©ï¼š\u0026#34;+(user01.getPet() == tom)); } } @Beanã€@Componentã€@Controllerã€@Serviceã€@Repository\n@ComponetScanã€@Import\n@ComponentScanå°†æ£€æŸ¥åˆ¶å®šåŒ…ä¸‹çš„ç»„ä»¶ï¼ŒåŠ åˆ°å®¹å™¨ @SpringBootApplicationè‡ªå¸¦ä¸€ä¸ª@ComponentScan, @Import() ç»™å®¹å™¨è‡ªåŠ¨åˆ›å»ºç»„ä»¶ï¼Œé»˜è®¤ç»„ä»¶çš„åå­—å°±æ˜¯å…¨ç±»å @Conditional\næ¡ä»¶è£…é…æ³¨è§£ï¼Œæ»¡è¶³ConditionalæŒ‡å®šçš„æ¡ä»¶ï¼Œåˆ™è¿›è¡Œç»„ä»¶æ³¨å…¥\nå…¶æ´¾ç”Ÿæ³¨è§£æœ‰@ConditionalOnBeanã€@ConditionalOnMissingBeanã€@ConditionalOnClass\u0026hellip; ä½¿ç”¨\n=====================æµ‹è¯•æ¡ä»¶è£…é…========================== @Configuration(proxyBeanMethods = false) //å‘Šè¯‰SpringBootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» == é…ç½®æ–‡ä»¶ //@ConditionalOnBean(name = \u0026#34;tom\u0026#34;) @ConditionalOnMissingBean(name = \u0026#34;tom\u0026#34;) public class MyConfig { /** * Full:å¤–éƒ¨æ— è®ºå¯¹é…ç½®ç±»ä¸­çš„è¿™ä¸ªç»„ä»¶æ³¨å†Œæ–¹æ³•è°ƒç”¨å¤šå°‘æ¬¡è·å–çš„éƒ½æ˜¯ä¹‹å‰æ³¨å†Œå®¹å™¨ä¸­çš„å•å®ä¾‹å¯¹è±¡ * @return */ @Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ã€‚ä»¥æ–¹æ³•åä½œä¸ºç»„ä»¶çš„idã€‚è¿”å›ç±»å‹å°±æ˜¯ç»„ä»¶ç±»å‹ã€‚è¿”å›çš„å€¼ï¼Œå°±æ˜¯ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å®ä¾‹ public User user01(){ User zhangsan = new User(\u0026#34;zhangsan\u0026#34;, 18); //userç»„ä»¶ä¾èµ–äº†Petç»„ä»¶ zhangsan.setPet(tomcatPet()); return zhangsan; } @Bean(\u0026#34;tom22\u0026#34;) public Pet tomcatPet(){ return new Pet(\u0026#34;tomcat\u0026#34;); } } public static void main(String[] args) { //1ã€è¿”å›æˆ‘ä»¬IOCå®¹å™¨ ConfigurableApplicationContext run = SpringApplication.run(MainApplication.class, args); //2ã€æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶ String[] names = run.getBeanDefinitionNames(); for (String name : names) { System.out.println(name); } boolean tom = run.containsBean(\u0026#34;tom\u0026#34;); System.out.println(\u0026#34;å®¹å™¨ä¸­Tomç»„ä»¶ï¼š\u0026#34;+tom); boolean user01 = run.containsBean(\u0026#34;user01\u0026#34;); System.out.println(\u0026#34;å®¹å™¨ä¸­user01ç»„ä»¶ï¼š\u0026#34;+user01); boolean tom22 = run.containsBean(\u0026#34;tom22\u0026#34;); System.out.println(\u0026#34;å®¹å™¨ä¸­tom22ç»„ä»¶ï¼š\u0026#34;+tom22); } å¼•å…¥åŸç”Ÿé…ç½®æ–‡ä»¶ @ImportResource\nç¤ºä¾‹\n======================beans.xml========================= \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\u0026#34;\u0026gt; \u0026lt;bean id=\u0026#34;haha\u0026#34; class=\u0026#34;com.atguigu.boot.bean.User\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;name\u0026#34; value=\u0026#34;zhangsan\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;age\u0026#34; value=\u0026#34;18\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;hehe\u0026#34; class=\u0026#34;com.atguigu.boot.bean.Pet\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;name\u0026#34; value=\u0026#34;tomcat\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; @ImportResource(\u0026#34;classpath:beans.xml\u0026#34;) public class MyConfig {} ======================æµ‹è¯•================= boolean haha = run.containsBean(\u0026#34;haha\u0026#34;); boolean hehe = run.containsBean(\u0026#34;hehe\u0026#34;); System.out.println(\u0026#34;hahaï¼š\u0026#34;+haha);//true System.out.println(\u0026#34;heheï¼š\u0026#34;+hehe);//true é…ç½®ç»‘å®š è¯»å–propertiesä¸­çš„å†…å®¹ï¼Œå¹¶å°è£…è‡³JavaBeanä¸­\npublic class getProperties { public static void main(String[] args) throws FileNotFoundException, IOException { Properties pps = new Properties(); pps.load(new FileInputStream(\u0026#34;a.properties\u0026#34;)); Enumeration enum1 = pps.propertyNames();//å¾—åˆ°é…ç½®æ–‡ä»¶çš„åå­— while(enum1.hasMoreElements()) { String strKey = (String) enum1.nextElement(); String strValue = pps.getProperty(strKey); System.out.println(strKey + \u0026#34;=\u0026#34; + strValue); //å°è£…åˆ°JavaBeanã€‚ } } } @ConfiguratinoProperties\n/** * åªæœ‰åœ¨å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰ä¼šæ‹¥æœ‰SpringBootæä¾›çš„å¼ºå¤§åŠŸèƒ½ */ @Component @ConfigurationProperties(prefix = \u0026#34;mycar\u0026#34;) public class Car { private String brand; private Integer price; public String getBrand() { return brand; } public void setBrand(String brand) { } public Integer getPrice() { return price; } public void setPrice(Integer price) { this.price = price; } @Override public String toString() { return \u0026#34;Car{\u0026#34; + \u0026#34;brand=\u0026#39;\u0026#34; + brand + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, price=\u0026#34; + price + \u0026#39;}\u0026#39;; } } @EnableConfigurationProperties + @ConfigurationProperties\n@Component + @ConfigurationProperties\næºç åˆ†æ å¼•å¯¼åŠ è½½è‡ªåŠ¨è£…é… @SpringBootConfiguration @EnableAutoConfiguration @ComponentScan( excludeFilters = {@Filter( type = FilterType.CUSTOM, classes = {TypeExcludeFilter.class} ), @Filter( type = FilterType.CUSTOM, classes = {AutoConfigurationExcludeFilter.class} )} ) public @interface SpringBootApplication { ... } @SpringBootConfigurationé‡Œé¢å°±æ˜¯ä¸€ä¸ª@Configurationæ³¨è§£ï¼Œæé†’springéœ€è¦å°†å…¶åŠ è½½åˆ°å®¹å™¨ä¸­\n@ComponentScanæ˜¯ä¸€ä¸ªcomponentåŒ…æ‰«æå™¨ï¼Œ\n@EnableAutoConfiguration\n@AutoConfigurationPackage @Import({AutoConfigurationImportSelector.class}) public @interface EnableAutoConfiguration { ... } @AutoConfigurationPackage\nä»–åšçš„äº‹å°±æ˜¯å°†applicationæ‰€åœ¨åŒ…ä¸‹çš„ç»„ä»¶è¿›è¡Œè‡ªåŠ¨é…ç½®\nå…¶æºç \n@Import({AutoConfigurationPackages.Registrar.class}) public @interface AutoConfigurationPackage { ... } static class Registrar implements ImportBeanDefinitionRegistrar, DeterminableImports { Registrar() { } public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) { AutoConfigurationPackages.register(registry, (String[])(new PackageImports(metadata)).getPackageNames().toArray(new String[0])); } public Set\u0026lt;Object\u0026gt; determineImports(AnnotationMetadata metadata) { return Collections.singleton(new PackageImports(metadata)); } } (String[])(new PackageImports(metadata)).getPackageNames().toArray(new String[0]) ä¼šä»æ³¨è§£å…ƒä¿¡æ¯ä¸­è·å–åŒ…åæ•°ç»„\n@Import({AutoConfigurationImportSelector.class})\n1ã€åˆ©ç”¨getAutoConfigurationEntry(annotationMetadata);ç»™å®¹å™¨ä¸­æ‰¹é‡å¯¼å…¥ä¸€äº›ç»„ä»¶ 2ã€è°ƒç”¨List\u0026lt;String\u0026gt; configurations = getCandidateConfigurations(annotationMetadata, attributes)è·å–åˆ°æ‰€æœ‰éœ€è¦å¯¼å…¥åˆ°å®¹å™¨ä¸­çš„é…ç½®ç±» 3ã€åˆ©ç”¨å·¥å‚åŠ è½½ Map\u0026lt;String, List\u0026lt;String\u0026gt;\u0026gt; loadSpringFactories(@Nullable ClassLoader classLoader)ï¼›å¾—åˆ°æ‰€æœ‰çš„ç»„ä»¶ 4ã€ä»META-INF/spring.factoriesä½ç½®æ¥åŠ è½½ä¸€ä¸ªæ–‡ä»¶ã€‚ é»˜è®¤æ‰«ææˆ‘ä»¬å½“å‰ç³»ç»Ÿé‡Œé¢æ‰€æœ‰META-INF/spring.factoriesä½ç½®çš„æ–‡ä»¶ spring-boot-autoconfigure-2.3.4.RELEASE.jaråŒ…é‡Œé¢ä¹Ÿæœ‰META-INF/spring.factories æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½® â€‹\tè™½ç„¶æœ‰127ä¸ªè‡ªåŠ¨é…ç½®ç±»éœ€è¦è£…è½½ï¼Œä½†æ˜¯springbooté€šè¿‡@Conditionalæ³¨è§£æ¥åšæ¡ä»¶è£…é…ï¼Œåªè£…é…æœ‰éœ€è¦çš„æ³¨è§£\nä¿®æ”¹é»˜è®¤é…ç½® ç¤ºä¾‹servletçš„æ–‡ä»¶è§£æå™¨\n@Bean @ConditionalOnBean(MultipartResolver.class) //å®¹å™¨ä¸­æœ‰è¿™ä¸ªç±»å‹ç»„ä»¶ @ConditionalOnMissingBean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME) //å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªåå­— multipartResolver çš„ç»„ä»¶ public MultipartResolver multipartResolver(MultipartResolver resolver) { //ç»™@Beanæ ‡æ³¨çš„æ–¹æ³•ä¼ å…¥äº†å¯¹è±¡å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„å€¼å°±ä¼šä»å®¹å™¨ä¸­æ‰¾ã€‚ //SpringMVC multipartResolverã€‚é˜²æ­¢æœ‰äº›ç”¨æˆ·é…ç½®çš„æ–‡ä»¶ä¸Šä¼ è§£æå™¨ä¸ç¬¦åˆè§„èŒƒ // Detect if the user has created a MultipartResolver but named it incorrectly return resolver; } æ€»ç»“\nSpringBootå…ˆåŠ è½½æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±» xxxxxAutoConfiguration æ¯ä¸ªè‡ªåŠ¨é…ç½®ç±»æŒ‰ç…§æ¡ä»¶è¿›è¡Œç”Ÿæ•ˆï¼Œé»˜è®¤éƒ½ä¼šç»‘å®šé…ç½®æ–‡ä»¶æŒ‡å®šçš„å€¼ã€‚xxxxPropertiesé‡Œé¢æ‹¿ã€‚xxxPropertieså’Œé…ç½®æ–‡ä»¶è¿›è¡Œäº†ç»‘å®š ç”Ÿæ•ˆçš„é…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­è£…é…å¾ˆå¤šç»„ä»¶ åªè¦å®¹å™¨ä¸­æœ‰è¿™äº›ç»„ä»¶ï¼Œç›¸å½“äºè¿™äº›åŠŸèƒ½å°±æœ‰äº† å®šåˆ¶åŒ–é…ç½® ç”¨æˆ·ç›´æ¥è‡ªå·±@Beanæ›¿æ¢åº•å±‚çš„ç»„ä»¶ ç”¨æˆ·å»çœ‹è¿™ä¸ªç»„ä»¶æ˜¯è·å–çš„é…ç½®æ–‡ä»¶ä»€ä¹ˆå€¼å°±å»ä¿®æ”¹ã€‚ ","permalink":"https://rexhub.space/posts/back/java/framework/springboot/springboot%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%E7%AF%87/","summary":"SpringBootå­¦ä¹ ï¼ˆå…¥é—¨ç¯‡ï¼‰ ç®€å•ä½¿ç”¨ æµè§ˆå™¨ä¸­è¾“å…¥http://127.0.0.1:8080/hello, æ˜¾ç¤ºhello, springboot2çš„å­—æ ·\nåˆ›å»ºmavenå·¥ç¨‹\nç”Ÿæˆpom.xmlæ–‡ä»¶ï¼Œå¼•å…¥ç›¸å…³ä¾èµ–\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;groupId\u0026gt;xyz.rexhub\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;boot-01-helloworld\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;!--é¡¹ç›®æ‰“åŒ…æ–‡ä»¶æ ¼å¼--\u0026gt; \u0026lt;packaging\u0026gt;jar\u0026lt;/packaging\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;maven.compiler.source\u0026gt;8\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;8\u0026lt;/maven.compiler.target\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;!--springbootæ¡†æ¶åŸºç¡€ä¾èµ–--\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.4.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--springboot webä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;!--mavenæ„å»ºå·¥å…·æ’ä»¶--\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt; åˆ›å»ºä¸»ç¨‹åº\npackage xyz.rexhub.boot; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; /** * Description: ä¸»ç¨‹åºç±» * * @author rex * @date 2022-07-06 23:21 */ @SpringBootApplication public class MainApplication { public static void main(String[] args) { SpringApplication.","title":"SpringBootå­¦ä¹ ï¼ˆå…¥é—¨ç¯‡ï¼‰"},{"content":"SpringBootå­¦ä¹ ï¼ˆæ ¸å¿ƒåŠŸèƒ½ç¯‡-é…ç½®åŠŸèƒ½ï¼‰ properties yaml YAML æ˜¯ \u0026ldquo;YAML Ain\u0026rsquo;t Markup Language\u0026rdquo;ï¼ˆYAML ä¸æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰çš„é€’å½’ç¼©å†™ã€‚åœ¨å¼€å‘çš„è¿™ç§è¯­è¨€æ—¶ï¼ŒYAML çš„æ„æ€å…¶å®æ˜¯ï¼š\u0026ldquo;Yet Another Markup Language\u0026rdquo;ï¼ˆä»æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰ã€‚\néå¸¸é€‚åˆç”¨æ¥åšä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„é…ç½®æ–‡ä»¶\nåŸºæœ¬è¯­æ³• key: valueï¼›kvä¹‹é—´æœ‰ç©ºæ ¼ å¤§å°å†™æ•æ„Ÿ ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³» ç¼©è¿›ä¸å…è®¸ä½¿ç”¨tabï¼Œåªå…è®¸ç©ºæ ¼ ç¼©è¿›çš„ç©ºæ ¼æ•°ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦å¯¹é½å³å¯ \u0026lsquo;#\u0026lsquo;è¡¨ç¤ºæ³¨é‡Š å­—ç¬¦ä¸²æ— éœ€åŠ å¼•å·ï¼Œå¦‚æœè¦åŠ ï¼Œ\u0026lsquo;\u0026lsquo;ä¸\u0026quot;\u0026ldquo;è¡¨ç¤ºå­—ç¬¦ä¸²å†…å®¹ ä¼šè¢« è½¬ä¹‰/ä¸è½¬ä¹‰ æ•°æ®ç±»å‹ å­—é¢é‡ï¼šå•ä¸ªçš„ã€ä¸å¯å†åˆ†çš„å€¼ã€‚dateã€booleanã€stringã€numberã€null\nk: v å¯¹è±¡ï¼šé”®å€¼å¯¹çš„é›†åˆã€‚mapã€hashã€setã€object\nè¡Œå†…å†™æ³•ï¼šk: (k1:v1, k2:v2, k3:v3) # æˆ– k: k1: v1 k2: v2 k3: v3 æ•°ç»„ï¼šä¸€ç»„æŒ‰æ¬¡åºæ’åºçš„å€¼ã€‚arrayã€listã€queue\nè¡Œå†…å†™æ³•ï¼šk: [v1, v3, v4] # æˆ– k: - v1 - v2 - v3 ç¤ºä¾‹ â€‹\tjava\npackage xyz.rexhub.xyz.bean; import lombok.Data; import lombok.ToString; import org.springframework.boot.context.properties.ConfigurationProperties; import org.springframework.stereotype.Component; import java.util.Date; import java.util.List; import java.util.Map; import java.util.Set; /** * Description: äºº * * @author rex * @date 2022-07-19 21:20 */ @ConfigurationProperties(prefix = \u0026#34;person\u0026#34;) @Component @ToString @Data public class Person { private String userName; private Boolean boss; private Date birth; private Integer age; private Pet pet; private String[] interests; private List\u0026lt;String\u0026gt; animal; private Map\u0026lt;String, Object\u0026gt; score; private Set\u0026lt;Double\u0026gt; salarys; private Map\u0026lt;String, List\u0026lt;Pet\u0026gt;\u0026gt; allPets; } package xyz.rexhub.xyz.bean; import lombok.Data; import lombok.ToString; /** * Description: å® ç‰© * * @author rex * @date 2022-07-19 21:22 */ @Data @ToString public class Pet { private String name; private Double weight; } application.yml\nperson: userName: å¼ ä¸‰ boss: true birth: 2019/12/9 age: 18 # interests: [ğŸ€, âš½ï¸] interests: - ğŸ€ - âš½ï¸ animal: [ğŸ±, ğŸ¶] # score: # english: 80 # math: 90 score: {english: 80, math: 90} salarys: - 9999.98 - 9999.99 pet: name: é˜¿ç‹— weight: 99.99 allPets: sick: - {name: é˜¿ç‹—, weight: 99.99} - name: é˜¿çŒ« weight: 88.88 - name: é˜¿è™« weight: 77.77 health: [{name: é˜¿èŠ±, weight: 199.99}, {name: é˜¿æ˜, weight: 199.99}] ","permalink":"https://rexhub.space/posts/back/java/framework/springboot/springboot%E5%AD%A6%E4%B9%A0%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E7%AF%87-%E9%85%8D%E7%BD%AE%E5%8A%9F%E8%83%BD/","summary":"SpringBootå­¦ä¹ ï¼ˆæ ¸å¿ƒåŠŸèƒ½ç¯‡-é…ç½®åŠŸèƒ½ï¼‰ properties yaml YAML æ˜¯ \u0026ldquo;YAML Ain\u0026rsquo;t Markup Language\u0026rdquo;ï¼ˆYAML ä¸æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰çš„é€’å½’ç¼©å†™ã€‚åœ¨å¼€å‘çš„è¿™ç§è¯­è¨€æ—¶ï¼ŒYAML çš„æ„æ€å…¶å®æ˜¯ï¼š\u0026ldquo;Yet Another Markup Language\u0026rdquo;ï¼ˆä»æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰ã€‚\néå¸¸é€‚åˆç”¨æ¥åšä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„é…ç½®æ–‡ä»¶\nåŸºæœ¬è¯­æ³• key: valueï¼›kvä¹‹é—´æœ‰ç©ºæ ¼ å¤§å°å†™æ•æ„Ÿ ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³» ç¼©è¿›ä¸å…è®¸ä½¿ç”¨tabï¼Œåªå…è®¸ç©ºæ ¼ ç¼©è¿›çš„ç©ºæ ¼æ•°ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦å¯¹é½å³å¯ \u0026lsquo;#\u0026lsquo;è¡¨ç¤ºæ³¨é‡Š å­—ç¬¦ä¸²æ— éœ€åŠ å¼•å·ï¼Œå¦‚æœè¦åŠ ï¼Œ\u0026lsquo;\u0026lsquo;ä¸\u0026quot;\u0026ldquo;è¡¨ç¤ºå­—ç¬¦ä¸²å†…å®¹ ä¼šè¢« è½¬ä¹‰/ä¸è½¬ä¹‰ æ•°æ®ç±»å‹ å­—é¢é‡ï¼šå•ä¸ªçš„ã€ä¸å¯å†åˆ†çš„å€¼ã€‚dateã€booleanã€stringã€numberã€null\nk: v å¯¹è±¡ï¼šé”®å€¼å¯¹çš„é›†åˆã€‚mapã€hashã€setã€object\nè¡Œå†…å†™æ³•ï¼šk: (k1:v1, k2:v2, k3:v3) # æˆ– k: k1: v1 k2: v2 k3: v3 æ•°ç»„ï¼šä¸€ç»„æŒ‰æ¬¡åºæ’åºçš„å€¼ã€‚arrayã€listã€queue\nè¡Œå†…å†™æ³•ï¼šk: [v1, v3, v4] # æˆ– k: - v1 - v2 - v3 ç¤ºä¾‹ â€‹\tjava\npackage xyz.rexhub.xyz.bean; import lombok.Data; import lombok.ToString; import org.springframework.boot.context.properties.ConfigurationProperties; import org.","title":"SpringBootå­¦ä¹ ï¼ˆæ ¸å¿ƒåŠŸèƒ½ç¯‡-é…ç½®åŠŸèƒ½ï¼‰"},{"content":"å¯åŠ¨é¡¹ç›®è„šæœ¬ #!/bin/sh if [ -z $1 ];then echo \u0026#34;è¯·è¾“å…¥å¯è¿è¡Œçš„jaråç§°\u0026#34; exit 1 fi appName=$1 logFileName=runlog ## æ£€æŸ¥jaråŒ…æ˜¯å¦å­˜åœ¨ if [ ! -f $appName ];then echo \u0026#34;å½“å‰è·¯å¾„[`pwd`]ä¸å­˜åœ¨[$appName]\u0026#34; #\techo \u0026#34;$appNameä¸å­˜åœ¨\u0026#34; exit 1 fi ## å¦‚æœåŸå…ˆå·²åœ¨è¿è¡Œï¼Œåˆ™å…ˆåœæ­¢è¯¥è¿›ç¨‹ pid=`jps -l|grep $appName|awk \u0026#39;{print $1}\u0026#39;` if [ -n \u0026#34;$pid\u0026#34; ];then echo \u0026#34;å·²å­˜åœ¨è¿›ç¨‹[$pid]\u0026#34; kill -9 $pid echo \u0026#34;å·²åœæ­¢è¿›ç¨‹[$pid]ï¼Œé‡æ–°å¯åŠ¨åº”ç”¨\u0026#34; fi ## åˆ é™¤æ§åˆ¶å°æ—¥å¿—æ–‡ä»¶ if [ -f \u0026#34;$logFileName\u0026#34; ];then rm -rf $logFileName fi ## å¯åŠ¨åº”ç”¨ nohup java -Xms128m -Xmx256m -jar $appName --spring.profiles.active=prod \u0026gt; ./$logFileName 2\u0026gt;\u0026amp;1 \u0026amp; ## å†æ¬¡æŸ¥è¯¢æ–°çš„è¿›ç¨‹å· pid=`jps -l|grep $appName|awk \u0026#39;{print $1}\u0026#39;` if [ -n \u0026#34;$pid\u0026#34; ];then echo \u0026#34;æ–°è¿›ç¨‹[$pid]æ­£åœ¨å¯åŠ¨\u0026#34; echo \u0026#34;è¯·æ³¨æ„æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—[$logFileName]\u0026#34; else echo \u0026#34;æ–°è¿›ç¨‹å¯åŠ¨å¤±è´¥ï¼\u0026#34; fi ","permalink":"https://rexhub.space/posts/linux/%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE%E8%84%9A%E6%9C%AC/","summary":"å¯åŠ¨é¡¹ç›®è„šæœ¬ #!/bin/sh if [ -z $1 ];then echo \u0026#34;è¯·è¾“å…¥å¯è¿è¡Œçš„jaråç§°\u0026#34; exit 1 fi appName=$1 logFileName=runlog ## æ£€æŸ¥jaråŒ…æ˜¯å¦å­˜åœ¨ if [ ! -f $appName ];then echo \u0026#34;å½“å‰è·¯å¾„[`pwd`]ä¸å­˜åœ¨[$appName]\u0026#34; #\techo \u0026#34;$appNameä¸å­˜åœ¨\u0026#34; exit 1 fi ## å¦‚æœåŸå…ˆå·²åœ¨è¿è¡Œï¼Œåˆ™å…ˆåœæ­¢è¯¥è¿›ç¨‹ pid=`jps -l|grep $appName|awk \u0026#39;{print $1}\u0026#39;` if [ -n \u0026#34;$pid\u0026#34; ];then echo \u0026#34;å·²å­˜åœ¨è¿›ç¨‹[$pid]\u0026#34; kill -9 $pid echo \u0026#34;å·²åœæ­¢è¿›ç¨‹[$pid]ï¼Œé‡æ–°å¯åŠ¨åº”ç”¨\u0026#34; fi ## åˆ é™¤æ§åˆ¶å°æ—¥å¿—æ–‡ä»¶ if [ -f \u0026#34;$logFileName\u0026#34; ];then rm -rf $logFileName fi ## å¯åŠ¨åº”ç”¨ nohup java -Xms128m -Xmx256m -jar $appName --spring.profiles.active=prod \u0026gt; .","title":"å¯åŠ¨é¡¹ç›®è„šæœ¬"},{"content":"Git Gitæ¦‚è¿° Gitæ˜¯ä¸€ä¸ªå…è´¹çš„ï¼Œå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œ å¯ä»¥å¿«é€Ÿé«˜æ•ˆåœ°å¤„ç†ä»å°å‹åˆ°å¤§å‹çš„å„ç§é¡¹ç›®\nGitæ˜“äºå­¦ä¹ ï¼Œå åœ°é¢ç§¯å°ï¼Œæ€§èƒ½æå¿«ï¼Œå®ƒå…·æœ‰å»‰ä»·çš„æœ¬åœ°åº“ï¼Œæ–¹ä¾¿çš„æš‚å­˜åŒºåŸŸå’Œå¤šä¸ªå·¥ä½œè¯¥åˆ†æ”¯ç­‰ç‰¹æ€§ï¼Œå…¶æ€§èƒ½ä¼˜äºSubversion, CSV, Perforceå’ŒClearcaseç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·\nç‰ˆæœ¬æ§åˆ¶ ç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§è®°å½•æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿ\nç‰ˆæœ¬æ§åˆ¶å…¶å®æœ€é‡è¦çš„æ˜¯å¯ä»¥è®°å½•æ–‡ä»¶ä¿®æ”¹å†å²è®°å½•ï¼Œä»è€Œè®©ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹å†å²ç‰ˆæœ¬ï¼Œæ–¹ä¾¿ç‰ˆæœ¬åˆ‡æ¢\nç‰ˆæœ¬æ§åˆ¶å·¥å…· é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆsvã€svnï¼‰\né›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè¯¸å¦‚csvã€svnç­‰ï¼Œéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„é›†ä¸­ç®¡ç†çš„æœåŠ¡å™¨ï¼Œä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®è®¢ç‰ˆæœ¬ï¼Œè€ŒååŒå·¥ä½œçš„äººä»¬éƒ½é€šè¿‡å®¢æˆ·ç«¯è¿åˆ°è¿™å°æœåŠ¡å™¨ï¼Œå–å‡ºæœ€æ–°çš„æ–‡ä»¶æˆ–è€…æäº¤æ›´æ–°ã€‚\nä¼˜ç‚¹ï¼šç®¡ç†å‘˜å¯è½»æ¾æŒæ§æ¯ä¸ªå¼€å‘è€…çš„æƒé™\nç¼ºç‚¹ï¼šä¸­å¤®æœåŠ¡å™¨å•ç‚¹æ•…éšœ\nåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ˆGitã€Mercurialã€Bazaarã€Darcsï¼‰\nåƒGitè¿™ç§åˆ†ä¸å°‘ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œå®¢æˆ·ç«¯æå–çš„ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ï¼Œè€Œæ˜¯æŠŠä»£ç ä»“åº“å®Œæ•´åœ°é•œåƒä¸‹æ¥(æœ¬åœ°åº“)ã€‚\nGitå’Œä»£ç æ‰˜ç®¡ä¸­å¿ƒ ä»£ç æ‰˜ç®¡ä¸­å¿ƒæ˜¯åŸºäºç½‘ç»œæœåŠ¡å™¨çš„è¿œç¨‹ä»£ç ä»“åº“ï¼Œä¸€èˆ¬ç®€å•ç§°ä¸ºè¿œç¨‹åº“ã€‚\nå±€åŸŸç½‘\nGitLab\nGitLabæ˜¯ç”±GitLabInc.å¼€å‘ï¼Œä½¿ç”¨MITè®¸å¯è¯çš„åŸºäºç½‘ç»œçš„Gitä»“åº“ç®¡ç†å·¥å…·ï¼Œä¸”å…·æœ‰wikiå’Œissueè·Ÿè¸ªåŠŸèƒ½ã€‚ä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡ã€‚ GitLabç”±ä¹Œå…‹å…°ç¨‹åºå‘˜DmitriyZaporozhets å’ŒValerySizovå¼€å‘ï¼Œå®ƒä½¿ç”¨Rubyè¯­è¨€å†™æˆã€‚åæ¥ï¼Œä¸€äº›éƒ¨åˆ†ç”¨Goè¯­è¨€é‡å†™ã€‚æˆªæ­¢2018å¹´5æœˆï¼Œè¯¥å…¬å¸çº¦æœ‰290åå›¢é˜Ÿæˆå‘˜ï¼Œä»¥åŠ2000å¤šåå¼€æºè´¡çŒ®è€…ã€‚GitLab è¢«IBMï¼ŒSony, NASA, Alibaba, Invincea, O\u0026rsquo;ReillyMedia, Leibniz-Rechenzentrum(LRZ)ï¼Œ CERN, SpaceX ç­‰ç»„ç»‡ä½¿ç”¨ã€‚\nå®˜ç½‘ å®‰è£…æ–‡æ¡£\näº’è”ç½‘\nGithubï¼ˆå¤–ç½‘ï¼‰\nGitHubäº2008å¹´4æœˆ10æ—¥æ­£å¼ä¸Šçº¿ï¼Œé™¤äº†Gitä»£ç ä»“åº“æ‰˜ç®¡åŠåŸºæœ¬çš„Webç®¡ç†ç•Œé¢ä»¥å¤–ï¼Œè¿˜æä¾›äº†è®¢é˜…ã€è®¨è®ºç»„ã€æ–‡æœ¬æ¸²æŸ“ã€åœ¨çº¿æ–‡ä»¶ç¼–è¾‘å™¨ã€åä½œå›¾è°±ï¼ˆæŠ¥è¡¨ï¼‰ã€ä»£ç ç‰‡æ®µåˆ†äº«ï¼ˆGistï¼‰ç­‰åŠŸèƒ½ã€‚ç›®å‰ï¼Œå…¶æ³¨å†Œç”¨æˆ·å·²ç»è¶…è¿‡350ä¸‡ï¼Œæ‰˜ç®¡ç‰ˆæœ¬æ•°é‡ä¹Ÿæ˜¯éå¸¸ä¹‹å¤šï¼Œå…¶ä¸­ä¸ä¹çŸ¥åå¼€æºé¡¹ç›®Ruby on Railsã€jQueryã€pythonç­‰ã€‚\nå®˜ç½‘\nGiteeç äº‘ï¼ˆå›½å†…æœåŠ¡å™¨ï¼‰\nä¼—æ‰€å‘¨çŸ¥, GitHubæœåŠ¡å™¨åœ¨å›½å¤–,ä½¿ç”¨GitHubä½œä¸ºé¡¹ç›®æ‰˜ç®¡ç½‘ç«™,å¦‚æœç½‘é€Ÿä¸å¥½çš„è¯ï¼Œä¸¥é‡å½±å“ä½¿ç”¨ä½“éªŒï¼Œç”šè‡³ä¼šå‡ºç°ç™»å½•ä¸ä¸Šçš„æƒ…å†µã€‚\nå®˜ç½‘\nGit å¸¸ç”¨å‘½ä»¤ å‘½ä»¤åç§° ä½œç”¨ git config \u0026ndash;global user.name ç”¨æˆ·å è®¾ç½®ç”¨æˆ·ç­¾å git config \u0026ndash;global user.email é‚®ç®± è®¾ç½®ç”¨æˆ·ç­¾å git init åˆå§‹åŒ–æœ¬åœ°åº“ git status æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€ git add æ–‡ä»¶å æ·»åŠ åˆ°æš‚å­˜åŒº git commit -m \u0026ldquo;æ—¥å¿—ä¿¡æ¯\u0026rdquo; æ–‡ä»¶å æäº¤åˆ°æœ¬åœ°åº“ git reflog æŸ¥çœ‹å†å²è®°å½• git reset \u0026ndash;hard ç‰ˆæœ¬å· ç‰ˆæœ¬ç©¿æ¢­ åˆ†æ”¯æ“ä½œ ç†è§£ åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­ã€‚åŒæ—¶æ¨è¿›å¤šä¸ªä»»åŠ¡ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºæ¯ä¸ªä»»åŠ¡çš„å•ç‹¬åˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ç¨‹åºå‘˜å¯ä»¥æŠŠè‡ªå·±çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œå¼€å‘è‡ªå·±åˆ†æ”¯çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“ä¸»çº¿åˆ†æ”¯çš„è¿è¡Œã€‚\nä¼˜ç‚¹ å¹¶è¡Œæ¨è¿›å¤šä¸ªåŠŸèƒ½å¼€å‘ï¼Œæé«˜å¼€å‘æ•ˆç‡ å¦‚æœä¸€ä¸ªåˆ†æ”¯å¼€å‘å¤±è´¥ï¼Œä¸ä¼šå¯¹å…¶ä»–åˆ†æ”¯æœ‰ä»»ä½•å½±å“ã€‚å¤±è´¥çš„åˆ†æ”¯åˆ é™¤é‡æ–°å¼€å§‹å³å¯ æ“ä½œ å‘½ä»¤åç§° ä½œç”¨ git branch åˆ†æ”¯å åˆ›å»ºåˆ†æ”¯ git branch -v æŸ¥çœ‹åˆ†æ”¯ git checkout åˆ†æ”¯å åˆ‡æ¢åˆ†æ”¯ git merge åˆ†æ”¯å æŠŠæŒ‡å®šçš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸Š äº§ç”Ÿå†²çª åˆå¹¶åˆ†æ”¯æ—¶ï¼Œä¸¤ä¸ªåˆ†æ”¯åœ¨åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä¸ªä½ç½®æœ‰ä¸¤å¥—å®Œå…¨ä¸åŒçš„ä¿®æ”¹ã€‚Gitæ— æ³•æ›¿æˆ‘ä»¬å†³å®šä½¿ç”¨å“ªä¸€ä¸ªã€‚å¿…é¡»äººä¸ºå†³å®šæ–°ä»£ç å†…å®¹ã€‚\nè§£å†³å†²çª å¦‚ä»¥ä¸‹æƒ…å†µï¼šmasteråˆ†æ”¯å¯¹å€’æ•°ç¬¬äºŒè¡Œä»£ç æ·»åŠ äº†ä¸€æ®µå†…å®¹ï¼šmaster testï¼Œæ·»åŠ æš‚å­˜åŒºå¹¶æäº¤ï¼Œhot-fixåˆ†æ”¯æ·»åŠ äº†ä¸€æ®µå†…å®¹ï¼šâ€œhot-fix testâ€ï¼Œæ·»åŠ æš‚å­˜åŒºå¹¶æäº¤ã€‚ åˆå¹¶çš„æ—¶å€™ä¼šæŠ¥ä»¥ä¸‹æç¤ºï¼š\nè‡ªåŠ¨åˆå¹¶ hello.txt å†²çªï¼ˆå†…å®¹ï¼‰ï¼šåˆå¹¶å†²çªäº hello.txt è‡ªåŠ¨åˆå¹¶å¤±è´¥ï¼Œä¿®æ­£å†²çªç„¶åæäº¤ä¿®æ­£çš„ç»“æœã€‚ åœ¨æŸ¥çœ‹hello.txt\nello atguigu! hello git! 2222222222 hello atguigu! hello git! fix hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! \u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; HEAD hello atguigu! hello git! master test! ======= hello atguigu! hello git! hot-fix test! \u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt; hot-fix hello atguigu! hello git! æ‰‹åŠ¨è§£å†³å†²çªåhello.txt\nhello atguigu! hello git! 2222222222 hello atguigu! hello git! fix hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! hello atguigu! hello git! master test! hello atguigu! hello git! hot-fix test! hello atguigu! hello git! æ·»åŠ æš‚å­˜åŒº\u0026amp;æäº¤æœ¬åœ°åº“(ä¸å¸¦æ–‡ä»¶å)\ngit add hello.txt git commit -m \u0026#34;merge test\u0026#34; Gitå›¢é˜Ÿåä½œæœºåˆ¶ å›¢é˜Ÿå†…åä½œ è·¨å›¢é˜Ÿåä½œ è¿œç¨‹ä»“åº“æ“ä½œ æŸ¥çœ‹è¿œç¨‹åº“åˆ«å git remote -v åˆ›å»ºè¿œç¨‹ä»“åº“åˆ«å git remote add [åˆ«å] æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åº“ git push [åˆ«å] [åˆ†æ”¯] æ‹‰å–è¿œç¨‹ä»“åº“å†…å®¹ git pull [åˆ«å] [åˆ†æ”¯] å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ° git clone [url] Tip: cloneä¼šåšå¦‚ä¸‹æ“ä½œã€‚1ã€æ‹‰å–ä»£ç ã€‚2ã€åˆå§‹åŒ–æœ¬åœ°ä»“åº“ã€‚3ã€åˆ›å»ºåˆ«å\n","permalink":"https://rexhub.space/posts/git/git%E5%AD%A6%E4%B9%A0/","summary":"Git Gitæ¦‚è¿° Gitæ˜¯ä¸€ä¸ªå…è´¹çš„ï¼Œå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œ å¯ä»¥å¿«é€Ÿé«˜æ•ˆåœ°å¤„ç†ä»å°å‹åˆ°å¤§å‹çš„å„ç§é¡¹ç›®\nGitæ˜“äºå­¦ä¹ ï¼Œå åœ°é¢ç§¯å°ï¼Œæ€§èƒ½æå¿«ï¼Œå®ƒå…·æœ‰å»‰ä»·çš„æœ¬åœ°åº“ï¼Œæ–¹ä¾¿çš„æš‚å­˜åŒºåŸŸå’Œå¤šä¸ªå·¥ä½œè¯¥åˆ†æ”¯ç­‰ç‰¹æ€§ï¼Œå…¶æ€§èƒ½ä¼˜äºSubversion, CSV, Perforceå’ŒClearcaseç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·\nç‰ˆæœ¬æ§åˆ¶ ç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§è®°å½•æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿ\nç‰ˆæœ¬æ§åˆ¶å…¶å®æœ€é‡è¦çš„æ˜¯å¯ä»¥è®°å½•æ–‡ä»¶ä¿®æ”¹å†å²è®°å½•ï¼Œä»è€Œè®©ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹å†å²ç‰ˆæœ¬ï¼Œæ–¹ä¾¿ç‰ˆæœ¬åˆ‡æ¢\nç‰ˆæœ¬æ§åˆ¶å·¥å…· é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆsvã€svnï¼‰\né›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè¯¸å¦‚csvã€svnç­‰ï¼Œéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„é›†ä¸­ç®¡ç†çš„æœåŠ¡å™¨ï¼Œä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®è®¢ç‰ˆæœ¬ï¼Œè€ŒååŒå·¥ä½œçš„äººä»¬éƒ½é€šè¿‡å®¢æˆ·ç«¯è¿åˆ°è¿™å°æœåŠ¡å™¨ï¼Œå–å‡ºæœ€æ–°çš„æ–‡ä»¶æˆ–è€…æäº¤æ›´æ–°ã€‚\nä¼˜ç‚¹ï¼šç®¡ç†å‘˜å¯è½»æ¾æŒæ§æ¯ä¸ªå¼€å‘è€…çš„æƒé™\nç¼ºç‚¹ï¼šä¸­å¤®æœåŠ¡å™¨å•ç‚¹æ•…éšœ\nåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ˆGitã€Mercurialã€Bazaarã€Darcsï¼‰\nåƒGitè¿™ç§åˆ†ä¸å°‘ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œå®¢æˆ·ç«¯æå–çš„ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ï¼Œè€Œæ˜¯æŠŠä»£ç ä»“åº“å®Œæ•´åœ°é•œåƒä¸‹æ¥(æœ¬åœ°åº“)ã€‚\nGitå’Œä»£ç æ‰˜ç®¡ä¸­å¿ƒ ä»£ç æ‰˜ç®¡ä¸­å¿ƒæ˜¯åŸºäºç½‘ç»œæœåŠ¡å™¨çš„è¿œç¨‹ä»£ç ä»“åº“ï¼Œä¸€èˆ¬ç®€å•ç§°ä¸ºè¿œç¨‹åº“ã€‚\nå±€åŸŸç½‘\nGitLab\nGitLabæ˜¯ç”±GitLabInc.å¼€å‘ï¼Œä½¿ç”¨MITè®¸å¯è¯çš„åŸºäºç½‘ç»œçš„Gitä»“åº“ç®¡ç†å·¥å…·ï¼Œä¸”å…·æœ‰wikiå’Œissueè·Ÿè¸ªåŠŸèƒ½ã€‚ä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡ã€‚ GitLabç”±ä¹Œå…‹å…°ç¨‹åºå‘˜DmitriyZaporozhets å’ŒValerySizovå¼€å‘ï¼Œå®ƒä½¿ç”¨Rubyè¯­è¨€å†™æˆã€‚åæ¥ï¼Œä¸€äº›éƒ¨åˆ†ç”¨Goè¯­è¨€é‡å†™ã€‚æˆªæ­¢2018å¹´5æœˆï¼Œè¯¥å…¬å¸çº¦æœ‰290åå›¢é˜Ÿæˆå‘˜ï¼Œä»¥åŠ2000å¤šåå¼€æºè´¡çŒ®è€…ã€‚GitLab è¢«IBMï¼ŒSony, NASA, Alibaba, Invincea, O\u0026rsquo;ReillyMedia, Leibniz-Rechenzentrum(LRZ)ï¼Œ CERN, SpaceX ç­‰ç»„ç»‡ä½¿ç”¨ã€‚\nå®˜ç½‘ å®‰è£…æ–‡æ¡£\näº’è”ç½‘\nGithubï¼ˆå¤–ç½‘ï¼‰\nGitHubäº2008å¹´4æœˆ10æ—¥æ­£å¼ä¸Šçº¿ï¼Œé™¤äº†Gitä»£ç ä»“åº“æ‰˜ç®¡åŠåŸºæœ¬çš„Webç®¡ç†ç•Œé¢ä»¥å¤–ï¼Œè¿˜æä¾›äº†è®¢é˜…ã€è®¨è®ºç»„ã€æ–‡æœ¬æ¸²æŸ“ã€åœ¨çº¿æ–‡ä»¶ç¼–è¾‘å™¨ã€åä½œå›¾è°±ï¼ˆæŠ¥è¡¨ï¼‰ã€ä»£ç ç‰‡æ®µåˆ†äº«ï¼ˆGistï¼‰ç­‰åŠŸèƒ½ã€‚ç›®å‰ï¼Œå…¶æ³¨å†Œç”¨æˆ·å·²ç»è¶…è¿‡350ä¸‡ï¼Œæ‰˜ç®¡ç‰ˆæœ¬æ•°é‡ä¹Ÿæ˜¯éå¸¸ä¹‹å¤šï¼Œå…¶ä¸­ä¸ä¹çŸ¥åå¼€æºé¡¹ç›®Ruby on Railsã€jQueryã€pythonç­‰ã€‚\nå®˜ç½‘\nGiteeç äº‘ï¼ˆå›½å†…æœåŠ¡å™¨ï¼‰\nä¼—æ‰€å‘¨çŸ¥, GitHubæœåŠ¡å™¨åœ¨å›½å¤–,ä½¿ç”¨GitHubä½œä¸ºé¡¹ç›®æ‰˜ç®¡ç½‘ç«™,å¦‚æœç½‘é€Ÿä¸å¥½çš„è¯ï¼Œä¸¥é‡å½±å“ä½¿ç”¨ä½“éªŒï¼Œç”šè‡³ä¼šå‡ºç°ç™»å½•ä¸ä¸Šçš„æƒ…å†µã€‚\nå®˜ç½‘\nGit å¸¸ç”¨å‘½ä»¤ å‘½ä»¤åç§° ä½œç”¨ git config \u0026ndash;global user.name ç”¨æˆ·å è®¾ç½®ç”¨æˆ·ç­¾å git config \u0026ndash;global user.email é‚®ç®± è®¾ç½®ç”¨æˆ·ç­¾å git init åˆå§‹åŒ–æœ¬åœ°åº“ git status æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€ git add æ–‡ä»¶å æ·»åŠ åˆ°æš‚å­˜åŒº git commit -m \u0026ldquo;æ—¥å¿—ä¿¡æ¯\u0026rdquo; æ–‡ä»¶å æäº¤åˆ°æœ¬åœ°åº“ git reflog æŸ¥çœ‹å†å²è®°å½• git reset \u0026ndash;hard ç‰ˆæœ¬å· ç‰ˆæœ¬ç©¿æ¢­ åˆ†æ”¯æ“ä½œ ç†è§£ åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­ã€‚åŒæ—¶æ¨è¿›å¤šä¸ªä»»åŠ¡ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºæ¯ä¸ªä»»åŠ¡çš„å•ç‹¬åˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ç¨‹åºå‘˜å¯ä»¥æŠŠè‡ªå·±çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œå¼€å‘è‡ªå·±åˆ†æ”¯çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“ä¸»çº¿åˆ†æ”¯çš„è¿è¡Œã€‚","title":"Gitå­¦ä¹ "},{"content":"å°ç¨‹åºæ•°æ®è¡¨ æ¨¡å—è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id int æ¨¡å—ç¼–å· module_code varchar(50) æ¨¡å—ç  module_name varchar(50) æ¨¡å—å create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator datetime åˆ›å»ºäºº updater datetime æ›´æ–°äºº è¡Œä¸ºè¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id int è¡Œä¸ºç¼–å· action_code varchar(50) è¡Œä¸ºç  action_name varchar(50) è¡Œä¸ºå create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator datetime åˆ›å»ºäºº updater datetime æ›´æ–°äºº ç”¨æˆ·è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigname ç”¨æˆ·ç¼–å· real_name varchar(20) å®å nick_name varchar(20) ç”¨æˆ·æ˜µç§° password varchar(20) ç”¨æˆ·å¯†ç  avatar_url varchar(255) ç”¨æˆ·å¤´åƒ gender tinyint ç”¨æˆ·æ€§åˆ«ï¼Œ0-ç”·ç”Ÿï¼Œ1-å¥³ç”Ÿ tel varchar(20) æ‰‹æœºå· email varchar(20) é‚®ç®± create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator datetime åˆ›å»ºäºº updater datetime æ›´æ–°äºº è§’è‰²è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint è§’è‰²ç¼–å· name varchar(20) è§’è‰²åç§° desc varchar(20) è§’è‰²æè¿° systemic tinyint æ˜¯å¦ä¸ºç³»ç»Ÿå†…ç½® create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· æƒé™è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint æƒé™ç¼–å· permission_code varchar(255) æƒé™ç  module_id int æ¨¡å—ç¼–å· action_id int è¡Œä¸ºç¼–å·(å¢ã€åˆ ã€æ”¹ã€æŸ¥) create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· ç”¨æˆ·è§’è‰²è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint ç”¨æˆ·è§’è‰²ç¼–å· user_id bigint ç”¨æˆ·ç¼–å· role_id bigint è§’è‰²ç¼–å· create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· è§’è‰²æƒé™è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint è§’è‰²æƒé™ç¼–å· role_id bigint è§’è‰²ç¼–å· permission_id bigint æƒé™ç¼–å· create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· å¾®ä¿¡ç”¨æˆ·æ¨¡å— å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint ç”¨æˆ·ç¼–å· open_id varchar(50) å¾®ä¿¡ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦ auth_ token varchar(50) ç”¨æˆ·ç™»å½•æ—¶çš„token union_id varchar(50) ç”¨æˆ·åœ¨å¼€æ”¾å¹³å°ä¸‹çš„å”¯ä¸€æ ‡è¯†ç¬¦ avatar_url varchar(255) ç”¨æˆ·å¤´åƒ tel varchar(255) ç”¨æˆ·æ‰‹æœºå· real_name varchar(20) å®å gender tinyint ç”¨æˆ·æ€§åˆ«ï¼Œ0-ç”·ç”Ÿï¼Œ1-å¥³ç”Ÿ id_card varchar(20) èº«ä»½è¯å· last_location varchar(20) ä¸Šæ¬¡ç™»å½•åœ°ç‚¹ create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´,å¯å½“ä½œä¸Šæ¬¡ç™»å½•æ—¶é—´ä½¿ç”¨ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· ","permalink":"https://rexhub.space/posts/proj/doc/%E6%B8%A9%E5%B7%A5%E7%BE%8E%E9%99%A2/%E6%95%B0%E6%8D%AE%E5%BA%93/","summary":"å°ç¨‹åºæ•°æ®è¡¨ æ¨¡å—è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id int æ¨¡å—ç¼–å· module_code varchar(50) æ¨¡å—ç  module_name varchar(50) æ¨¡å—å create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator datetime åˆ›å»ºäºº updater datetime æ›´æ–°äºº è¡Œä¸ºè¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id int è¡Œä¸ºç¼–å· action_code varchar(50) è¡Œä¸ºç  action_name varchar(50) è¡Œä¸ºå create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator datetime åˆ›å»ºäºº updater datetime æ›´æ–°äºº ç”¨æˆ·è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigname ç”¨æˆ·ç¼–å· real_name varchar(20) å®å nick_name varchar(20) ç”¨æˆ·æ˜µç§° password varchar(20) ç”¨æˆ·å¯†ç  avatar_url varchar(255) ç”¨æˆ·å¤´åƒ gender tinyint ç”¨æˆ·æ€§åˆ«ï¼Œ0-ç”·ç”Ÿï¼Œ1-å¥³ç”Ÿ tel varchar(20) æ‰‹æœºå· email varchar(20) é‚®ç®± create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator datetime åˆ›å»ºäºº updater datetime æ›´æ–°äºº è§’è‰²è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint è§’è‰²ç¼–å· name varchar(20) è§’è‰²åç§° desc varchar(20) è§’è‰²æè¿° systemic tinyint æ˜¯å¦ä¸ºç³»ç»Ÿå†…ç½® create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· æƒé™è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint æƒé™ç¼–å· permission_code varchar(255) æƒé™ç  module_id int æ¨¡å—ç¼–å· action_id int è¡Œä¸ºç¼–å·(å¢ã€åˆ ã€æ”¹ã€æŸ¥) create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· ç”¨æˆ·è§’è‰²è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint ç”¨æˆ·è§’è‰²ç¼–å· user_id bigint ç”¨æˆ·ç¼–å· role_id bigint è§’è‰²ç¼–å· create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· è§’è‰²æƒé™è¡¨ å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint è§’è‰²æƒé™ç¼–å· role_id bigint è§’è‰²ç¼–å· permission_id bigint æƒé™ç¼–å· create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· å¾®ä¿¡ç”¨æˆ·æ¨¡å— å­—æ®µå ç±»å‹ æ³¨é‡Š id bigint ç”¨æˆ·ç¼–å· open_id varchar(50) å¾®ä¿¡ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦ auth_ token varchar(50) ç”¨æˆ·ç™»å½•æ—¶çš„token union_id varchar(50) ç”¨æˆ·åœ¨å¼€æ”¾å¹³å°ä¸‹çš„å”¯ä¸€æ ‡è¯†ç¬¦ avatar_url varchar(255) ç”¨æˆ·å¤´åƒ tel varchar(255) ç”¨æˆ·æ‰‹æœºå· real_name varchar(20) å®å gender tinyint ç”¨æˆ·æ€§åˆ«ï¼Œ0-ç”·ç”Ÿï¼Œ1-å¥³ç”Ÿ id_card varchar(20) èº«ä»½è¯å· last_location varchar(20) ä¸Šæ¬¡ç™»å½•åœ°ç‚¹ create_time datetime åˆ›å»ºæ—¶é—´ update_time datetime æ›´æ–°æ—¶é—´,å¯å½“ä½œä¸Šæ¬¡ç™»å½•æ—¶é—´ä½¿ç”¨ creator bigint åˆ›å»ºäººç¼–å· updater bigint æ›´æ–°äººç¼–å· ","title":"æ¸©å·¥ç¾é™¢æ•°æ®åº“"},{"content":"å†…ç½‘ç©¿é€å·¥å…· å¼€å‘ä¸­ç”¨åˆ°å†…ç½‘ç©¿é€åšä¸€äº›å¼€å‘æ—¶çš„æ­é…æˆ–è€…çº¿ä¸Šç¯å¢ƒçš„æ¼”ç¤ºè¿˜æ˜¯æŒºå¤šçš„ï¼Œç›®å‰å…ˆè®°å½•ä¸‹å„ç§å†…ç½‘ç©¿é€çš„ç‰¹ç‚¹ä»¥åŠä½¿ç”¨çš„æ–¹å¼ï¼ˆå› ä¸ºfrpcçš„æ“ä½œæˆ‘è€æ˜¯ä¼šå¿˜è®°ï¼Œæ‰€ä»¥è¿™é‡Œè®°å½•ä¸‹ğŸ˜…ï¼‰\nNgrok ngrok æ˜¯ä¸€ä¸ªåå‘ä»£ç†ï¼Œé€šè¿‡åœ¨å…¬å…±ç«¯ç‚¹å’Œæœ¬åœ°è¿è¡Œçš„ Web æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªå®‰å…¨çš„é€šé“ï¼Œå®ç°å†…ç½‘ä¸»æœºçš„æœåŠ¡å¯ä»¥æš´éœ²ç»™å¤–ç½‘ã€‚ngrok å¯æ•è·å’Œåˆ†ææ‰€æœ‰é€šé“ä¸Šçš„æµé‡ï¼Œä¾¿äºåæœŸåˆ†æå’Œé‡æ”¾ï¼Œæ‰€ä»¥ngrokå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ååŠ©æœåŠ¡ç«¯ç¨‹åºæµ‹è¯•ã€‚è¯¦æƒ…è§æ–‡æ¡£\nè¿™ç©æ„å¯ä»¥å…è´¹ä½¿ç”¨ï¼Œä½†æ˜¯è‡ªå®šä¹‰åŸŸåéœ€è¦æ”¶è´¹ï¼Œå…è´¹ä½¿ç”¨çš„ngrokæ¯ä¸ªéš§é“åªèƒ½ç”±40ä¸ªè¿æ¥\nç‰¹ç‚¹ ç¨³å®š è·¨å¹³å° è®°å½•æµé‡ æ“ä½œç®€å• ä½¿ç”¨ è¿›å…¥å®˜ç½‘ï¼Œå¹¶æ‹¿åˆ°authtoken ä¸‹è½½å®‰è£…æ‰€éœ€è¦çš„å·¥å…· é…ç½®authtokenï¼šngrok authtoken [token]ï¼Œ å¼€å¯éš§é“: ngrok http 80[æ‰€éœ€çš„ç«¯å£] frp[è¿˜æ²¡æ“ä½œè¿‡æœ‰ç©ºæ“ä½œä¸€æ³¢] zeroTier[è€å¸ˆæ¨èä¹Ÿè¿˜æ²¡æ“ä½œè¿‡ï¼Œæœ‰ç©ºæ“ä½œä¸€æ³¢] ","permalink":"https://rexhub.space/posts/tools/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/","summary":"å†…ç½‘ç©¿é€å·¥å…· å¼€å‘ä¸­ç”¨åˆ°å†…ç½‘ç©¿é€åšä¸€äº›å¼€å‘æ—¶çš„æ­é…æˆ–è€…çº¿ä¸Šç¯å¢ƒçš„æ¼”ç¤ºè¿˜æ˜¯æŒºå¤šçš„ï¼Œç›®å‰å…ˆè®°å½•ä¸‹å„ç§å†…ç½‘ç©¿é€çš„ç‰¹ç‚¹ä»¥åŠä½¿ç”¨çš„æ–¹å¼ï¼ˆå› ä¸ºfrpcçš„æ“ä½œæˆ‘è€æ˜¯ä¼šå¿˜è®°ï¼Œæ‰€ä»¥è¿™é‡Œè®°å½•ä¸‹ğŸ˜…ï¼‰\nNgrok ngrok æ˜¯ä¸€ä¸ªåå‘ä»£ç†ï¼Œé€šè¿‡åœ¨å…¬å…±ç«¯ç‚¹å’Œæœ¬åœ°è¿è¡Œçš„ Web æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªå®‰å…¨çš„é€šé“ï¼Œå®ç°å†…ç½‘ä¸»æœºçš„æœåŠ¡å¯ä»¥æš´éœ²ç»™å¤–ç½‘ã€‚ngrok å¯æ•è·å’Œåˆ†ææ‰€æœ‰é€šé“ä¸Šçš„æµé‡ï¼Œä¾¿äºåæœŸåˆ†æå’Œé‡æ”¾ï¼Œæ‰€ä»¥ngrokå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ååŠ©æœåŠ¡ç«¯ç¨‹åºæµ‹è¯•ã€‚è¯¦æƒ…è§æ–‡æ¡£\nè¿™ç©æ„å¯ä»¥å…è´¹ä½¿ç”¨ï¼Œä½†æ˜¯è‡ªå®šä¹‰åŸŸåéœ€è¦æ”¶è´¹ï¼Œå…è´¹ä½¿ç”¨çš„ngrokæ¯ä¸ªéš§é“åªèƒ½ç”±40ä¸ªè¿æ¥\nç‰¹ç‚¹ ç¨³å®š è·¨å¹³å° è®°å½•æµé‡ æ“ä½œç®€å• ä½¿ç”¨ è¿›å…¥å®˜ç½‘ï¼Œå¹¶æ‹¿åˆ°authtoken ä¸‹è½½å®‰è£…æ‰€éœ€è¦çš„å·¥å…· é…ç½®authtokenï¼šngrok authtoken [token]ï¼Œ å¼€å¯éš§é“: ngrok http 80[æ‰€éœ€çš„ç«¯å£] frp[è¿˜æ²¡æ“ä½œè¿‡æœ‰ç©ºæ“ä½œä¸€æ³¢] zeroTier[è€å¸ˆæ¨èä¹Ÿè¿˜æ²¡æ“ä½œè¿‡ï¼Œæœ‰ç©ºæ“ä½œä¸€æ³¢] ","title":"å†…ç½‘ç©¿é€"},{"content":"è¿ç®—ç¬¦ã€Goå­¦ä¹ ä¹‹è·¯ã€‘ è¿ç®—ç¬¦æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¬¦å·ï¼Œç”¨ä»¥è¡¨ç¤ºæ•°æ®çš„è¿ç®—ã€èµ‹å€¼å’Œæ¯”è¾ƒç­‰ï¼ˆç‰¹åˆ«æ³¨æ„goè¯­è¨€é‡Œæ— ä¸‰å…ƒè¿ç®—ç¬¦ï¼‰\nåˆ†ç±» ç®—æœ¯è¿ç®—ç¬¦ ç”¨äºå¯¹æ•°å€¼ç±»å‹çš„å˜é‡è¿›è¡Œè¿ç®—\nè¿ç®—ç¬¦ è¿ç®— èŒƒä¾‹ ç»“æœ + æ­£å· +3 3 - è´Ÿå· -4 -4 + åŠ  5 + 5 10 - å‡ 6 - 4 2 * ä¹˜ 3 * 4 12 / é™¤ 5 / 5 1 % å–æ¨¡(å–ä½™) 7 % 5 2 ++ è‡ªå¢ a = 2 a++ a = 3 \u0026ndash; è‡ªå‡ a= 2 a\u0026ndash; a = 1 + å­—ç¬¦ä¸²æ‹¼æ¥ \u0026ldquo;He\u0026rdquo; + \u0026ldquo;llo\u0026rdquo; \u0026ldquo;Hello\u0026rdquo; åŸºæœ¬ä½¿ç”¨\npackage main import ( \u0026#34;fmt\u0026#34; ) func main() { //ç‰¹åˆ«æ³¨æ„\u0026#34;/\u0026#34;ã€\u0026#34;%\u0026#34;ã€\u0026#34;++\u0026#34;ã€\u0026#34;--\u0026#34; // \u0026#34;/\u0026#34;çš„ä½¿ç”¨ // è¯´æ˜ï¼Œå¦‚æœè¿ç®—çš„æ•°éƒ½æ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆé™¤åï¼Œå»æ‰å°æ•°éƒ¨åˆ†ï¼Œä¿ç•™æ•´æ•°éƒ¨åˆ† fmt.Println(10 / 4) // 2 var n1 float32 = 10 / 4 fmt.Println(n1) // 2 // å¦‚æœæˆ‘ä»¬å¸Œæœ›ä¿ç•™å°æ•°éƒ¨åˆ†ï¼Œåˆ™éœ€è¦æœ‰æµ®ç‚¹æ•°å‚ä¸è¿ç®— var n2 float32 = 10.0 / 4 fmt.Println(n2) // 2.5 // \u0026#34;%\u0026#34;çš„ä½¿ç”¨ // å–ä½™å…¬å¼ a % b = a - (a / b * b) fmt.Println(\u0026#34;10 % 3 =\u0026#34;, 10%3) // 1 fmt.Println(\u0026#34;-10 % 3 =\u0026#34;, -10%3) // -1 fmt.Println(\u0026#34;10 % -3 =\u0026#34;, 10%-3) // 1 fmt.Println(\u0026#34;-10 % -3 =\u0026#34;, -10%-3) //-1 // ++ å’Œ --çš„ä½¿ç”¨ var i int = 10 i++ // ç­‰ä»·i = i + 1 fmt.Println(\u0026#34;i =\u0026#34;, i) // 11 i-- // ç­‰ä»· i = i - 1 fmt.Println(\u0026#34;i =\u0026#34;, i) // 10 } ç»†èŠ‚è¯´æ˜\nå¯¹äºé™¤å·â€œ/â€ï¼Œå®ƒçš„æ•´æ•°é™¤å’Œå°æ•°é™¤æ˜¯æœ‰åŒºåˆ«çš„ï¼šæ•´æ•°é™¤æ³•ï¼Œåªä¿ç•™æ•´æ•°éƒ¨åˆ†è€Œèˆå¼ƒå°æ•°éƒ¨åˆ†\nå½“å¯¹ä¸€ä¸ªæ•°å–æ¨¡æ—¶ï¼Œå¯ä»¥ç­‰ä»·a % b = a - (a / b * b)\nGolangçš„è®¾è®¡è€…å»æ‰C / Javaä¸­è‡ªå¢è‡ªå‡å®¹æ˜“æ··æ·†çš„å†™æ³•ï¼Œè®©Golangæ›´åŠ ç®€æ´ï¼Œç»Ÿä¸€ã€‚ï¼ˆå¼ºåˆ¶æ€§çš„ï¼Œå¤ªæç¬‘äº†ï¼Œä¼°è®¡æ˜¯æ±¤æ™®æ£®çœ‹ä¸ä¸‹Cè¯­è¨€çš„å…«è‚¡æ–‡è€ƒè¯•äº†ï¼‰\nGolangçš„è‡ªå¢è‡ªå‡åªèƒ½å½“ä½œä¸€ä¸ªç‹¬ç«‹è¯­å¥ä½¿ç”¨ï¼Œb := a++ æˆ–è€… b:=a \u0026ndash;éƒ½æ˜¯é”™çš„ï¼Œåœ¨å…¶ä»–çš„è¯­è¨€é‡Œæ˜¯è¢«å…è®¸çš„ Golangçš„++å’Œ\u0026ndash;åªèƒ½å†™åœ¨å˜é‡çš„åé¢ï¼Œä¸èƒ½å†™åœ¨å˜é‡çš„å‰é¢ï¼Œ++aï¼Œ\u0026ndash;aéƒ½æ˜¯é”™çš„ï¼Œåœ¨å…¶ä»–çš„è¯­è¨€é‡Œæ˜¯è¢«å…è®¸çš„ if i++ \u0026gt; 0 {xxx}çš„ å†™æ³•ä¹Ÿæ˜¯ä¸è¢«å…è®¸çš„ package main import ( \u0026#34;fmt\u0026#34; ) func main() { var i int = 1 // var b int = i++ //è¯­æ³•é”™è¯¯ i++ var b int = i fmt.Println(\u0026#34;b =\u0026#34;, b) // ++i //è¯­æ³•é”™è¯¯ fmt.Println(\u0026#34;b =\u0026#34;, b) if i++ \u0026gt; 0 { //è¯­æ³•é”™è¯¯ fmt.Println(\u0026#34;i =\u0026#34;, i) } } èµ‹å€¼è¿ç®—ç¬¦ èµ‹å€¼è¿ç®—ç¬¦å°±æ˜¯å°†æŸä¸ªè¿ç®—åçš„å€¼ï¼Œèµ‹ç»™æŒ‡å®šçš„å˜é‡\nè¿ç®—ç¬¦ æè¿° ç¤ºä¾‹ = ç®€å•çš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œå°†ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼èµ‹ç»™ä¸€ä¸ªå·¦å€¼ c = a + bï¼Œå°†a+bè¡¨è¾¾å¼ç»“æœèµ‹ç»™c += ç›¸åŠ åå†èµ‹å€¼ c += a ç­‰ä»·äº c = c + a -= ç›¸å‡åå†èµ‹å€¼ c -= a ç­‰ä»·äº c = c-a *= ç›¸ä¹˜åå†èµ‹å€¼ c *= a ç­‰ä»·äº c = c * a /= ç›¸é™¤åå†èµ‹å€¼ c /= a ç­‰ä»·äº c = c / a %= æ±‚ä½™åå†èµ‹å€¼ c % a ç­‰ä»·äº c = c % a \u0026laquo;= å·¦ç§»åèµ‹å€¼ c \u0026laquo;= a ç­‰ä»·äºc = c \u0026laquo; a \u0026raquo;= å³ç§»åèµ‹å€¼ c \u0026raquo;= aç­‰ä»·äºc = c \u0026raquo; a \u0026amp;= æŒ‰ä½ä¸åèµ‹å€¼ c \u0026amp;= aç­‰ä»·äº c = c \u0026amp; a ^= æŒ‰ä½å¼‚æˆ–åèµ‹å€¼ c ^= a ç­‰ä»·äº c = c ^ a != æŒ‰ä½æˆ–åèµ‹å€¼ c != 2 ç­‰äºc = c | 2 åŸºæœ¬ä½¿ç”¨\npackage main import \u0026#34;fmt\u0026#34; func main() { // èµ‹å€¼è¿ç®—ç¬¦çš„ä½¿ç”¨æ¼”ç¤º // var i int // i = 10 // åŸºæœ¬èµ‹å€¼ // æœ‰ä¸¤ä¸ªå˜é‡ï¼Œaå’Œbï¼Œè¦æ±‚å°†å…¶è¿›è¡Œäº¤æ¢ï¼Œæœ€ç»ˆæ‰“å°ç»“æœ // a = 9, b = 2 == \u0026gt; a = 2, b = 9 a, b := 9, 2 fmt.Println(\u0026#34;========äº¤æ¢å‰===========\u0026#34;) fmt.Println(\u0026#34;a =\u0026#34;, a) fmt.Println(\u0026#34;b =\u0026#34;, b) t := a a = b b = t fmt.Println(\u0026#34;========äº¤æ¢å===========\u0026#34;) fmt.Println(\u0026#34;a =\u0026#34;, a) fmt.Println(\u0026#34;b =\u0026#34;, b) fmt.Println(\u0026#34;======å¤åˆèµ‹å€¼çš„æ“ä½œ======\u0026#34;) //å¤åˆèµ‹å€¼çš„æ“ä½œ a += 17 //ç­‰ä»·äºa = a + 17 fmt.Println(\u0026#34;a =\u0026#34;, a) } // ç»“æœ //========äº¤æ¢å‰=========== //a = 9 //b = 2 //========äº¤æ¢å=========== //a = 2 //b = 9 //======å¤åˆèµ‹å€¼çš„æ“ä½œ====== //a = 19 ç»†èŠ‚è¯´æ˜\nè¿ç®—é¡ºåºä»å³å¾€å·¦ èµ‹å€¼è¿ç®—ç¬¦çš„å·¦è¾¹ï¼Œåªèƒ½æ˜¯å˜é‡ï¼Œå³è¾¹å¯ä»¥è¯´å˜é‡ã€è¡¨è¾¾å¼ã€å¸¸é‡å€¼ æ¯”è¾ƒè¿ç®—ç¬¦/å…³ç³»è¿ç®—ç¬¦ å…³ç³»è¿ç®—ç¬¦çš„ç»“æœéƒ½æ˜¯boolç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¦ä¹ˆæ˜¯trueï¼Œè¦ä¹ˆæ˜¯falseï¼Œå…³ç³»è¡¨è¾¾å¼ç»å¸¸ç”¨åœ¨ifç»“æ„çš„æ¡ä»¶ä¸­æˆ–å¾ªç¯ç»“æ„æ¡ä»¶ä¸­\nè¿ç®—ç¬¦ è¿ç®— èŒƒä¾‹ ç»“æœ == ç›¸ç­‰ 4==3 false != ä¸ç­‰äº 4!=3 true \u0026lt; å°äº 4 \u0026lt; 3 false \u0026gt; å¤§äº 4 \u0026gt; 3 true \u0026lt;= å°äºç­‰äº 4 \u0026lt;= 3 false \u0026gt;= å¤§äºç­‰äº 4 \u0026gt;= 3 true åŸºæœ¬ä½¿ç”¨\npackage main import \u0026#34;fmt\u0026#34; func main() { var n1 int = 9 var n2 int = 8 fmt.Println(n1 == n2) // false fmt.Println(n1 != n2) // true fmt.Println(n1 \u0026gt; n2) // true fmt.Println(n1 \u0026lt; n2) // false fmt.Println(n1 \u0026gt;= n2) // true fmt.Println(n1 \u0026lt;= n2) // false flag := n1 \u0026gt; n2 fmt.Println(\u0026#34;flag =\u0026#34;, flag) // true } ç»†èŠ‚è¯´æ˜\nå…³ç³»è¿ç®—ç¬¦çš„ç»“æœéƒ½æ˜¯boolå‹ï¼Œä¹Ÿå°±æ˜¯è¦ä¹ˆtrueï¼Œè¦ä¹ˆæ˜¯false å…³ç³»è¿ç®—ç¬¦ç»„æˆçš„è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬ç§°ä¸º\u0026quot;å…³ç³»è¡¨è¾¾å¼\u0026quot;, a \u0026gt; b æ¯”è¾ƒè¿ç®—ç¬¦\u0026quot; == \u0026ldquo;ä¸èƒ½å†™æˆ \u0026quot; = \u0026quot; é€»è¾‘è¿ç®—ç¬¦ è¿æ¥å¤šä¸ªæ¡ä»¶(å…³ç³»è¡¨è¾¾å¼)ï¼Œæœ€ç»ˆç»“æœä¹Ÿæ˜¯ä¸€ä¸ªbool\nè¿ç®—ç¬¦ è¿ç®— èŒƒä¾‹ ç»“æœ \u0026amp;\u0026amp; é€»è¾‘ä¸è¿ç®—ç¬¦ã€‚æ“ä½œç¬¦ä¸¤è¾¹éƒ½ä¸ºtrueåˆ™ä¸ºtrueï¼Œåä¹‹åˆ™ä¸ºfalse (1 == 1) \u0026amp;\u0026amp; (2 == 2) true || é€»è¾‘æˆ–è¿ç®—ç¬¦ã€‚æ“ä½œç¬¦ä¸¤è¾¹æœ‰ä¸€ä¸ªtrueåˆ™ä¸ºtrueï¼Œåä¹‹åˆ™ä¸ºfalse (1 == 2) \u0026amp;\u0026amp; (2 == 2) true ! é€»è¾‘éè¿ç®—ç¬¦ã€‚å¦‚æœæ¡ä»¶ä¸ºtrueï¼Œåˆ™é€»è¾‘ä¸ºfalseï¼Œå¦åˆ™ä¸ºtrue !(1 == 1) false åŸºæœ¬ä½¿ç”¨\npackage main import \u0026#34;fmt\u0026#34; func main() { // æ¼”ç¤ºé€»è¾‘è¿ç®—ç¬¦çš„ä½¿ç”¨ \u0026amp;\u0026amp; age := 40 if age \u0026gt; 30 \u0026amp;\u0026amp; age \u0026lt; 50 { fmt.Println(\u0026#34;ok1\u0026#34;) } if age \u0026gt; 30 \u0026amp;\u0026amp; age \u0026lt; 40 { fmt.Println(\u0026#34;ok1\u0026#34;) } // ok1 // æ¼”ç¤ºé€»è¾‘è¿ç®—ç¬¦çš„ä½¿ç”¨ || if age \u0026gt; 30 || age \u0026lt; 50 { fmt.Println(\u0026#34;ok3\u0026#34;) } if age \u0026gt; 30 || age \u0026lt; 40 { fmt.Println(\u0026#34;ok4\u0026#34;) } // ok3 // ok4 // æ¼”ç¤ºé€»è¾‘éçš„ä½¿ç”¨ ! if age \u0026gt; 30 { fmt.Println(\u0026#34;ok5\u0026#34;) } if !(age \u0026gt; 30) { fmt.Println(\u0026#34;ok6\u0026#34;) } //ok5 } ç»†èŠ‚è¯´æ˜\n\u0026amp;\u0026amp;ä¹Ÿå«çŸ­è·¯ä¸ï¼šå¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºfalseï¼Œåˆ™ç¬¬äºŒä¸ªæ¡ä»¶ä¸ä¼šåˆ¤æ–­ï¼Œæœ€ç»ˆä¸ºfalse ||ä¹Ÿå«çŸ­è·¯æˆ–ï¼šå¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºtrueï¼Œåˆ™ç¬¬äºŒä¸ªæ¡ä»¶ä¸ä¼šåˆ¤æ–­ï¼Œæœ€ç»ˆç»“æœä¸ºtrue ä½è¿ç®—ç¬¦ è¿ç®—ç¬¦ è¿ç®— èŒƒä¾‹ \u0026amp; æŒ‰ä½ä¸ 1 \u0026amp; 0 = 0 | æŒ‰ä½æˆ– 1 | 0 = 1 ^ æŒ‰ä½å¼‚æˆ– 1^0 = 1 ~ æŒ‰ä½å–å ~1 = 0 å…¶ä»–è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° èŒƒä¾‹ \u0026amp; è¿”å›å˜é‡å­˜å‚¨çš„åœ°å€ \u0026amp;aï¼›å°†ç»™å‡ºå˜é‡çš„å®é™…åœ°å€ * æŒ‡é’ˆå˜é‡ *aï¼›æ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡ åŸºæœ¬ä½¿ç”¨\npackage main import \u0026#34;fmt\u0026#34; func main() { // æ¼”ç¤º \u0026amp; å’Œ *çš„ä½¿ç”¨ï¼ˆæŒ‡é’ˆï¼‰ a := 100 fmt.Println(\u0026#34;açš„åœ°å€\u0026#34;, \u0026amp;a) //0xc0000160b0 var ptr *int = \u0026amp;a fmt.Println(\u0026#34;ptræŒ‡å‘çš„å€¼æ˜¯\u0026#34;, *ptr) //100 } è¿ç®—ç¬¦ä¼˜å…ˆçº§ åˆ†ç±» æè¿° å…³è”æ€§ åç¼€ () [] -\u0026gt; . ++ \u0026ndash; å·¦åˆ°å³ å•ç›® + - ! ~ (type) * \u0026amp; sizeof å³åˆ°å·¦ ä¹˜ã€é™¤ã€å–ä½™ * / % å·¦åˆ°å³ åŠ ã€å‡ + - å·¦åˆ°å³ ç§»ä½ \u0026laquo; \u0026raquo; å·¦åˆ°å³ æ¯”è¾ƒ(å…³ç³») \u0026lt; \u0026lt;= \u0026gt;= \u0026gt; å·¦åˆ°å³ ç›¸ç­‰(å…³ç³») == != å·¦åˆ°å³ æŒ‰ä½AND \u0026amp; å·¦åˆ°å³ æŒ‰ä½XOR ^ å·¦åˆ°å³ æŒ‰ä½OR | å·¦åˆ°å³ é€»è¾‘AND \u0026amp;\u0026amp; å·¦åˆ°å³ é€»è¾‘OR || å·¦åˆ°å³ èµ‹å€¼è¿ç®—ç¬¦ = += -= *= /= %= \u0026raquo;= \u0026laquo;= \u0026amp;= ^= != å³åˆ°å·¦ é€—å· , å·¦åˆ°å³ ","permalink":"https://rexhub.space/posts/back/go/study/%E8%BF%90%E7%AE%97%E7%AC%A6/","summary":"è¿ç®—ç¬¦ã€Goå­¦ä¹ ä¹‹è·¯ã€‘ è¿ç®—ç¬¦æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¬¦å·ï¼Œç”¨ä»¥è¡¨ç¤ºæ•°æ®çš„è¿ç®—ã€èµ‹å€¼å’Œæ¯”è¾ƒç­‰ï¼ˆç‰¹åˆ«æ³¨æ„goè¯­è¨€é‡Œæ— ä¸‰å…ƒè¿ç®—ç¬¦ï¼‰\nåˆ†ç±» ç®—æœ¯è¿ç®—ç¬¦ ç”¨äºå¯¹æ•°å€¼ç±»å‹çš„å˜é‡è¿›è¡Œè¿ç®—\nè¿ç®—ç¬¦ è¿ç®— èŒƒä¾‹ ç»“æœ + æ­£å· +3 3 - è´Ÿå· -4 -4 + åŠ  5 + 5 10 - å‡ 6 - 4 2 * ä¹˜ 3 * 4 12 / é™¤ 5 / 5 1 % å–æ¨¡(å–ä½™) 7 % 5 2 ++ è‡ªå¢ a = 2 a++ a = 3 \u0026ndash; è‡ªå‡ a= 2 a\u0026ndash; a = 1 + å­—ç¬¦ä¸²æ‹¼æ¥ \u0026ldquo;He\u0026rdquo; + \u0026ldquo;llo\u0026rdquo; \u0026ldquo;Hello\u0026rdquo; åŸºæœ¬ä½¿ç”¨","title":"è¿ç®—ç¬¦ã€Goå­¦ä¹ ä¹‹è·¯ã€‘"},{"content":"Goå˜é‡ã€Goå­¦ä¹ ä¹‹è·¯ã€‘ æ¦‚å¿µ å˜é‡æ˜¯ç¨‹åºçš„åŸºæœ¬ç»„æˆå•ä½ï¼Œå˜é‡ç›¸å½“äºå†…å­˜ä¸­ä¸€ä¸ªæ•°æ®å­˜å‚¨ç©ºé—´çš„è¡¨ç¤ºï¼Œå¯ä»¥å°†å˜é‡çœ‹ä½œæ˜¯ä¸€ä¸ªæˆ¿é—´çš„é—¨ç‰Œå·ï¼Œé€šè¿‡é—¨ç‰Œå·å¯ä»¥æ‰¾åˆ°æˆ¿é—´å¹¶å–å‡ºæˆ¿é—´é‡Œçš„ä¸œè¥¿ï¼ŒåŒæ ·çš„é“ç†ï¼Œé€šè¿‡å˜é‡åå¯ä»¥è®¿é—®åˆ°å˜é‡çš„å€¼\nå˜é‡ä½¿ç”¨çš„åŸºæœ¬æ­¥éª¤ å£°æ˜å˜é‡ï¼ˆå®šä¹‰å˜é‡ï¼‰\nåŸºæœ¬è¯­æ³•ï¼švar å˜é‡å æ•°æ®ç±»å‹\nvar a int è¿™å°±æ˜¯å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œå˜é‡åæ˜¯a\nvar num1 float32 è¿™ä¹Ÿå£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤ºä¸€ä¸ªå•ç²¾åº¦ç±»å‹çš„å°æ•°ï¼Œå˜é‡åæ˜¯num1\nèµ‹å€¼\nä½¿ç”¨\nå˜é‡ä½¿ç”¨æ¡ˆä¾‹ ä»£ç ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { // å®šä¹‰å˜é‡/å£°æ˜å˜é‡ var i int // ç»™ièµ‹å€¼ i = 10 // ä½¿ç”¨å˜é‡ fmt.Println(\u0026#34;i =\u0026#34;, i) } è¾“å‡ºï¼š\nPS G:\\goproject\\src\\go_code\\chapter03\\demo01\u0026gt; go run .\\main.go i = 10 å˜é‡ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹ å˜é‡è¡¨ç¤ºå†…å­˜ä¸­çš„ä¸€ä¸ªå­˜å‚¨ç©ºé—´\nè¯¥åŒºåŸŸæœ‰è‡ªå·±çš„åç§°ï¼ˆå˜é‡åï¼‰å’Œç±»å‹ï¼ˆæ•°æ®ç±»å‹ï¼‰\nGolangå˜é‡ä½¿ç”¨çš„ä¸‰ç§æ–¹å¼\nç¬¬ä¸€ç§ï¼šæŒ‡å®šå˜é‡ç±»å‹ï¼Œå£°æ˜åè‹¥ä¸èµ‹å€¼ï¼Œä½¿ç”¨é»˜è®¤å€¼\n// golangçš„å˜é‡ä½¿ç”¨æ–¹å¼1 // ç¬¬ä¸€ç§ï¼šæŒ‡å®šå˜é‡ç±»å‹ï¼Œå£°æ˜åè‹¥ä¸èµ‹å€¼ï¼Œä½¿ç”¨é»˜è®¤å€¼ // inté»˜è®¤å€¼ä¸º0 var i int fmt.Println(\u0026#34;i =\u0026#34;, i) ç¬¬äºŒç§ï¼šæ ¹æ®å€¼è‡ªè¡Œåˆ¤å®šå˜é‡ç±»å‹(ç±»å‹æ¨å¯¼)\n// ç¬¬äºŒç§ï¼šæ ¹æ®å€¼è‡ªè¡Œåˆ¤å®šå˜é‡ç±»å‹(ç±»å‹æ¨å¯¼) var num = 10.11 fmt.Println(\u0026#34;num =\u0026#34;, num) ç¬¬ä¸‰ç§ï¼šçœç•¥varï¼Œæ³¨æ„:=å·¦ä¾§çš„å˜é‡ä¸åº”è¯¥æ˜¯å·²ç»å£°æ˜è¿‡çš„ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯\n// ç¬¬ä¸‰ç§ï¼šçœç•¥varï¼Œæ³¨æ„:=å·¦ä¾§çš„å˜é‡ä¸åº”è¯¥æ˜¯å·²ç»å£°æ˜è¿‡çš„ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ // ä¸‹é¢çš„æ–¹å¼ç­‰ä»·var name string; name = \u0026#34;tom\u0026#34; // \u0026#34;:=\u0026#34;çš„\u0026#34;:\u0026#34;ä¸èƒ½çœç•¥ï¼Œå¦åˆ™æŠ¥é”™ name := \u0026#34;tom\u0026#34; fmt.Println(\u0026#34;name =\u0026#34;, name) å¤šå˜é‡å£°æ˜\nåœ¨ç¼–ç¨‹ä¸­ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦ä¸€æ¬¡æ€§å£°æ˜å¤šä¸ªå˜é‡ï¼ŒGolangä¹Ÿæä¾›è¿™æ ·çš„è¯­æ³•\npackage main import \u0026#34;fmt\u0026#34; func main() { // è¯¥æ¡ˆä¾‹æ¼”ç¤ºgolangå¦‚ä½•ä¸€æ¬¡æ€§å£°æ˜å¤šä¸ªå˜é‡ // var n1, n2, n3 int // fmt.Println(\u0026#34;n1 =\u0026#34;, n1, \u0026#34;n2 =\u0026#34;, n2, \u0026#34;n3 =\u0026#34;, n3) // ä¸€æ¬¡æ€§å£°æ˜å¤šä¸ªå˜é‡çš„æ–¹å¼2 // var n1, name, n3 = 100, \u0026#34;tom\u0026#34;, 888 // fmt.Println(\u0026#34;n1 =\u0026#34;, n1, \u0026#34;name =\u0026#34;, name, \u0026#34;n3 =\u0026#34;, n3) // ä¸€æ¬¡æ€§å£°æ˜å¤šä¸ªå˜é‡çš„æ–¹å¼3 n1, name, n3 := 100, \u0026#34;tom\u0026#34;, 888 fmt.Println(\u0026#34;n1 =\u0026#34;, n1, \u0026#34;name =\u0026#34;, name, \u0026#34;n3 =\u0026#34;, n3) } å¦‚ä½•ä¸€æ¬¡æ€§å£°æ˜å¤šä¸ªå…¨å±€å˜é‡\n// å®šä¹‰å…¨å±€å˜é‡ var n1 = 100 var n2 = 200 var name = \u0026#34;jack\u0026#34; // ä¸Šé¢çš„å£°æ˜æ–¹å¼ï¼Œä¹Ÿå¯ä»¥æ”¹æˆä¸€æ¬¡æ€§å£°æ˜ var ( n3 = 300 n4 = 900 name2 = \u0026#34;mary\u0026#34; ) è¯¥åŒºåŸŸçš„æ•°æ®å€¼å¯ä»¥åœ¨åŒä¸€ç±»å‹èŒƒå›´å†…ä¸æ–­å˜åŒ–\npackage main import \u0026#34;fmt\u0026#34; // å˜é‡ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹ func main() { // è¯¥åŒºåŸŸçš„æ•°æ®å€¼å¯ä»¥åœ¨åŒä¸€ç±»å‹èŒƒå›´å†…ä¸æ–­å˜åŒ– var i int = 10 i = 30 fmt.Println(\u0026#34;i =\u0026#34;, i) i = 1.2 //int, åŸå› æ˜¯ä¸èƒ½æ”¹å˜æ•°æ®ç±»å‹ } å˜é‡åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸ(å‡½æ•°æˆ–ä»£ç å—)ä¸èƒ½é‡å\n// å˜é‡åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸ(å‡½æ•°æˆ–ä»£ç å—)ä¸èƒ½é‡å // var i int = 50 i := 99 å˜é‡ = å˜é‡å + å€¼ + æ•°æ®ç±»å‹\nGolangçš„å˜é‡å¦‚æœæ²¡æœ‰èµ‹åˆå€¼ï¼Œç¼–è¯‘å™¨ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼Œæ¯”å¦‚inté»˜è®¤å€¼0ï¼Œstringé»˜è®¤å€¼ä¸ºç©ºï¼Œå°æ•°é»˜è®¤å€¼ä¸º0\nå˜é‡çš„æ•°æ®ç±»å‹ graph LR; A[\u0026#34;æ•°æ®ç±»å‹\u0026#34;]--\u0026gt;B[\u0026#34;åŸºæœ¬æ•°æ®ç±»å‹\u0026#34;]; A--\u0026gt;C[\u0026#34;æ´¾ç”Ÿ/å¤æ‚æ•°æ®ç±»å‹\u0026#34;]; B--\u0026gt;D[\u0026#34;æ•°å€¼å‹\u0026#34;]; D--\u0026gt;P[\u0026#34;æ•´æ•°ç±»å‹(int, int8, int32, int64ï¼Œ\u0026lt;/br\u0026gt;uint, uint8, uint16, uint64, byte), \u0026lt;/br\u0026gt;rune(int32çš„åˆ«å,ç”¨unicodeç å€¼å­˜æ”¾)\u0026#34;]; D--\u0026gt;Q[\u0026#34;*æµ®ç‚¹ç±»å‹(float32, float64)\u0026#34;]; D--\u0026gt;R[\u0026#34;å¤æ•°ç±»å‹(complex)\u0026#34;] B--\u0026gt;E[\u0026#34;å­—ç¬¦å‹(æ²¡æœ‰ä¸“é—¨çš„å­—ç¬¦å‹ï¼Œä½¿ç”¨byteæ¥ä¿å­˜\u0026lt;br\u0026gt;å•ä¸ªå­—æ¯å­—ç¬¦ï¼Œæ— æ³•å­˜å‚¨æ±‰å­—ï¼Œä½¿ç”¨çš„æ˜¯utf-8ç¼–ç )\u0026#34;]; B--\u0026gt;F[\u0026#34;å¸ƒå°”å‹(bool)\u0026#34;]; B--\u0026gt;G[\u0026#34;å­—ç¬¦ä¸²(string)[å®˜æ–¹å°†stringå½’å±åˆ°åŸºæœ¬æ•°æ®ç±»å‹]\u0026#34;]; C--\u0026gt;H[\u0026#34;æŒ‡é’ˆ(Pointer)\u0026#34;]; C--\u0026gt;I[\u0026#34;æ•°ç»„\u0026#34;]; C--\u0026gt;J[\u0026#34;ç»“æ„ä½“(struct)\u0026#34;]; C--\u0026gt;K[\u0026#34;ç®¡é“(Channel)\u0026#34;]; C--\u0026gt;L[\u0026#34;å‡½æ•°(ä¹Ÿæ˜¯ä¸€ç§ç±»å‹)\u0026#34;]; C--\u0026gt;M[\u0026#34;åˆ‡ç‰‡(slice)\u0026#34;]; C--\u0026gt;N[\u0026#34;æ¥å£(interface)\u0026#34;]; C--\u0026gt;O[\u0026#34;map\u0026#34;]; æ•´æ•°å‹ ç±»å‹ï¼š\nç±»å‹ æœ‰æ— ç¬¦å· å ç”¨å­˜å‚¨ç©ºé—´ è¡¨æ•°èŒƒå›´ å¤‡æ³¨ int8 æœ‰ 1å­—èŠ‚ -128~127 ç±»ä¼¼äºjavaä¸­çš„byte int16 æœ‰ 2å­—èŠ‚ -2^15~2^15-1 ç±»ä¼¼äºjavaä¸­çš„short int32 æœ‰ 4å­—èŠ‚ -2^31~2^31-1 ç±»ä¼¼äºjavaä¸­çš„int int64 æœ‰ 8å­—èŠ‚ -2^63~2^63-1 ç±»ä¼¼äºjavaä¸­çš„long uint8 æ—  1å­—èŠ‚ 0~255 uint16 æ—  2å­—èŠ‚ 0~2^16-1 uint32 æ—  4å­—èŠ‚ 0~2^32-1 uint64 æ—  8å­—èŠ‚ 0~2^64-1 int æœ‰ 32ä½ç³»ç»Ÿ4ä¸ªå­—èŠ‚ï¼Œ64ä½ç³»ç»Ÿ8ä¸ªå­—èŠ‚ -2^31~2^31-1\n-2^63~2^63-1 uint æœ‰ 32ä½ç³»ç»Ÿ4ä¸ªå­—èŠ‚ï¼Œ64ä½ç³»ç»Ÿ8ä¸ªå­—èŠ‚ 0~2^32-10~2^64-1 rune æœ‰ ä¸int8ç­‰ä»· -2^31~2^31-1 ç­‰ä»·int32ï¼Œè¡¨ç¤ºä¸€ä¸ªunicodeç  byte æ—  ä¸uint8ç­‰ä»· 0~255 å½“è¦å­˜å‚¨å­—ç¬¦æ—¶é€‰ç”¨byte ä½¿ç”¨\npackage main import \u0026#34;fmt\u0026#34; // æ¼”ç¤ºgolangä¸­æ•´æ•°ç±»å‹çš„ä½¿ç”¨ func main() { var i int = 1 fmt.Println(\u0026#34;i =\u0026#34;, i) //æµ‹è¯•ä¸€ä¸‹int8çš„èŒƒå›´ -128~127 //å…¶ä»–çš„ int16. int32, int64ä»¥æ­¤ç±»æ¨ var j int8 = 127 fmt.Println(\u0026#34;j =\u0026#34;, j) //æµ‹è¯•ä¸€ä¸‹uint8çš„èŒƒå›´(0~255)ï¼Œå…¶ä»–uint16ï¼Œuint32ï¼Œuint64ä»¥æ­¤ç±»æ¨ var k uint8 = 255 fmt.Println(\u0026#34;k =\u0026#34;, k) } æ³¨æ„ï¼šGolangç¨‹åºä¸­æ•´å‹å˜é‡åœ¨ä½¿ç”¨æ—¶ï¼Œéµå®ˆä¿å°ä¸ä¿å¤§çš„åŸåˆ™ï¼Œå³ï¼šåœ¨ä¿è¯ç¨‹åºæ­£ç¡®è¿è¡Œä¸‹ï¼Œå°½é‡ä½¿ç”¨å ç”¨ç©ºé—´å°çš„æ•°æ®ç±»å‹ã€‚ã€å¦‚ï¼šå¹´é¾„ã€‘\næµ®ç‚¹å‹ ç±»å‹\nç±»å‹ å ç”¨å­˜å‚¨ç©ºé—´ è¡¨æ•°èŒƒå›´ å•ç²¾åº¦ 4å­—èŠ‚ -3.403E38~3.403E38 åŒç²¾åº¦ 8å­—èŠ‚ -1.798E308~1.798308 ä½¿ç”¨\nä»£ç ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; ) // æ¼”ç¤ºgolangä¸­å°æ•°ç±»å‹çš„ä½¿ç”¨ func main() { var price float32 = 89.123 fmt.Println(\u0026#34;price =\u0026#34;, price) var num1 float32 = -0.00089 var num2 float64 = -7809656.09 fmt.Println(\u0026#34;num1 =\u0026#34;, num1, \u0026#34;num2 =\u0026#34;, num2) } è¾“å‡º\nprice = 89.123 num1 = -0.00089 num2 = -7.80965609e+06 æ³¨æ„ï¼š\nGolangçš„æµ®ç‚¹ç±»å‹åœ¨å­˜å‚¨çš„æ—¶å€™ä¸å…¶ä»–è¯­è¨€ç±»ä¼¼ï¼Œé‡‡ç”¨çš„æ˜¯IEEE754æµ®ç‚¹æ•°è¡¨ç¤ºçš„æ–¹å¼ï¼Œç¬¦å·ä½ + æŒ‡æ•°ä½ + å°¾æ•°ä½ = æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨çš„æ—¶å€™å®¹æ˜“å‡ºç°ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜\nä»£ç ï¼š\n// ç²¾åº¦ä¸¢å¤± f1 := 1129.6 fmt.Println(f1 * 100) è¾“å‡ºï¼š\n112959.99999999999 Golangçš„æµ®ç‚¹å‹é»˜è®¤å£°æ˜ä¸ºfloat64ç±»å‹\nä»£ç ï¼š\nvar num5 = 0.1 fmt.Printf(\u0026#34;num5 çš„æ•°æ®ç±»å‹ä¸º%T\\n\u0026#34;, num5) è¾“å‡ºï¼š\nnum5 çš„æ•°æ®ç±»å‹ä¸ºfloat64 æµ®ç‚¹å‹å¸¸é‡æœ‰ä¸¤ç§è¡¨ç¤ºå½¢å¼\nåè¿›åˆ¶æ•°å½¢å¼ï¼šå¦‚ï¼š5.12 .512ï¼Œå¿…é¡»æœ‰å°æ•°ç‚¹\\\nä»£ç ï¼š\n// åè¿›åˆ¶æ•°å½¢å¼ï¼šå¦‚ï¼š5.12\t.512(å¿…é¡»æœ‰å°æ•°ç‚¹) num6 := 5.12 num7 := .512 fmt.Println(\u0026#34;num6 =\u0026#34;, num6, \u0026#34;num7 =\u0026#34;, num7) è¾“å‡ºï¼š\nnum6 = 5.12 num7 = 0.512 ç§‘å­¦è®¡æ•°æ³•ï¼šå¦‚5.1234e2 = 5.12 * 10 çš„2æ¬¡æ–¹ 5.12E-2=5.12/10çš„2æ¬¡æ–¹\nä»£ç ï¼š\n//ç§‘å­¦è®¡æ•°æ³•å½¢å¼ num8 := 5.1234e2 //5.1234*10^2 num9 := 5.1234e2 //5.1234*10^2 num10 := 5.1234e-2 //5.1234*10^-2 fmt.Println(\u0026#34;num8 =\u0026#34;, num8, \u0026#34;num9 =\u0026#34;, num9, \u0026#34;num10 =\u0026#34;, num10) è¾“å‡ºï¼š\nnum8 = 512.34 num9 = 512.34 num10 = 0.051234 é€šå¸¸æƒ…å†µï¼Œä½¿ç”¨float64ï¼Œå› ä¸ºç²¾ç¡®åº¦æ›´é«˜\nå­—ç¬¦å‹ Golangæ²¡æœ‰ä¸“é—¨çš„å­—ç¬¦ç±»å‹ï¼Œå¦‚æœè¦å­˜å‚¨å•ä¸ªå­—ç¬¦ï¼Œä¸€èˆ¬ä½¿ç”¨byteæ¥ä¿å­˜\nç±»å‹\nç±»å‹ å ç”¨å­˜å‚¨ç©ºé—´ ç¼–ç æ–¹å¼ byte è‹±æ–‡å­—æ¯å ç”¨1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—å ç”¨3ä¸ªå­—èŠ‚ UTF-8 ä½¿ç”¨\nä»£ç ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; ) // æ¼”ç¤ºgolangä¸­å­—ç¬¦ç±»å‹çš„ä½¿ç”¨ func main() { var c1 byte = \u0026#39;a\u0026#39; var c2 byte = \u0026#39;0\u0026#39; //å­—ç¬¦çš„0 // å½“æˆ‘ä»¬ç›´æ¥è¾“å‡ºbyteï¼Œå°±æ˜¯è¾“å‡ºå¯¹åº”çš„asciiç å€¼ fmt.Println(\u0026#34;c1 =\u0026#34;, c1) fmt.Println(\u0026#34;c2 =\u0026#34;, c2) // å¦‚æœæˆ‘ä»¬å¸Œæœ›è¾“å‡ºå¯¹åº”çš„å­—ç¬¦ï¼Œéœ€è¦ä½¿ç”¨æ ¼å¼åŒ–è¾“å‡º fmt.Printf(\u0026#34;c1=%c c2=%c\\n\u0026#34;, c1, c2) // var c3 byte = \u0026#39;åŒ—\u0026#39; //overflowæº¢å‡º var c3 int = \u0026#39;åŒ—\u0026#39; //overflowæº¢å‡º fmt.Printf(\u0026#34;c3 = %c\\n\u0026#34;, c3) // å¯ä»¥ç›´æ¥ç»™æŸä¸ªå˜é‡èµ‹ä¸€ä¸ªæ•°å­—ï¼Œç„¶åæ ¼å¼åŒ–è¾“å‡ºã€‚è¾“å‡ºå¯¹åº”çš„unicodeå­—ç¬¦ var c4 int = 22269 fmt.Printf(\u0026#34;c4 = %c\\n\u0026#34;, c4) // å­—ç¬¦ç±»å‹æ˜¯å¯ä»¥è¿›è¡Œè¿ç®—çš„ï¼Œç›¸å½“äºä¸€ä¸ªæ•´æ•°ï¼Œè¿ç®—æ—¶æ˜¯æŒ‰ç…§ç å€¼è¿è¡Œ var n1 = 10 + \u0026#39;a\u0026#39; fmt.Println(\u0026#34;n1 =\u0026#34;, n1) } è¾“å‡ºï¼š\nc1 = 97 c2 = 48 c1=a c2=0 c3 = åŒ— c4 = å›½ n1 = 107 å¸ƒå°”å‹ ç±»å‹\nç±»å‹ å ç”¨å­˜å‚¨ç©ºé—´ å–å€¼ bool 1ä¸ªå­—èŠ‚ true|false ä½¿ç”¨\nä»£ç ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;unsafe\u0026#34; ) // æ¼”ç¤ºgolangä¸­å¸ƒå°”å‹çš„ä½¿ç”¨ func main() { var b = false fmt.Println(\u0026#34;b =\u0026#34;, b) // æ³¨æ„äº‹é¡¹ // 1.boolç±»å‹å ç”¨å­˜å‚¨ç©ºé—´æ˜¯ä¸€ä¸ªå­—èŠ‚ fmt.Println(\u0026#34;bool å ç”¨çš„ç©ºé—´ä¸º\u0026#34;, unsafe.Sizeof(b)) } è¾“å‡ºï¼š\nb = false bool å ç”¨çš„ç©ºé—´ä¸º 1 è¯´æ˜ï¼šç‰¹åˆ«æ³¨æ„ï¼Œboolç±»å‹å’Œc++ä¸ä¸€æ ·ï¼Œboolåªèƒ½å–trueå’Œfalseï¼Œä¸èƒ½å–0æˆ–1\nå­—ç¬¦ä¸² å­—ç¬¦ä¸²æ˜¯ç”±å›ºå®šé•¿åº¦çš„å­—ç¬¦è¿æ¥èµ·æ¥çš„å­—ç¬¦åºåˆ—\nä½¿ç”¨\nä»£ç ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; ) // æ¼”ç¤ºgolangä¸­stringçš„ä½¿ç”¨ func main() { //stringçš„åŸºæœ¬èˆ’å‹‡ var address string = \u0026#34;åŒ—äº¬é•¿åŸ 110 hello world!\u0026#34; fmt.Println(\u0026#34;address =\u0026#34;, address) } è¾“å‡º\naddress = åŒ—äº¬é•¿åŸ è¯´æ˜\nGoçš„å­—ç¬¦ä¸²æ˜¯ç”±å•ä¸ªå­—èŠ‚è¿æ¥èµ·æ¥çš„ã€‚ä½¿ç”¨UTF-8ç¼–ç æ ‡è¯†Unicodeæ–‡æœ¬ï¼ˆGolangç»Ÿä¸€ä½¿ç”¨UTF-8ç¼–ç ï¼Œä¸å®¹æ˜“å‡ºç°ä¸­æ–‡ä¹±ç é—®é¢˜ï¼‰\nå­—ç¬¦ä¸²ä¸€æ—¦èµ‹å€¼äº†ï¼Œå­—ç¬¦ä¸²å°±ä¸èƒ½ä¿®æ”¹äº†ï¼Œåœ¨Goä¸­å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„\nä»£ç ï¼š\nvar str = \u0026#34;hello\u0026#34; str[0] = \u0026#39;a\u0026#39; //è¿™é‡Œå°±ä¸èƒ½å»ä¿®æ”¹strçš„å†…å®¹ï¼Œcannot assign to str[0] è¾“å‡º:\ncannot assign to str[0] å­—ç¬¦ä¸²çš„ä¸¤ç§è¡¨ç¤ºå½¢å¼\nåŒå¼•å·(\u0026quot;\u0026quot;): ä¼šè¯†åˆ«è½¬ä¹‰å­—ç¬¦ åå¼•å·(``)ï¼šä»¥å­—ç¬¦ä¸²çš„åŸç”Ÿå½¢å¼è¾“å‡º ä»£ç ï¼š\nstr1 := \u0026#34;\\n\\n123\\n\u0026#34; str2 := `\\n\\n123\\n` str3 := ` \u0026lt;html\u0026gt; \u0026lt;div\u0026gt; HTML \u0026lt;/div\u0026gt; \u0026lt;/html\u0026gt;` fmt.Println(\u0026#34;str1 =\u0026#34;, str1) fmt.Println(\u0026#34;str2 =\u0026#34;, str2) fmt.Println(\u0026#34;str3 =\u0026#34;, str3) è¾“å‡º\nstr1 = 123 str2 = \\n\\n123\\n str3 = \u0026lt;html\u0026gt; \u0026lt;div\u0026gt; HTML \u0026lt;/div\u0026gt; \u0026lt;/html\u0026gt; å½“æ‹¼æ¥é•¿åº¦è¿‡é•¿æ—¶ï¼Œå¯æ¢è¡Œï¼Œä½†æ˜¯åŠ å·è¦ç•™åœ¨ä¸Šä¸€è¡Œæœ«å°¾\nä»£ç ï¼š\nstr5 := \u0026#34;hello \u0026#34; + \u0026#34;world \u0026#34; + \u0026#34;haha!\u0026#34; fmt.Println(\u0026#34;str5 =\u0026#34;, str5) ç¤ºä¾‹ï¼š\nstr5 = hello world haha! åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼ åœ¨Goä¸­ï¼Œæ•°æ®ç±»å‹éƒ½æœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“ç¨‹åºå‘˜æ²¡æœ‰èµ‹å€¼æ—¶ï¼Œä¼šä¿ç•™é»˜è®¤å€¼ï¼Œåœ¨Goä¸­ï¼Œé»˜è®¤å€¼åˆå«é›¶å€¼\næ•°æ®ç±»å‹ é»˜è®¤å€¼ æ•´å‹ 0 æµ®ç‚¹å‹ 0 å­—ç¬¦ä¸² \u0026quot;\u0026quot; å¸ƒå°”ç±»å‹ false åŸºæœ¬æ•°æ®ç±»å‹çš„è½¬æ¢ Golangå’ŒJava/Cä¸åŒï¼Œåœ¨ä¸åŒç±»å‹è½¬æ¢æ—¶éœ€æ˜¾å¼è½¬æ¢ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸èƒ½è¿›è¡Œè‡ªåŠ¨è½¬æ¢\nåŸºæœ¬è¯­æ³•\nè¡¨è¾¾å¼T(v)å°†å€¼vè½¬æ¢ä¸ºç±»å‹T T: æ•°æ®ç±»å‹, æ¯”å¦‚int32,int64,float32ç­‰ç­‰ v:å°±æ˜¯éœ€è¦è½¬æ¢çš„å˜é‡ åŸºæœ¬ä½¿ç”¨\nä»£ç :\npackage main import \u0026#34;fmt\u0026#34; // æ¼”ç¤ºgolangä¸­åŸºæœ¬ç±»å‹çš„è½¬æ¢ func main() { var i int = 1000 // å¸Œæœ›å°†i =\u0026gt; float var n1 float32 = float32(i) var n2 int8 = int8(i) var n3 int64 = int64(i) //ä½ç²¾åº¦ -\u0026gt; é«˜ç²¾åº¦ fmt.Printf(\u0026#34;içš„ç±»å‹ä¸º%Tï¼Œå€¼ä¸º %v, n1çš„ç±»å‹ä¸º%Tï¼Œå€¼ä¸º %v\\n\u0026#34;, i, i, n1, n1) fmt.Printf(\u0026#34;içš„ç±»å‹ä¸º%Tï¼Œå€¼ä¸º %v, n2çš„ç±»å‹ä¸º%Tï¼Œå€¼ä¸º %v\\n\u0026#34;, i, i, n2, n2) fmt.Printf(\u0026#34;içš„ç±»å‹ä¸º%Tï¼Œå€¼ä¸º %v, n3çš„ç±»å‹ä¸º%Tï¼Œå€¼ä¸º %v\\n\u0026#34;, i, i, n3, n3) } è¾“å‡º:\niçš„ç±»å‹ä¸ºintï¼Œå€¼ä¸º 1000, n1çš„ç±»å‹ä¸ºfloat32ï¼Œå€¼ä¸º 1000 içš„ç±»å‹ä¸ºintï¼Œå€¼ä¸º 1000, n2çš„ç±»å‹ä¸ºint8ï¼Œå€¼ä¸º -24 içš„ç±»å‹ä¸ºintï¼Œå€¼ä¸º 1000, n3çš„ç±»å‹ä¸ºint64ï¼Œå€¼ä¸º 1000 ç»†èŠ‚è¯´æ˜\nGoä¸­, æ•°æ®ç±»å‹è½¬æ¢æ—¢å¯ä»¥ä»ä½ç²¾åº¦åˆ°é«˜ç²¾åº¦,ä¹Ÿå¯ä»¥ä»é«˜ç²¾åº¦åˆ°ä½ç²¾åº¦(é€šå¸¸ä¸ä¼šé—²ç€æ²¡äº‹è¿™ä¹ˆå¹²,å®¹æ˜“å‡ºç°æº¢å‡ºé—®é¢˜) åŸºæœ¬æ•°æ®ç±»å‹å’Œstringç±»å‹è½¬æ¢ åŸºæœ¬æ•°æ®ç±»å‹è½¬stringç±»å‹ fmt.Sprintf(\u0026quot;%å‚æ•°\u0026quot;, è¡¨è¾¾å¼)(å¼ºæ¨)\nå£°æ˜:\nfunc Sprintf(format string, a ...interface{}) string è¯´æ˜:Sprintfæ ¹æ®formatå‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²å¹¶è¿”å›è¯¥å­—ç¬¦ä¸²ã€‚\nä½¿ç”¨: ä»£ç :\nvar num1 int = 99 var num2 float64 = 23.456 var b bool = true var myChar byte = \u0026#39;h\u0026#39; var str string = \u0026#34;\u0026#34; // ä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼æ¥è½¬æ¢ï¼Œfmt.Sprintfæ–¹æ³• str = fmt.Sprintf(\u0026#34;%d\u0026#34;, num1) fmt.Printf(\u0026#34;str type %T str = %q\\n\u0026#34;, str, str) str = fmt.Sprintf(\u0026#34;%f\u0026#34;, num2) fmt.Printf(\u0026#34;str type %T str = %q\\n\u0026#34;, str, str) str = fmt.Sprintf(\u0026#34;%t\u0026#34;, b) fmt.Printf(\u0026#34;str type %T str = %q\\n\u0026#34;, str, str) str = fmt.Sprintf(\u0026#34;%c\u0026#34;, myChar) fmt.Printf(\u0026#34;str type %T str = %q\\n\u0026#34;, str, str) è¾“å‡º:\nstr type string str = \u0026#34;99\u0026#34; str type string str = \u0026#34;23.456000\u0026#34; str type string str = \u0026#34;true\u0026#34; str type string str = \u0026#34;h\u0026#34; strconvåŒ…ä¸‹çš„å‡½æ•°\nå£°æ˜:\nfunc FormatBool(b bool) string\næ ¹æ®bçš„å€¼è¿”å›\u0026quot;true\u0026quot;æˆ–\u0026quot;false\u0026quot;ã€‚\nfunc FormatInt(i int64, base int) string\nè¿”å›içš„baseè¿›åˆ¶çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚base å¿…é¡»åœ¨2åˆ°36ä¹‹é—´ï¼Œç»“æœä¸­ä¼šä½¿ç”¨å°å†™å­—æ¯\u0026rsquo;a\u0026rsquo;åˆ°\u0026rsquo;z\u0026rsquo;è¡¨ç¤ºå¤§äº10çš„æ•°å­—ã€‚\nfunc FormatUint(i uint64, base int) string\næ˜¯FormatIntçš„æ— ç¬¦å·æ•´æ•°ç‰ˆæœ¬ã€‚\nfunc FormatFloat(f float64, fmt byte, prec, bitSize int) string\nå‡½æ•°å°†æµ®ç‚¹æ•°è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚\nbitSizeè¡¨ç¤ºfçš„æ¥æºç±»å‹ï¼ˆ32ï¼šfloat32ã€64ï¼šfloat64ï¼‰ï¼Œä¼šæ®æ­¤è¿›è¡Œèˆå…¥ã€‚\nfmtè¡¨ç¤ºæ ¼å¼ï¼š\u0026lsquo;f\u0026rsquo;ï¼ˆ-ddd.ddddï¼‰ã€\u0026lsquo;b\u0026rsquo;ï¼ˆ-ddddpÂ±dddï¼ŒæŒ‡æ•°ä¸ºäºŒè¿›åˆ¶ï¼‰ã€\u0026rsquo;e\u0026rsquo;ï¼ˆ-d.ddddeÂ±ddï¼Œåè¿›åˆ¶æŒ‡æ•°ï¼‰ã€\u0026lsquo;E\u0026rsquo;ï¼ˆ-d.ddddEÂ±ddï¼Œåè¿›åˆ¶æŒ‡æ•°ï¼‰ã€\u0026lsquo;g\u0026rsquo;ï¼ˆæŒ‡æ•°å¾ˆå¤§æ—¶ç”¨\u0026rsquo;e\u0026rsquo;æ ¼å¼ï¼Œå¦åˆ™\u0026rsquo;f\u0026rsquo;æ ¼å¼ï¼‰ã€\u0026lsquo;G\u0026rsquo;ï¼ˆæŒ‡æ•°å¾ˆå¤§æ—¶ç”¨\u0026rsquo;E\u0026rsquo;æ ¼å¼ï¼Œå¦åˆ™\u0026rsquo;f\u0026rsquo;æ ¼å¼ï¼‰ã€‚\nprecæ§åˆ¶ç²¾åº¦ï¼ˆæ’é™¤æŒ‡æ•°éƒ¨åˆ†ï¼‰ï¼šå¯¹\u0026rsquo;f\u0026rsquo;ã€\u0026rsquo;e\u0026rsquo;ã€\u0026lsquo;E\u0026rsquo;ï¼Œå®ƒè¡¨ç¤ºå°æ•°ç‚¹åçš„æ•°å­—ä¸ªæ•°ï¼›å¯¹\u0026rsquo;g\u0026rsquo;ã€\u0026lsquo;G\u0026rsquo;ï¼Œå®ƒæ§åˆ¶æ€»çš„æ•°å­—ä¸ªæ•°ã€‚å¦‚æœprec ä¸º-1ï¼Œåˆ™ä»£è¡¨ä½¿ç”¨æœ€å°‘æ•°é‡çš„ã€ä½†åˆå¿…éœ€çš„æ•°å­—æ¥è¡¨ç¤ºfã€‚\nfunc Itoa(i int) string\nItoaæ˜¯FormatInt(i, 10) çš„ç®€å†™ã€‚\nè¯´æ˜:strconvåŒ…å®ç°äº†åŸºæœ¬æ•°æ®ç±»å‹å’Œå…¶å­—ç¬¦ä¸²è¡¨ç¤ºçš„ç›¸äº’è½¬æ¢ã€‚\nä½¿ç”¨:\nä»£ç :\n// ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼æ¥è½¬æ¢ï¼Œstrconvä¸‹çš„åŒ… var num3 int = 99 var num4 float64 = 23.456 var b2 bool = true str = strconv.FormatInt(int64(num3), 10) fmt.Printf(\u0026#34;str type %T str = %q\\n\u0026#34;, str, str) // strconv.FormatFloat(num4, \u0026#39;f\u0026#39;, 10, 64) // è¯´æ˜: \u0026#39;f\u0026#39;æ ¼å¼ 10: è¡¨ç¤ºå°æ•°ä½ä¿ç•™10ä½ 64ï¼šè¡¨ç¤ºè¿™ä¸ªå°æ•°æ˜¯float64 str = strconv.FormatFloat(num4, \u0026#39;f\u0026#39;, 10, 64) fmt.Printf(\u0026#34;str type %T str = %q\\n\u0026#34;, str, str) str = strconv.FormatBool(b2) fmt.Printf(\u0026#34;str type %T str = %q\\n\u0026#34;, str, str) num5 := 4567 str = strconv.Itoa(num5) fmt.Printf(\u0026#34;str type %T str = %q\\n\u0026#34;, str, str) è¾“å‡º:\nstr type string str = \u0026#34;99\u0026#34; str type string str = \u0026#34;23.4560000000\u0026#34; str type string str = \u0026#34;true\u0026#34; str type string str = \u0026#34;4567\u0026#34; stringç±»å‹è½¬åŸºæœ¬æ•°æ®ç±»å‹ ä½¿ç”¨strconvåŒ…çš„å‡½æ•°\nå£°æ˜:\nfunc ParseBool(str string) (value bool, err error)\nè¿”å›å­—ç¬¦ä¸²è¡¨ç¤ºçš„boolå€¼ã€‚å®ƒæ¥å—1ã€0ã€tã€fã€Tã€Fã€trueã€falseã€Trueã€Falseã€TRUEã€FALSEï¼›å¦åˆ™è¿”å›é”™è¯¯ã€‚\nfunc ParseInt(s string, base int, bitSize int) (i int64, err error)\nè¿”å›å­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•´æ•°å€¼ï¼Œæ¥å—æ­£è´Ÿå·ã€‚\nbaseæŒ‡å®šè¿›åˆ¶ï¼ˆ2åˆ°36ï¼‰ï¼Œå¦‚æœbaseä¸º0ï¼Œåˆ™ä¼šä»å­—ç¬¦ä¸²å‰ç½®åˆ¤æ–­ï¼Œ\u0026ldquo;0x\u0026quot;æ˜¯16è¿›åˆ¶ï¼Œ\u0026ldquo;0\u0026quot;æ˜¯8è¿›åˆ¶ï¼Œå¦åˆ™æ˜¯10è¿›åˆ¶ï¼›\nbitSizeæŒ‡å®šç»“æœå¿…é¡»èƒ½æ— æº¢å‡ºèµ‹å€¼çš„æ•´æ•°ç±»å‹ï¼Œ0ã€8ã€16ã€32ã€64 åˆ†åˆ«ä»£è¡¨ intã€int8ã€int16ã€int32ã€int64ï¼›è¿”å›çš„erræ˜¯*NumErrç±»å‹çš„ï¼Œå¦‚æœè¯­æ³•æœ‰è¯¯ï¼Œerr.Error = ErrSyntaxï¼›å¦‚æœç»“æœè¶…å‡ºç±»å‹èŒƒå›´err.Error = ErrRangeã€‚\nfunc ParseUint(s string, base int, bitSize int) (n uint64, err error)\nParseUintç±»ä¼¼ParseIntä½†ä¸æ¥å—æ­£è´Ÿå·ï¼Œç”¨äºæ— ç¬¦å·æ•´å‹ã€‚\nfunc ParseFloat(s string, bitSize int) (f float64, err error)\nè§£æä¸€ä¸ªè¡¨ç¤ºæµ®ç‚¹æ•°çš„å­—ç¬¦ä¸²å¹¶è¿”å›å…¶å€¼ã€‚\nå¦‚æœsåˆä¹è¯­æ³•è§„åˆ™ï¼Œå‡½æ•°ä¼šè¿”å›æœ€ä¸ºæ¥è¿‘sè¡¨ç¤ºå€¼çš„ä¸€ä¸ªæµ®ç‚¹æ•°ï¼ˆä½¿ç”¨IEEE754è§„èŒƒèˆå…¥ï¼‰ã€‚bitSizeæŒ‡å®šäº†æœŸæœ›çš„æ¥æ”¶ç±»å‹ï¼Œ32æ˜¯float32ï¼ˆè¿”å›å€¼å¯ä»¥ä¸æ”¹å˜ç²¾ç¡®å€¼çš„èµ‹å€¼ç»™float32ï¼‰ï¼Œ64æ˜¯float64ï¼›è¿”å›å€¼erræ˜¯*NumErrç±»å‹çš„ï¼Œè¯­æ³•æœ‰è¯¯çš„ï¼Œerr.Error=ErrSyntaxï¼›ç»“æœè¶…å‡ºè¡¨ç¤ºèŒƒå›´çš„ï¼Œè¿”å›å€¼fä¸ºÂ±Infï¼Œerr.Error= ErrRangeã€‚\nfunc Atoi(s string) (i int, err error)\nAtoiæ˜¯ParseInt(s, 10, 0)çš„ç®€å†™ã€‚\nè¯´æ˜:strconvåŒ…å®ç°äº†åŸºæœ¬æ•°æ®ç±»å‹å’Œå…¶å­—ç¬¦ä¸²è¡¨ç¤ºçš„ç›¸äº’è½¬æ¢ã€‚\nä½¿ç”¨\nä»£ç :\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;strconv\u0026#34; ) // æ¼”ç¤ºgolangä¸­stringè½¬åŸºæœ¬æ•°æ®ç±»å‹ func main() { var str string = \u0026#34;true\u0026#34; var b bool //b, _ = strconv.ParseBool(str) //è¯´æ˜ //1.strconv.ParseBool(str)å‡½æ•°ä¼šè¿”å›ä¸¤ä¸ªå€¼(value bool, err error) //2.è‹¥åªéœ€è¦value boolï¼Œå¯ä½¿ç”¨\u0026#39;_\u0026#39;å¿½ç•¥err b, _ = strconv.ParseBool(str) fmt.Printf(\u0026#34;b type %T b = %v\\n\u0026#34;, b, b) str = \u0026#34;123\u0026#34; var n1 int n1, _ = strconv.Atoi(str) fmt.Printf(\u0026#34;n1 type %T n1 = %v\\n\u0026#34;, n1, n1) str = \u0026#34;123.456\u0026#34; var f1 float64 f1, _ = strconv.ParseFloat(str, 64) fmt.Printf(\u0026#34;f1 type %T f1 = %v\\n\u0026#34;, f1, f1) } è¾“å‡º\nb type bool b = true n1 type int n1 = 123 f1 type float64 f1 = 123.456 æ³¨æ„:\nè½¬æ¢æ—¶éœ€è¦æ³¨æ„å­—ç¬¦ä¸²çš„æœ‰æ•ˆæ€§,è‹¥å¼ºè½¬ä¼šè½¬æˆå¯¹åº”ç±»å‹çš„é»˜è®¤å€¼\nä»£ç \n//è½¬æ¢æ—¶éœ€è¦æ³¨æ„å­—ç¬¦ä¸²çš„æœ‰æ•ˆæ€§ str = \u0026#34;hello\u0026#34; n1, _ = strconv.ParseInt(str, 10, 0) fmt.Printf(\u0026#34;n1 type %T n1 = %v\\n\u0026#34;, n1, n1) è¾“å‡º\nn1 type int64 n1 = 0 å¼•ç”¨æ•°æ®ç±»å‹ åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨çš„æ•°æ®æ˜¯å€¼ç±»å‹çš„\næŒ‡é’ˆ(ç®€è¦æ¦‚è¿°) æŒ‡é’ˆå³æŒ‡å‘åŸºæœ¬æ•°æ®ç±»å‹å˜é‡çš„åœ°å€\nè·å–å˜é‡çš„åœ°å€ï¼Œç”¨\u0026rdquo;\u0026amp;\u0026ldquo;ç¬¦å·\næŒ‡é’ˆç±»å‹ï¼ŒæŒ‡é’ˆå˜é‡å­˜çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘çš„ç©ºé—´æ‰æ˜¯å€¼\næ¯”å¦‚ï¼švar ptr *int = \u0026amp;num\nè·å–æŒ‡é’ˆç±»å‹æ‰€æŒ‡å‘çš„å€¼ï¼Œä½¿ç”¨ï¼š*ï¼Œæ¯”å¦‚var ptr *int, ä½¿ç”¨*ptrè·å–æŒ‡å‘çš„å€¼\nä½¿ç”¨ç¤ºä¾‹ï¼š\nä»£ç ï¼š\npackage main import \u0026#34;fmt\u0026#34; // æ¼”ç¤ºgolangä¸­æŒ‡é’ˆç±»å‹ func main() { // åŸºæœ¬æ•°æ®ç±»çš„å†…å­˜å¸ƒå±€ var i int = 10 // i çš„åœ°å€æ˜¯ä»€ä¹ˆ fmt.Println(\u0026#34;içš„åœ°å€=\u0026#34;, \u0026amp;i) // ä¸‹é¢var ptr*int = \u0026amp;i // 1. ptr æ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡ // 2. ptr çš„ç±»å‹ *int // 3. ptr æœ¬èº«çš„å€¼\u0026amp;i var ptr *int = \u0026amp;i fmt.Printf(\u0026#34;ptr=%v\\n\u0026#34;, ptr) fmt.Printf(\u0026#34;ptrçš„åœ°å€=%v\\n\u0026#34;, \u0026amp;ptr) fmt.Printf(\u0026#34;ptræŒ‡å‘çš„å€¼=%v\\n\u0026#34;, *ptr) } è¾“å‡ºï¼š\niçš„åœ°å€= 0xc0000160c0 ptr=0xc0000160c0 ptrçš„åœ°å€=0xc000006030 ptræŒ‡å‘çš„å€¼=10 å€¼ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„ç‰¹ç‚¹ å€¼ç±»å‹ å˜é‡ç›´æ¥å­˜å‚¨å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨æ ˆä¸­åˆ†é…ï¼ˆç‰¹æ®Šæƒ…å†µï¼šé€ƒé€¸åˆ†æï¼‰\nå€¼ç±»å‹éƒ½æœ‰å¯¹åº”çš„æŒ‡é’ˆç±»å‹ï¼Œå½¢å¼ä¸º*æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚intçš„å¯¹åº”çš„æŒ‡é’ˆå°±æ˜¯*int, float32å¯¹åº”çš„æŒ‡é’ˆç±»å‹å°±æ˜¯ *floatï¼Œä»¥æ­¤ç±»æ¨ã€‚\nå€¼ç±»å‹åŒ…æ‹¬ï¼šåŸºæœ¬æ•°æ®ç±»å‹intç³»åˆ—ï¼Œfloatç³»åˆ—ï¼Œboolï¼Œstringï¼Œæ•°ç»„å’Œç»“æ„ä½“struct\nå¼•ç”¨æ•°æ®ç±»å‹ å˜é‡å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€å¯¹åº”çš„ç©ºé—´æ‰æ˜¯çœŸæ­£å­˜å‚¨æ•°æ®(å€¼)ï¼Œå†…å­˜é€šå¸¸åœ¨å †ä¸Šåˆ†é…ï¼ˆç‰¹æ®Šæƒ…å†µï¼šé€ƒé€¸åˆ†æï¼‰ï¼Œå½“æ²¡æœ‰ä»»ä½•å˜é‡å¼•ç”¨è¿™ä¸ªåœ°å€æ—¶ï¼Œè¯¥åœ°å€å¯¹åº”çš„æ•°æ®ç©ºé—´å°±æˆä¸ºä¸€ä¸ªåƒåœ¾ï¼Œç”±GCæ¥å›æ”¶ã€‚\nGoæ ‡è¯†ç¬¦ å¯¹å„ç§å˜é‡ã€æ–¹æ³•ã€å‡½æ•°ç­‰å‘½åæ—¶ä½¿ç”¨çš„å­—ç¬¦åºåˆ—æˆä¸ºæ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´å‡¡æ˜¯å¯ä»¥èµ·åå­—çš„åœ°æ–¹éƒ½å«æ ‡è¯†ç¬¦\nå‘½åè§„åˆ™ ç”±26ä¸ªè‹±æ–‡å­—æ¯å¤§å°å†™ï¼Œ0-9ï¼Œ\u0026rdquo;_\u0026ldquo;ç»„æˆ\næ•°å­—ä¸å¯ä»¥å¼€å¤´\nGolangä¸­ä¸¥æ ¼åŒºåˆ†å¤§å°å†™\nvar num int = 10 var Num int = 20 fmt.Printf(\u0026#34;num=%v, Num=%v\u0026#34;, num, Num)//num=10, Num=20 æ ‡è¯†ç¬¦ä¸èƒ½åŒ…å«ç©ºæ ¼\n//æ ‡è¯†ç¬¦ä¸èƒ½åŒ…å«ç©ºæ ¼ var ab c int = 30//expected \u0026#39;;\u0026#39;, found intsyntax ä¸‹åˆ’çº¿\u0026rdquo;_\u0026ldquo;æœ¬èº«åœ¨Goä¸­æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è¯†ç¬¦ï¼Œç§°ä¸ºç©ºæ ‡è¯†ç¬¦ã€‚å¯ä»¥ä»£è¡¨ä»»ä½•å…¶ä»–çš„æ ‡è¯†ç¬¦ï¼Œä½†æ˜¯å®ƒå¯¹åº”çš„å€¼ä¼šè¢«å¿½ç•¥ï¼ˆæ¯”å¦‚ï¼Œè¿”å›æŸä¸ªè¿”å›å€¼ï¼‰ã€æ‰€ä»¥ä»…èƒ½è¢«ä½œä¸ºå ä½ç¬¦ä½¿ç”¨ï¼Œä¸èƒ½ä½œä¸ºæ ‡è¯†ç¬¦ä½¿ç”¨\n// _ æ˜¯ç©ºæ ‡è¯†ç¬¦ï¼Œç”¨äºå ç”¨ var _ int = 40 // fmt.Println(_)// cannot use _ as value or typecompiler ä¸èƒ½ä»¥ç³»ç»Ÿä¿ç•™å…³é”®å­—ä½œä¸ºæ ‡è¯†ç¬¦(25ä¸ª)ï¼Œæ¯”å¦‚breakï¼Œifç­‰ç­‰\u0026hellip;\næ³¨æ„äº‹é¡¹ åŒ…åï¼šä¿æŒpackageçš„åå­—å’Œç›®å½•ä¿æŒä¸€è‡´ï¼Œå°½é‡é‡‡å–ç”±æ„ä¹‰çš„åŒ…åï¼Œç®€çŸ­ï¼Œæœ‰æ„ä¹‰ï¼Œä¸è¦å’Œæ ‡å‡†åº“å†²çª å˜é‡åã€å‡½æ•°åã€å¸¸é‡åï¼šé‡‡ç”¨é©¼å³°æ³• å¦‚æœå˜é‡åã€å‡½æ•°åã€å¸¸é‡åé¦–å­—æ¯å¤§å†™ï¼Œåˆ™å¯ä»¥è¢«å…¶ä»–çš„åŒ…è®¿é—®ï¼šå¦‚æœé¦–å­—æ¯å°å†™ï¼Œåˆ™åªåœ¨æœ¬åŒ…ä¸­ä½¿ç”¨ï¼ˆæ³¨ï¼šå¯ä»¥ç®€å•ç†è§£ä¸ºé¦–å­—æ¯å¤§å†™æ˜¯å…¬æœ‰çš„ï¼Œé¦–å­—æ¯å°å†™æ˜¯ç§æœ‰çš„ï¼‰ ç³»ç»Ÿä¿ç•™å…³é”®å­— åœ¨Goä¸­ï¼Œä¸ºäº†ç®€åŒ–ä»£ç ç¼–è¯‘è¿‡ç¨‹å¯¹ä»£ç çš„è§£æï¼Œå…¶å®šä¹‰çš„ä¿ç•™å…³é”®å­—åªæœ‰25ä¸ª\nbreak default func interface select case defer go map struct chan else goto package switch const fallthrough if range type continue for import return var é¢„å®šä¹‰æ ‡è¯†ç¬¦ é™¤äº†ä¿ç•™å…³é”®å­—å¤–ï¼ŒGoè¿˜æä¾›äº†36ä¸ªé¢„å®šçš„æ ‡è¯†ç¬¦ï¼Œå…¶åŒ…æ‹¬åŸºç¡€æ•°æ®ç±»å‹å’Œç³»ç»Ÿå†…åµŒå‡½æ•°\nappend bool byte cap close complex complex64 complex128 uint16 copy false float32 float64 imag int int8 int16 uint32 int32 int64 iota len make new nil panic uint64 print println real recover string true uint uint8 uintprt ","permalink":"https://rexhub.space/posts/back/go/study/%E5%8F%98%E9%87%8F/","summary":"Goå˜é‡ã€Goå­¦ä¹ ä¹‹è·¯ã€‘ æ¦‚å¿µ å˜é‡æ˜¯ç¨‹åºçš„åŸºæœ¬ç»„æˆå•ä½ï¼Œå˜é‡ç›¸å½“äºå†…å­˜ä¸­ä¸€ä¸ªæ•°æ®å­˜å‚¨ç©ºé—´çš„è¡¨ç¤ºï¼Œå¯ä»¥å°†å˜é‡çœ‹ä½œæ˜¯ä¸€ä¸ªæˆ¿é—´çš„é—¨ç‰Œå·ï¼Œé€šè¿‡é—¨ç‰Œå·å¯ä»¥æ‰¾åˆ°æˆ¿é—´å¹¶å–å‡ºæˆ¿é—´é‡Œçš„ä¸œè¥¿ï¼ŒåŒæ ·çš„é“ç†ï¼Œé€šè¿‡å˜é‡åå¯ä»¥è®¿é—®åˆ°å˜é‡çš„å€¼\nå˜é‡ä½¿ç”¨çš„åŸºæœ¬æ­¥éª¤ å£°æ˜å˜é‡ï¼ˆå®šä¹‰å˜é‡ï¼‰\nåŸºæœ¬è¯­æ³•ï¼švar å˜é‡å æ•°æ®ç±»å‹\nvar a int è¿™å°±æ˜¯å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œå˜é‡åæ˜¯a\nvar num1 float32 è¿™ä¹Ÿå£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤ºä¸€ä¸ªå•ç²¾åº¦ç±»å‹çš„å°æ•°ï¼Œå˜é‡åæ˜¯num1\nèµ‹å€¼\nä½¿ç”¨\nå˜é‡ä½¿ç”¨æ¡ˆä¾‹ ä»£ç ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { // å®šä¹‰å˜é‡/å£°æ˜å˜é‡ var i int // ç»™ièµ‹å€¼ i = 10 // ä½¿ç”¨å˜é‡ fmt.Println(\u0026#34;i =\u0026#34;, i) } è¾“å‡ºï¼š\nPS G:\\goproject\\src\\go_code\\chapter03\\demo01\u0026gt; go run .\\main.go i = 10 å˜é‡ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹ å˜é‡è¡¨ç¤ºå†…å­˜ä¸­çš„ä¸€ä¸ªå­˜å‚¨ç©ºé—´\nè¯¥åŒºåŸŸæœ‰è‡ªå·±çš„åç§°ï¼ˆå˜é‡åï¼‰å’Œç±»å‹ï¼ˆæ•°æ®ç±»å‹ï¼‰\nGolangå˜é‡ä½¿ç”¨çš„ä¸‰ç§æ–¹å¼\nç¬¬ä¸€ç§ï¼šæŒ‡å®šå˜é‡ç±»å‹ï¼Œå£°æ˜åè‹¥ä¸èµ‹å€¼ï¼Œä½¿ç”¨é»˜è®¤å€¼\n// golangçš„å˜é‡ä½¿ç”¨æ–¹å¼1 // ç¬¬ä¸€ç§ï¼šæŒ‡å®šå˜é‡ç±»å‹ï¼Œå£°æ˜åè‹¥ä¸èµ‹å€¼ï¼Œä½¿ç”¨é»˜è®¤å€¼ // inté»˜è®¤å€¼ä¸º0 var i int fmt.Println(\u0026#34;i =\u0026#34;, i) ç¬¬äºŒç§ï¼šæ ¹æ®å€¼è‡ªè¡Œåˆ¤å®šå˜é‡ç±»å‹(ç±»å‹æ¨å¯¼)","title":"å˜é‡ã€Goå­¦ä¹ ä¹‹è·¯ã€‘"},{"content":"åˆè¯†Golangã€Goå­¦ä¹ ä¹‹æ—…ã€‘ ğŸ‘¨â€ğŸ’»ä¸€æ—¶å…´èµ·æ‰“ç®—ç®€ç•¥çš„å­¦ä¹ ä¸€ä¸‹golangï¼Œç›®å‰éå¸¸çƒ­é—¨ï¼Œæœ‰ç€é«˜æ•ˆç‡ã€é«˜æ€§èƒ½ã€é«˜å¹¶å‘çš„ç‰¹æ€§ï¼Œå¼•èµ·äº†æœ•æå¤§çš„å…´è¶£ã€‚ç®€ç•¥çš„è®°å½•ä¸‹å­¦ä¹ è®°å½•âœï¼Œä»¥ä¾¿ä»ŠåæŸ¥é˜…ä¸å›é¡¾ã€‚å­¦ä¹ èµ„æºæ¥è‡ªbç«™å°šç¡…è°·éŸ©è€å¸ˆçš„è¯¾ç¨‹\nGoè¯­è¨€è¯ç”Ÿå°æ•…äº‹ æ ¸å¿ƒå¼€å‘å›¢é˜Ÿ Ken Thompson(è‚¯Â·æ±¤æ™®æ£®)ï¼š å›¾çµå¥–å’Œç¾å›½å›½å®¶æŠ€æœ¯å¥–è·å¾—è€…ã€‚ä»–ä¸Dennis Ritchieæ˜¯Unixçš„åŸåˆ›è€…ã€‚Thomspsonä¹Ÿå‘æ˜äº†åæ¥è¡ç”Ÿå‡ºCè¯­è¨€å’ŒBè¯­è¨€ç¨‹åºè¯­è¨€ï¼ŒåŒæ—¶ä¹Ÿæ˜¯Cè¯­è¨€çš„ä¸»è¦å‘æ˜äºº Rob Pike(ç½—å¸ƒÂ·æ´¾å…‹)ï¼šæ›¾æ˜¯è´å°”å®éªŒå®¤(Bell Labs)çš„Unixå›¢é˜Ÿï¼Œå’ŒPlan 9æ“ä½œç³»ç»Ÿè®¡åˆ’çš„æˆå‘˜ã€‚ä»–ä¸Thompsonï¼Œå¹¶å…±åˆ›å‡ºå¹¿æ³›ä½¿ç”¨çš„UTF-8å­—å…ƒç¼–ç ã€‚å¥¥è¿ä¼šå°„ç®­é“¶å¥–ã€å¤©æ–‡å­¦å®¶ã€‚ã€‚ã€‚ã€‚å¤ªå¼ºäº† Robert Griesemerï¼šæ›¾ååŠ©åˆ¶é€ Javaçš„HotSpotç¼–è¯‘å™¨ï¼Œå’ŒChromeæµè§ˆå™¨çš„Javascriptå¼•æ“V8 Googleä¸ºä»€ä¹ˆåˆ›é€ Goè¯­è¨€ è®¡ç®—æœºç¡¬ä»¶æŠ€æœ¯æ›´æ–°é¢‘ç¹ï¼Œæ€§èƒ½æç¤ºå¾ˆå¿«ã€‚ç›®å‰ä¸»æµçš„ç¼–ç¨‹è¯­è¨€æ˜æ˜¾è½åäºç¡¬ä»¶ï¼Œä¸èƒ½åˆç†åˆ©ç”¨å¤šæ ¸å¤šCPUçš„ä¼˜åŠ¿æå‡è½¯ä»¶ç³»ç»Ÿæ€§èƒ½ è½¯ä»¶ç³»ç»Ÿå¤æ‚åº¦è¶Šæ¥è¶Šé«˜ï¼Œç»´æŠ¤æˆæœ¬è¶Šæ¥è¶Šé«˜ã€‚ç›®å‰ç¼ºä¹ä¸€ä¸ªè¶³å¤Ÿç®€æ´é«˜æ•ˆçš„ç¼–ç¨‹è¯­è¨€ã€ç°æœ‰çš„ç¼–ç¨‹è¯­è¨€ï¼š1.é£æ ¼ä¸ç»Ÿä¸€ 2.è®¡ç®—èƒ½åŠ›å¼± 3.å¤„ç†å¤§å¹¶å‘å¼±ã€‘ é€Ÿåº¦å¿«çš„è¯­è¨€ç¼–è¯‘æ…¢(C/C++)ï¼Œå¼€å‘æ•ˆç‡é«˜çš„è¯­è¨€è¿è¡Œæ…¢(Python)ï¼ŒåŒæ—¶è¿˜å­˜åœ¨å†…å­˜æ³„æ¼çš„ä¸€ç³»åˆ—çš„å›°æ‰°ã€‚ Goè¯­è¨€å‘å±•å†å² 2007å¹´ï¼Œè°·æ­Œå·¥ç¨‹å¸ˆRob Pikeï¼ŒKen Thompsonå’ŒRobert Griesemerå¼€å§‹è®¾è®¡ä¸€é—¨å…¨æ–°çš„è¯­è¨€ï¼Œè¿™æ˜¯Goè¯­è¨€çš„æœ€åˆåŸå‹ 2009å¹´11æœˆ10æ—¥ï¼ŒGoogleå°†Goè¯­è¨€ä»¥å¼€æ”¾æºä»£ç çš„æ–¹å¼å‘å…¨çƒå‘å¸ƒã€‚ 2015å¹´8æœˆ19æ—¥ï¼ŒGo1.5ç‰ˆå‘å¸ƒï¼Œæœ¬æ¬¡æ›´æ–°ä¸­ç§»é™¤äº†â€œæœ€åå‚ä¸çš„Cä»£ç â€ 2017å¹´2æœˆ17æ—¥ï¼ŒGo1.8å‘å¸ƒ 2017å¹´8æœˆ24æ—¥ï¼ŒGo1.9å‘å¸ƒ 2018å¹´2æœˆ16æ—¥ ï¼ŒGo1.10å‘å¸ƒ \u0026hellip;.. è‡³ä»Š2021.12.11 Goæœ€æ–°1.17 Goè¯­è¨€ç‰¹ç‚¹ ä»Cè¯­è¨€ä¸­ç»§æ‰¿äº†å¾ˆå¤šç†å¿µï¼ŒåŒ…æ‹¬è¡¨è¾¾å¼è¯­æ³•ï¼Œæ§åˆ¶ç»“æ„ï¼ŒåŸºç¡€æ•°æ®ç±»å‹ï¼Œè°ƒç”¨å‚æ•°ä¼ å€¼ï¼ŒæŒ‡é’ˆç­‰ç­‰ï¼Œä¹Ÿä¿ç•™äº†å’ŒCè¯­è¨€ä¸€æ ·çš„ç¼–è¯‘æ‰§è¡Œæ–¹å¼åŠå¼±åŒ–çš„æŒ‡é’ˆ\nå¼•å…¥åŒ…çš„æ¦‚å¿µï¼Œç”¨äºç»„ç»‡ç¨‹åºç»“æ„ï¼ŒGoè¯­è¨€çš„ä¸€ä¸ªæ–‡ä»¶éƒ½è¦å½’å±äºä¸€ä¸ªåŒ…ï¼Œè€Œä¸èƒ½å•ç‹¬å­˜åœ¨\nåƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå†…å­˜è‡ªåŠ¨å›æ”¶ï¼Œä¸éœ€è¦å¼€å‘äººå‘˜ç®¡ç†\nå¤©ç„¶å¹¶å‘\nä»è¯­è¨€å±‚é¢æ”¯æŒå¹¶å‘ï¼Œå®ç°ç®€å• goroutineï¼Œè½»é‡çº§çº¿ç¨‹ï¼Œå¯å®ç°å¤§å¹¶å‘å¤„ç†ï¼Œé«˜æ•ˆåˆ©ç”¨å¤šæ ¸ã€‚ åŸºäºCPSå¹¶å‘æ¨¡å‹(Communicating Sequential Processes)å®ç° å¸æ”¶äº†ç®¡é“é€šä¿¡æœºåˆ¶ï¼Œå½¢æˆGoè¯­è¨€ç‰¹æœ‰çš„ç®¡é“channel\né€šè¿‡ç®¡é“channelï¼Œå¯ä»¥å®ç°ä¸åŒçš„gorouteä¹‹é—´çš„ç›¸äº’é€šä¿¡\nå‡½æ•°è¿”å›å¤šä¸ªå€¼\nfunc getSumAndSub(n1 int, n2 int)(int, int){ sum := n1+n2 sub := n1 -n2 return sum, sub } æ–°çš„åˆ›æ„ï¼šåˆ‡ç‰‡(slice)ã€å»¶æ—¶æ‰§è¡Œdeferç­‰\nGoLangæ‰§è¡Œæµç¨‹åˆ†æ å…ˆç¼–è¯‘åœ¨æ‰§è¡Œ\ngraph LR A[.go] --\u0026gt;|go build| B[å¯æ‰§è¡Œæ–‡ä»¶] --\u0026gt;|è¿è¡Œ| C[ç»“æœ] ç›´æ¥æ‰§è¡Œ\ngraph LR; A[.go] --\u0026gt;|go run| B[ç»“æœ]; ç¼–è¯‘ä¸è¿è¡Œè¯´æ˜ æœ‰äº†goæºæ–‡ä»¶ï¼Œç¼–è¯‘å™¨å¯å°†å…¶ç¼–è¯‘æˆæœºå™¨å¯ä»¥è¯†åˆ«çš„äºŒè¿›åˆ¶ç æ–‡ä»¶\nåœ¨è¯¥æºæ–‡ä»¶ç›®å½•ä¸‹ï¼Œé€šè¿‡go buildå¯¹hello.goæ–‡ä»¶è¿›è¡Œç¼–è¯‘ã€‚å¯ä»¥æŒ‡å®šç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶åï¼Œåœ¨windowsä¸‹å¿…é¡»æ˜¯.exeåç¼€ã€‚è‹¥ç¨‹åºæœ‰é”™è¯¯ï¼Œç¼–è¯‘æ—¶ï¼Œä¼šåœ¨é”™è¯¯çš„é‚£è¡ŒæŠ¥é”™ã€‚\ntip: go build -oå¯ä»¥ç”ŸæˆæŒ‡å®šæ–‡ä»¶åçš„å¯æ‰§è¡Œæ–‡ä»¶\ngo build -o test.exe .\\hello.go å¯ç›´æ¥è¿è¡Œç”Ÿæˆå¯æ‰§è¡ŒGoç¨‹åºæˆ–ç”¨go runç¼–è¯‘å¹¶è¿è¡Œæºç¨‹åº\nGolangå®˜æ–¹ç¼–ç¨‹æŒ‡å— Golangå®˜æ–¹ç½‘ç«™ï¼šhttps://golang.org/ Golangå®˜æ–¹æ–‡æ¡£ï¼šhttps://tour.go-zh.org/ï¼šä»‹ç»çš„è¾ƒä¸ºç®€å•ï¼Œä¸é€‚åˆåˆå­¦è€…ï¼Œé€‚åˆæœ‰ç¼–ç¨‹ç»éªŒçš„äºº Golangæ ‡å‡†åº“APIæ–‡æ¡£ï¼šhttps://studygolang.com/pkgdocï¼šå›½å†…golangæ–‡æ¡£ ","permalink":"https://rexhub.space/posts/back/go/study/%E5%88%9D%E8%AF%86golang/","summary":"åˆè¯†Golangã€Goå­¦ä¹ ä¹‹æ—…ã€‘ ğŸ‘¨â€ğŸ’»ä¸€æ—¶å…´èµ·æ‰“ç®—ç®€ç•¥çš„å­¦ä¹ ä¸€ä¸‹golangï¼Œç›®å‰éå¸¸çƒ­é—¨ï¼Œæœ‰ç€é«˜æ•ˆç‡ã€é«˜æ€§èƒ½ã€é«˜å¹¶å‘çš„ç‰¹æ€§ï¼Œå¼•èµ·äº†æœ•æå¤§çš„å…´è¶£ã€‚ç®€ç•¥çš„è®°å½•ä¸‹å­¦ä¹ è®°å½•âœï¼Œä»¥ä¾¿ä»ŠåæŸ¥é˜…ä¸å›é¡¾ã€‚å­¦ä¹ èµ„æºæ¥è‡ªbç«™å°šç¡…è°·éŸ©è€å¸ˆçš„è¯¾ç¨‹\nGoè¯­è¨€è¯ç”Ÿå°æ•…äº‹ æ ¸å¿ƒå¼€å‘å›¢é˜Ÿ Ken Thompson(è‚¯Â·æ±¤æ™®æ£®)ï¼š å›¾çµå¥–å’Œç¾å›½å›½å®¶æŠ€æœ¯å¥–è·å¾—è€…ã€‚ä»–ä¸Dennis Ritchieæ˜¯Unixçš„åŸåˆ›è€…ã€‚Thomspsonä¹Ÿå‘æ˜äº†åæ¥è¡ç”Ÿå‡ºCè¯­è¨€å’ŒBè¯­è¨€ç¨‹åºè¯­è¨€ï¼ŒåŒæ—¶ä¹Ÿæ˜¯Cè¯­è¨€çš„ä¸»è¦å‘æ˜äºº Rob Pike(ç½—å¸ƒÂ·æ´¾å…‹)ï¼šæ›¾æ˜¯è´å°”å®éªŒå®¤(Bell Labs)çš„Unixå›¢é˜Ÿï¼Œå’ŒPlan 9æ“ä½œç³»ç»Ÿè®¡åˆ’çš„æˆå‘˜ã€‚ä»–ä¸Thompsonï¼Œå¹¶å…±åˆ›å‡ºå¹¿æ³›ä½¿ç”¨çš„UTF-8å­—å…ƒç¼–ç ã€‚å¥¥è¿ä¼šå°„ç®­é“¶å¥–ã€å¤©æ–‡å­¦å®¶ã€‚ã€‚ã€‚ã€‚å¤ªå¼ºäº† Robert Griesemerï¼šæ›¾ååŠ©åˆ¶é€ Javaçš„HotSpotç¼–è¯‘å™¨ï¼Œå’ŒChromeæµè§ˆå™¨çš„Javascriptå¼•æ“V8 Googleä¸ºä»€ä¹ˆåˆ›é€ Goè¯­è¨€ è®¡ç®—æœºç¡¬ä»¶æŠ€æœ¯æ›´æ–°é¢‘ç¹ï¼Œæ€§èƒ½æç¤ºå¾ˆå¿«ã€‚ç›®å‰ä¸»æµçš„ç¼–ç¨‹è¯­è¨€æ˜æ˜¾è½åäºç¡¬ä»¶ï¼Œä¸èƒ½åˆç†åˆ©ç”¨å¤šæ ¸å¤šCPUçš„ä¼˜åŠ¿æå‡è½¯ä»¶ç³»ç»Ÿæ€§èƒ½ è½¯ä»¶ç³»ç»Ÿå¤æ‚åº¦è¶Šæ¥è¶Šé«˜ï¼Œç»´æŠ¤æˆæœ¬è¶Šæ¥è¶Šé«˜ã€‚ç›®å‰ç¼ºä¹ä¸€ä¸ªè¶³å¤Ÿç®€æ´é«˜æ•ˆçš„ç¼–ç¨‹è¯­è¨€ã€ç°æœ‰çš„ç¼–ç¨‹è¯­è¨€ï¼š1.é£æ ¼ä¸ç»Ÿä¸€ 2.è®¡ç®—èƒ½åŠ›å¼± 3.å¤„ç†å¤§å¹¶å‘å¼±ã€‘ é€Ÿåº¦å¿«çš„è¯­è¨€ç¼–è¯‘æ…¢(C/C++)ï¼Œå¼€å‘æ•ˆç‡é«˜çš„è¯­è¨€è¿è¡Œæ…¢(Python)ï¼ŒåŒæ—¶è¿˜å­˜åœ¨å†…å­˜æ³„æ¼çš„ä¸€ç³»åˆ—çš„å›°æ‰°ã€‚ Goè¯­è¨€å‘å±•å†å² 2007å¹´ï¼Œè°·æ­Œå·¥ç¨‹å¸ˆRob Pikeï¼ŒKen Thompsonå’ŒRobert Griesemerå¼€å§‹è®¾è®¡ä¸€é—¨å…¨æ–°çš„è¯­è¨€ï¼Œè¿™æ˜¯Goè¯­è¨€çš„æœ€åˆåŸå‹ 2009å¹´11æœˆ10æ—¥ï¼ŒGoogleå°†Goè¯­è¨€ä»¥å¼€æ”¾æºä»£ç çš„æ–¹å¼å‘å…¨çƒå‘å¸ƒã€‚ 2015å¹´8æœˆ19æ—¥ï¼ŒGo1.5ç‰ˆå‘å¸ƒï¼Œæœ¬æ¬¡æ›´æ–°ä¸­ç§»é™¤äº†â€œæœ€åå‚ä¸çš„Cä»£ç â€ 2017å¹´2æœˆ17æ—¥ï¼ŒGo1.8å‘å¸ƒ 2017å¹´8æœˆ24æ—¥ï¼ŒGo1.9å‘å¸ƒ 2018å¹´2æœˆ16æ—¥ ï¼ŒGo1.10å‘å¸ƒ \u0026hellip;.. è‡³ä»Š2021.12.11 Goæœ€æ–°1.17 Goè¯­è¨€ç‰¹ç‚¹ ä»Cè¯­è¨€ä¸­ç»§æ‰¿äº†å¾ˆå¤šç†å¿µï¼ŒåŒ…æ‹¬è¡¨è¾¾å¼è¯­æ³•ï¼Œæ§åˆ¶ç»“æ„ï¼ŒåŸºç¡€æ•°æ®ç±»å‹ï¼Œè°ƒç”¨å‚æ•°ä¼ å€¼ï¼ŒæŒ‡é’ˆç­‰ç­‰ï¼Œä¹Ÿä¿ç•™äº†å’ŒCè¯­è¨€ä¸€æ ·çš„ç¼–è¯‘æ‰§è¡Œæ–¹å¼åŠå¼±åŒ–çš„æŒ‡é’ˆ\nå¼•å…¥åŒ…çš„æ¦‚å¿µï¼Œç”¨äºç»„ç»‡ç¨‹åºç»“æ„ï¼ŒGoè¯­è¨€çš„ä¸€ä¸ªæ–‡ä»¶éƒ½è¦å½’å±äºä¸€ä¸ªåŒ…ï¼Œè€Œä¸èƒ½å•ç‹¬å­˜åœ¨\nåƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå†…å­˜è‡ªåŠ¨å›æ”¶ï¼Œä¸éœ€è¦å¼€å‘äººå‘˜ç®¡ç†\nå¤©ç„¶å¹¶å‘\nä»è¯­è¨€å±‚é¢æ”¯æŒå¹¶å‘ï¼Œå®ç°ç®€å• goroutineï¼Œè½»é‡çº§çº¿ç¨‹ï¼Œå¯å®ç°å¤§å¹¶å‘å¤„ç†ï¼Œé«˜æ•ˆåˆ©ç”¨å¤šæ ¸ã€‚ åŸºäºCPSå¹¶å‘æ¨¡å‹(Communicating Sequential Processes)å®ç° å¸æ”¶äº†ç®¡é“é€šä¿¡æœºåˆ¶ï¼Œå½¢æˆGoè¯­è¨€ç‰¹æœ‰çš„ç®¡é“channel\né€šè¿‡ç®¡é“channelï¼Œå¯ä»¥å®ç°ä¸åŒçš„gorouteä¹‹é—´çš„ç›¸äº’é€šä¿¡\nå‡½æ•°è¿”å›å¤šä¸ªå€¼\nfunc getSumAndSub(n1 int, n2 int)(int, int){ sum := n1+n2 sub := n1 -n2 return sum, sub } æ–°çš„åˆ›æ„ï¼šåˆ‡ç‰‡(slice)ã€å»¶æ—¶æ‰§è¡Œdeferç­‰\nGoLangæ‰§è¡Œæµç¨‹åˆ†æ å…ˆç¼–è¯‘åœ¨æ‰§è¡Œ\ngraph LR A[.go] --\u0026gt;|go build| B[å¯æ‰§è¡Œæ–‡ä»¶] --\u0026gt;|è¿è¡Œ| C[ç»“æœ] ç›´æ¥æ‰§è¡Œ","title":"åˆè¯†Golangã€Goå­¦ä¹ ä¹‹æ—…ã€‘"},{"content":"æ— è¯ˆæ ¡å›­å¾®ä¿¡å°ç¨‹åºåç«¯æ¥å£æ–‡æ¡£ baseUrl = â€œhttp://localhost:8090/fraud-prevention/apiâ€ æœåŠ¡å™¨Url=â€œhttp://1.117.91.88:52016/fraud-prevention/apiâ€ ç”¨æˆ·æ¨¡å— ç™»å½• url: /front/user/login\nmethod: Get\nrequest param: code\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;:\u0026#34;98cb5a80-4199-44ce-a5f0-9f09c4bc438f\u0026#34; } è·å–å½“å‰ç™»å½•ç”¨æˆ·æ•°æ® url: /front/user/current\nmethod: Get\nrequest param: ç©º\nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1412572056239054850\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/LDUQrb7oLTQ4JiccNicdPhHQ0jTjs4ic0mVpUb8uP9ic4jS1ydEzeYuQDu9ZsJHLYDpMT6atMktQFEBSE1dBfIVlMw/132\u0026#34;, \u0026#34;phone\u0026#34;: \u0026#34;15706753061\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ—ç‘æ˜Ÿ(Rex)\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;ç”·\u0026#34;, \u0026#34;number\u0026#34;: \u0026#34;19002090117\u0026#34;, \u0026#34;totalScore\u0026#34;: 350 } } éªŒè¯ç”¨æˆ·æ˜¯å¦æˆæƒ url: /front/user/auth\nmethod: Get\nrequest param: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: false } å®Œå–„å¾®ä¿¡ç”¨æˆ·ä¿¡æ¯ url: /front/user/complete\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ avatarUrl å¿…å¡«ï¼Œç”¨æˆ·å¤´åƒåœ°å€(ä»¥httpså¼€å¤´) https://thirdwx.qlogo.cn/mmopen/vi_32/LDUQrb7oLTQ4JiccNicdPhHQ0jTjs4ic0mVpUb8uP9ic4jS1ydEzeYuQDu9ZsJHLYDpMT6atMktQFEBSE1dBfIVlMw/132 phone å¿…å¡«ï¼Œ11ä½æ‰‹æœºå· 17777777777 number å¿…å¡«ï¼Œä¸è¶…è¿‡50ä½ 1900xxxxxxx name å¿…å¡«ï¼Œå§“åï¼Œåœ¨2-10ä½ä¹‹é—´ æµ‹è¯• gender å¿…å¡«ï¼Œæ€§åˆ«ï¼Œ0-ç”·ç”Ÿï¼Œ1-å¥³ç”Ÿ 0 classId å¿…å¡«ï¼Œç­çº§ç¼–å·ï¼Œ(é€šè¿‡çº§è”å­¦æ ¡åˆ—è¡¨æ¥å£ã€ç³»éƒ¨åˆ—è¡¨æ¥å£ã€ç­çº§åˆ—è¡¨æ¥å£è·å¾—) 0 æŸ¥è¯¢å­¦æ ¡åˆ—è¡¨ url:/front/school/all\nmethod: Get\nrequest body: æ— \nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1410909562636140546\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412948512863797249\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·ç†å·¥å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1460132183478919170\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å®æ³¢ç†å·¥å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1461667934685483010\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·å•†å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1461667979283517441\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·å¤§å­¦\u0026#34;, \u0026#34;depts\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1461685930590072834\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·åŒ»å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null } ] } æŸ¥è¯¢ç³»éƒ¨åˆ—è¡¨ url: front/dept/all\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ schoolId å¿…å¡«ï¼Œå­¦æ ¡id 1412948512863797249 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1410910929379442690\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;classes\u0026#34;: null } ] } æŸ¥è¯¢ç­çº§åˆ—è¡¨ url:/front/class/all\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ deptId å¿…å¡«ï¼Œç³»éƒ¨ç¼–å· 1412948512863797249 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1410913678187843585\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è½¯ä»¶1902\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412947735629869057\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å¤§æ•°æ®1901\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412948099783573506\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ•°åª’1901\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412948245002862593\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ•°åª’1902\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1414833835378409474\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç”µå­å•†åŠ¡1901\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1414855420751523841\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç”µå­å•†åŠ¡1902\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1460221775330717697\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è½¯ä»¶2002\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null } ] } è·å–è¿‘ä¸ƒå¤©çš„å­¦ä¹ è®°å½• url: /front/user/score/week\nmethod: Get\nrequest param: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;dataPoints\u0026#34;: [ { \u0026#34;date\u0026#34;: \u0026#34;2021-12-01\u0026#34;, \u0026#34;score\u0026#34;: 0 }, { \u0026#34;date\u0026#34;: \u0026#34;2021-12-02\u0026#34;, \u0026#34;score\u0026#34;: 0 }, { \u0026#34;date\u0026#34;: \u0026#34;2021-12-03\u0026#34;, \u0026#34;score\u0026#34;: 0 }, { \u0026#34;date\u0026#34;: \u0026#34;2021-12-04\u0026#34;, \u0026#34;score\u0026#34;: 0 }, { \u0026#34;date\u0026#34;: \u0026#34;2021-12-05\u0026#34;, \u0026#34;score\u0026#34;: 10 }, { \u0026#34;date\u0026#34;: \u0026#34;2021-12-06\u0026#34;, \u0026#34;score\u0026#34;: 0 }, { \u0026#34;date\u0026#34;: \u0026#34;2021-12-07\u0026#34;, \u0026#34;score\u0026#34;: 0 } ], \u0026#34;fromDate\u0026#34;: \u0026#34;2021-12-01\u0026#34;, \u0026#34;toDate\u0026#34;: \u0026#34;2021-12-07\u0026#34; } } è·å–ç”¨æˆ·æ’å url: /front/user/ranks\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ range éå¿…å¡«ï¼ŒæŸ¥è¯¢æ’åçš„èŒƒå›´(classã€deptã€school)ï¼Œä¸å¡«çš„ä»æ‰€æœ‰çš„ç”¨æˆ·ä¸­æ’åºï¼Œæœ€å¤šè·å¾—å‰20ä½ç”¨æˆ· class response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1412572056239054850\u0026#34;, \u0026#34;schoolId\u0026#34;: \u0026#34;1410909562636140546\u0026#34;, \u0026#34;deptId\u0026#34;: \u0026#34;1410910929379442690\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/LDUQrb7oLTQ4JiccNicdPhHQ0jTjs4ic0mVpUb8uP9ic4jS1ydEzeYuQDu9ZsJHLYDpMT6atMktQFEBSE1dBfIVlMw/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;æ—ç‘æ˜Ÿ(Rex)\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;ç”·\u0026#34;, \u0026#34;number\u0026#34;: \u0026#34;19002090117\u0026#34;, \u0026#34;totalScore\u0026#34;: 350 }, { \u0026#34;id\u0026#34;: \u0026#34;1411968879850217474\u0026#34;, \u0026#34;schoolId\u0026#34;: \u0026#34;1410909562636140546\u0026#34;, \u0026#34;deptId\u0026#34;: \u0026#34;1410910929379442690\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/LDUQrb7oLTQ4JiccNicdPhHQ0jTjs4ic0mVpUb8uP9ic4jS1ydEzeYuQDu9ZsJHLYDpMT6atMktQFEBSE1dBfIVlMw/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;Rex\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;ç”·\u0026#34;, \u0026#34;number\u0026#34;: \u0026#34;19002090117\u0026#34;, \u0026#34;totalScore\u0026#34;: 100 }, { \u0026#34;id\u0026#34;: \u0026#34;1415624376656605185\u0026#34;, \u0026#34;schoolId\u0026#34;: \u0026#34;1410909562636140546\u0026#34;, \u0026#34;deptId\u0026#34;: \u0026#34;1410910929379442690\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmhead/MAfiat4VDB3a5UmppLCgPyoSORqM3NJ5VSiavMFqItr6Y/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;é™ˆé›…å©·\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;å¥³\u0026#34;, \u0026#34;number\u0026#34;: null, \u0026#34;totalScore\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1416600216089423874\u0026#34;, \u0026#34;schoolId\u0026#34;: \u0026#34;1410909562636140546\u0026#34;, \u0026#34;deptId\u0026#34;: \u0026#34;1410910929379442690\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmhead/rneMlzCiabb4AnIG0ibqGC9PwRrf0PSdSpFQehXNwHq0I/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;é™ˆæ·‘åª›\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;å¥³\u0026#34;, \u0026#34;number\u0026#34;: null, \u0026#34;totalScore\u0026#34;: 0 } ] } è·å–å½“å‰ç”¨æˆ·æ’å url: /front/user/rank\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ range éå¿…å¡«ï¼ŒæŸ¥è¯¢æ’åçš„èŒƒå›´(classã€deptã€school)ï¼Œä¸å¡«çš„ä»æ‰€æœ‰çš„ç”¨æˆ·ä¸­æ’åºï¼Œæœ€å¤šè·å¾—å‰20ä½ç”¨æˆ· class response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: 1 //ä¸ºnull è¡¨ç¤ºæ’åä¸º100+ } æµ‹è¯•æ¨¡å— åˆ†é¡µæŸ¥è¯¢æµ‹è¯•åˆ—è¡¨ url: /front/exams\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ type éå¿…å¡«ï¼Œæµ‹è¯•ç±»å‹ 1-è¯•å·(åªæœ‰ä¸€æ¬¡ç­”é¢˜æœºä¼šå¹¶ä¸”è®°å½•åˆ†æ•°), 2-ç»ƒä¹ (æœ‰æ— æ•°æ¬¡ç­”é¢˜æœºä¼šï¼Œä½†ä¸è®°å½•åˆ†æ•°) 1 page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1471393737744588802\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;24\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;234\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;è¯•å·\u0026#34;, \u0026#34;done\u0026#34;: false,//åˆ¤æ–­è¯•å·æ˜¯ä¸æ˜¯å·²ç»å®Œæˆè¿‡(ä»…é™è¯•å·æ¨¡å¼ä½¿ç”¨)ï¼Œtrue-å·²å®Œæˆï¼Œfalse-æœªå®Œæˆ \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-24 18:15:44\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2021-12-25 20:15:44\u0026#34;, \u0026#34;questions\u0026#34;: null, \u0026#34;totalNum\u0026#34;: null, \u0026#34;totalScore\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1469121243767672833\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;123123\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;è¯•å·\u0026#34;, \u0026#34;done\u0026#34;: false, \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-23 12:45:54\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2021-12-24 19:45:54\u0026#34;, \u0026#34;questions\u0026#34;: null, \u0026#34;totalNum\u0026#34;: null, \u0026#34;totalScore\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;é€šç”¨æµ‹è¯•\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ¯ä¸ªç”¨æˆ·éƒ½è¦å‚ä¸çš„æµ‹è¯•\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;è¯•å·\u0026#34;, \u0026#34;done\u0026#34;: true, \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-01 14:15:22\u0026#34;, \u0026#34;endTime\u0026#34;: null, \u0026#34;questions\u0026#34;: null, \u0026#34;totalNum\u0026#34;: null, \u0026#34;totalScore\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;é€šç”¨ç»ƒä¹ \u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ¯ä¸ªç”¨æˆ·éƒ½èƒ½å‚ä¸çš„ç»ƒä¹ \u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;ç»ƒä¹ \u0026#34;, \u0026#34;done\u0026#34;: false, \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-01 08:30:00\u0026#34;, \u0026#34;endTime\u0026#34;: null, \u0026#34;questions\u0026#34;: null, \u0026#34;totalNum\u0026#34;: null, \u0026#34;totalScore\u0026#34;: null } ], \u0026#34;total\u0026#34;: \u0026#34;4\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æŸ¥è¯¢æµ‹è¯•è¯¦æƒ… url: /front/exam/{examId}\nmethod: Get\nrequest param: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;é€šç”¨æµ‹è¯•\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ¯ä¸ªç”¨æˆ·éƒ½è¦å‚ä¸çš„æµ‹è¯•\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;è¯•å·\u0026#34;, \u0026#34;done\u0026#34;: true, \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-01 14:15:22\u0026#34;, \u0026#34;endTime\u0026#34;: null, \u0026#34;questions\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1435444478465884162\u0026#34;, \u0026#34;category\u0026#34;: null, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;ï¼ˆæ™ºèƒ½è¯­éŸ³ï¼‰â€œæ‚¨å¥½ï¼Œæˆ‘æ˜¯XXé‡‘èå®¢æœï¼Œè¯·é—®æ‚¨æ˜¯å¦éœ€è¦èµ„é‡‘å‘¨è½¬ï¼Ÿæ‚¨ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ï¼Œä½ ä¼šï¼Ÿï¼ˆæ–°ç–†å…¬å®‰æä¾›ï¼‰\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;è®¤çœŸå¬ï¼Œä¸»åŠ¨æ·»åŠ è¯¥æ‰‹æœºå·çš„å¾®ä¿¡\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;æŒ‚æ–­ç”µè¯ï¼Œç›´æ¥ä¸¾æŠ¥æ”¹å·ç \u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;score\u0026#34;: 5 }, { \u0026#34;id\u0026#34;: \u0026#34;1435444479216664578\u0026#34;, \u0026#34;category\u0026#34;: null, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œxxï¼Œæˆ‘æ˜¯ä½ äºŒå”ã€‚æˆ‘è¿™è¾¹å‡ºäº†ç‚¹æ€¥äº‹éœ€è¦å‘¨è½¬ï¼Œä½ è½¬3000å—ç»™æˆ‘å§ã€‚â€å½“æ”¶åˆ°äº²å‹å‘æ¥çš„ç±»ä¼¼æ¶ˆæ¯æ—¶ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;ä¸å¯¹æ–¹ç”µè¯æˆ–è§†é¢‘ç¡®è®¤èº«ä»½\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;äº²æˆšæœ‰éš¾ï¼Œç«‹å³è½¬è´¦\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;score\u0026#34;: 5 }, { \u0026#34;id\u0026#34;: \u0026#34;1435444480810500097\u0026#34;, \u0026#34;category\u0026#34;: null, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œæ³•å®˜â€ç§°ä½ æ¶‰å«ŒçŠ¯ç½ªï¼Œè¦ä½ å°†é’±è½¬å…¥å®‰å…¨è´¦æˆ·ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;å…ˆæ ¸å®å¯¹æ–¹èº«ä»½\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;ç«‹åˆ»è½¬é’±\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;score\u0026#34;: 5 }, { \u0026#34;id\u0026#34;: \u0026#34;1435444480009388034\u0026#34;, \u0026#34;category\u0026#34;: null, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œxxæ‚¨å¥½ï¼Œç”±äºå¿«é€’å‘˜ç–å¿½ï¼Œæ‚¨çš„å¿«é€’åœ¨è¿é€é€”ä¸­ä¸¢å¤±ï¼Œæˆ‘ä»¬å°†èµ”å¿ä½ 2å€æŸå¤±ï¼Œç‚¹å‡»ä»¥ä¸‹é“¾æ¥å¡«å†™ä¸ªäººä¿¡æ¯ã€‚â€æ¥åˆ°ç±»ä¼¼ç”µè¯ï¼Œä½ ä¼š\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;è”ç³»å®˜æ–¹å®¢æœæŸ¥è¯¢å¿«é€’ä¿¡æ¯\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;ç‚¹å‡»é“¾æ¥å¹¶æŒ‰è¦æ±‚å¡«å†™ä¿¡æ¯\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;score\u0026#34;: 5 } ], \u0026#34;totalNum\u0026#34;: 4, \u0026#34;totalScore\u0026#34;: 20 } } æäº¤ç­”å· url: /front/exam/do\nmethod: Post\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ examId å¿…å¡«ï¼Œè¯•å·id 1 answers å¿…å¡«ï¼Œç”¨æˆ·å¡«å†™çš„ç­”æ¡ˆï¼Œkey-valueå½¢å¼ï¼Œkeyè¯•å·é¢˜ç›®çš„idï¼Œvalueä¸ºæ•°ç»„ï¼Œå­˜å‚¨ç”¨æˆ·çš„é€‰é¡¹ \u0026ldquo;answers\u0026rdquo;: {\u0026ldquo;1435444478465884162\u0026rdquo;: [\u0026ldquo;A\u0026rdquo;],\u0026ldquo;1435444480810500097\u0026rdquo;: [\u0026ldquo;B\u0026rdquo;],\u0026ldquo;1435444480009388034\u0026rdquo;: [\u0026ldquo;A\u0026rdquo;],\u0026ldquo;1435444479216664578\u0026rdquo;: [\u0026ldquo;A\u0026rdquo;]} response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;examId\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;score\u0026#34;: 20, \u0026#34;correctNum\u0026#34;: 4, \u0026#34;totalNum\u0026#34;: 4, \u0026#34;totalScore\u0026#34;: 20, \u0026#34;questions\u0026#34;: [ { \u0026#34;questionId\u0026#34;: \u0026#34;1435444478465884162\u0026#34;, \u0026#34;isCorrect\u0026#34;: true, \u0026#34;score\u0026#34;: 5, \u0026#34;correctAnswer\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;userAnswers\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;questionId\u0026#34;: \u0026#34;1435444479216664578\u0026#34;, \u0026#34;isCorrect\u0026#34;: true, \u0026#34;score\u0026#34;: 5, \u0026#34;correctAnswer\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;userAnswers\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;questionId\u0026#34;: \u0026#34;1435444480009388034\u0026#34;, \u0026#34;isCorrect\u0026#34;: true, \u0026#34;score\u0026#34;: 5, \u0026#34;correctAnswer\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;userAnswers\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;questionId\u0026#34;: \u0026#34;1435444480810500097\u0026#34;, \u0026#34;isCorrect\u0026#34;: true, \u0026#34;score\u0026#34;: 5, \u0026#34;correctAnswer\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;userAnswers\u0026#34;: [ \u0026#34;B\u0026#34; ] } ] } } è·å–ç­”é¢˜è®°å½• url: /front/exam/history/{examId}\nmethod: Post\nrequest param: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;examId\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;score\u0026#34;: 20, \u0026#34;correctNum\u0026#34;: 4, \u0026#34;totalNum\u0026#34;: 4, \u0026#34;totalScore\u0026#34;: 20, \u0026#34;questions\u0026#34;: [ { \u0026#34;score\u0026#34;: 5.0, \u0026#34;isCorrect\u0026#34;: true, \u0026#34;questionId\u0026#34;: 1.43544447846588416E18, \u0026#34;userAnswers\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;correctAnswer\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;score\u0026#34;: 5.0, \u0026#34;isCorrect\u0026#34;: true, \u0026#34;questionId\u0026#34;: 1.43544447921666458E18, \u0026#34;userAnswers\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;correctAnswer\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;score\u0026#34;: 5.0, \u0026#34;isCorrect\u0026#34;: true, \u0026#34;questionId\u0026#34;: 1.43544448000938803E18, \u0026#34;userAnswers\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;correctAnswer\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;score\u0026#34;: 5.0, \u0026#34;isCorrect\u0026#34;: true, \u0026#34;questionId\u0026#34;: 1.4354444808105001E18, \u0026#34;userAnswers\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;correctAnswer\u0026#34;: [ \u0026#34;B\u0026#34; ] } ] } } æ´»åŠ¨æ¨¡å— åˆ†é¡µæŸ¥è¯¢æ´»åŠ¨ url:/front/activities\nmethod:Get\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc respose body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1466978161962057729\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;signTime\u0026#34;: 1640836199000, \u0026#34;startTime\u0026#34;: 1641026999000, \u0026#34;endTime\u0026#34;: 1641134999000, \u0026#34;status\u0026#34;: 0, \u0026#34;number\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1465876559196704770\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•è¯¦æƒ…\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;signTime\u0026#34;: 1638405000000, \u0026#34;startTime\u0026#34;: 1638406800000, \u0026#34;endTime\u0026#34;: 1638417600000, \u0026#34;status\u0026#34;: 0, \u0026#34;number\u0026#34;: null } ], \u0026#34;total\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æŸ¥è¯¢æ´»åŠ¨è¯¦æƒ… url: /front/activity/{id}\nmethod: Get\nrequest body:\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1466978161962057729\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;signTime\u0026#34;: 1640836199000, \u0026#34;startTime\u0026#34;: 1641026999000, \u0026#34;endTime\u0026#34;: 1641134999000, \u0026#34;status\u0026#34;: 0, \u0026#34;number\u0026#34;: 6 } } ç­¾åˆ°URL url: /front/activity/sign\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ activityId å¿…å¡«ï¼Œæ´»åŠ¨id 1 qrCode å¿…å¡«ï¼Œä¸´æ—¶ç  xxxxx response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ","permalink":"https://rexhub.space/posts/proj/doc/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/","summary":"æ— è¯ˆæ ¡å›­å¾®ä¿¡å°ç¨‹åºåç«¯æ¥å£æ–‡æ¡£ baseUrl = â€œhttp://localhost:8090/fraud-prevention/apiâ€ æœåŠ¡å™¨Url=â€œhttp://1.117.91.88:52016/fraud-prevention/apiâ€ ç”¨æˆ·æ¨¡å— ç™»å½• url: /front/user/login\nmethod: Get\nrequest param: code\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;:\u0026#34;98cb5a80-4199-44ce-a5f0-9f09c4bc438f\u0026#34; } è·å–å½“å‰ç™»å½•ç”¨æˆ·æ•°æ® url: /front/user/current\nmethod: Get\nrequest param: ç©º\nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1412572056239054850\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/LDUQrb7oLTQ4JiccNicdPhHQ0jTjs4ic0mVpUb8uP9ic4jS1ydEzeYuQDu9ZsJHLYDpMT6atMktQFEBSE1dBfIVlMw/132\u0026#34;, \u0026#34;phone\u0026#34;: \u0026#34;15706753061\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ—ç‘æ˜Ÿ(Rex)\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;ç”·\u0026#34;, \u0026#34;number\u0026#34;: \u0026#34;19002090117\u0026#34;, \u0026#34;totalScore\u0026#34;: 350 } } éªŒè¯ç”¨æˆ·æ˜¯å¦æˆæƒ url: /front/user/auth\nmethod: Get\nrequest param: ç©º","title":"æ— è¯ˆæ ¡å›­å¾®ä¿¡å°ç¨‹åºåç«¯æ¥å£æ–‡æ¡£"},{"content":"FraudPreventionåå°ç®¡ç†ç³»ç»Ÿå¼€å‘æ–‡æ¡£ baseUrl = \u0026ldquo;http://localhost:8090/fraud-prevention/api\u0026rdquo;\næœåŠ¡å™¨Url=\u0026ldquo;http://1.117.91.88:52016/fraud-prevention/api\u0026rdquo;\né€šç”¨æ¨¡å— è·å–éªŒè¯ç  url: /admin/captcha\nmethod: Get\nrequest body: ç©º\nresponse body\n\u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { token: \u0026#34;xxxxxx\u0026#34;, //éªŒè¯ç token captchaImg: \u0026#34;data:image/jpeg;base64,xxxxxx\u0026#34;, //base64æ ¼å¼çš„éªŒè¯ç å›¾ç‰‡ } } è·å–æ‰€æœ‰æ¨¡å—ä¿¡æ¯ url: /admin/modules\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: 1, \u0026#34;moduleCode\u0026#34;: \u0026#34;USER\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;ç”¨æˆ·ç®¡ç†\u0026#34; }, { \u0026#34;id\u0026#34;: 2, \u0026#34;moduleCode\u0026#34;: \u0026#34;ROLE\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;è§’è‰²ç®¡ç†\u0026#34; }, { \u0026#34;id\u0026#34;: 3, \u0026#34;moduleCode\u0026#34;: \u0026#34;PERM\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;æƒé™ç®¡ç†\u0026#34; }, { \u0026#34;id\u0026#34;: 4, \u0026#34;moduleCode\u0026#34;: \u0026#34;TEACHER\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;æ•™å¸ˆç®¡ç†\u0026#34; } ] } éœ€æå‰ç™»å½•\nè·å–æ‰€æœ‰è¡Œä¸º(å¢åˆ æ”¹æŸ¥)ä¿¡æ¯ url: /admin/actions\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: 1, \u0026#34;actionCode\u0026#34;: \u0026#34;INSERT\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;æ·»åŠ \u0026#34; }, { \u0026#34;id\u0026#34;: 2, \u0026#34;actionCode\u0026#34;: \u0026#34;DELETE\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;åˆ é™¤\u0026#34; }, { \u0026#34;id\u0026#34;: 3, \u0026#34;actionCode\u0026#34;: \u0026#34;UPDATE\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;ä¿®æ”¹\u0026#34; }, { \u0026#34;id\u0026#34;: 4, \u0026#34;actionCode\u0026#34;: \u0026#34;SELETE\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;æŸ¥è¯¢\u0026#34; } ] } éœ€æå‰ç™»å½•\nä¸Šä¼ å›¾ç‰‡ï¼ˆä¸Šä¼ å¤´åƒçš„æ—¶å€™éœ€è¦ï¼‰ï¼š url: /admin/image\nmethod: Post\nrequest body :\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ file å¿…å¡«ï¼Œå›¾ç‰‡ response bodyï¼š\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: \u0026#34;https://cdn.rexhub.xyz/xxxx\u0026#34; } åˆ é™¤å›¾ç‰‡ï¼ˆç‚¹å‡»å–æ¶ˆåéœ€è¦ï¼‰ url: /admin/image\nmethod: Delete\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ url å¿…å¡«ï¼Œå›¾ç‰‡çš„åœ°å€ https://cdn.rexhub.xyz/xxxx response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ç”¨æˆ·æ¨¡å— ç™»å½• url: /admin/login\nmethod: Post\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ username ç”¨æˆ·å admin password å¯†ç  admin token éªŒè¯ç çš„token code éªŒè¯ç  cwca1 response header\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ Authorization ç”¨æˆ·ç™»å½•çš„tokenï¼Œå…¶ä»–çš„è¯·æ±‚ï¼Œè¯·æ±‚å¤´éƒ½è¦å¸¦ä¸Š xxxxx response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯ url:/admin/currentuser\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç®¡ç†å‘˜\u0026#34;, \u0026#34;password\u0026#34;: null, \u0026#34;username\u0026#34;: \u0026#34;root\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;http://cdn.rexhub.xyz/img/20210823181936.png\u0026#34;, \u0026#34;sex\u0026#34;: 1, \u0026#34;tel\u0026#34;: \u0026#34;1377777777\u0026#34;, \u0026#34;email\u0026#34;: \u0026#34;root@163.com\u0026#34;, \u0026#34;roles\u0026#34;: [ \u0026#34;admin\u0026#34; ], \u0026#34;perms\u0026#34;: [ \u0026#34;ROOT\u0026#34; ] } } ç™»å‡º url: /admin/logout\nmethod: Get\nrequest bodyï¼šç©º\nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } æ–°å¢ç”¨æˆ·ï¼ˆåˆå§‹åŒ–å¯†ç 88888888ï¼‰ï¼š url: /admin/user\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ username å¿…å¡«ï¼Œç”¨æˆ·å ceshi name å¿…å¡«ï¼Œåå­—ï¼Œ2-10ä½è‹±æ–‡ã€ä¸­æ–‡ã€æ•°å­— æµ‹è¯• avatarUrl éå¿…å¡«ï¼Œå¤´åƒåœ°å€ï¼Œè‹¥æ— ï¼Œæœ‰é»˜è®¤å¤´åƒåœ°å€ https://xxx/xx.jpg sex å¿…å¡«ï¼Œæ€§åˆ«ï¼Œ0-ç”·ï¼Œ1-å¥³ 0 tel å¿…å¡«ï¼Œæ‰‹æœºå·ï¼Œ11ä½ 17777777777 email å¿…å¡«ï¼Œé‚®ç®± ceshi@163com roles å¿…å¡«ï¼Œæ•°ç»„ï¼Œè§’è‰²id [0] response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤ç”¨æˆ·ï¼š url: /admin/users\nmethod: Delete\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ ids å¿…å¡«ï¼Œç”¨æˆ·çš„id [0] response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ä¿®æ”¹ç”¨æˆ·ï¼š url: /admin/user\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œå¾…ä¿®æ”¹ç”¨æˆ·ç¼–å· xxxxx name éå¿…å¡«ï¼Œåå­— æµ‹è¯• avatarUrl éå¿…å¡«ï¼Œå¤´åƒåœ°å€ï¼Œè‹¥æ— ï¼Œæœ‰é»˜è®¤å¤´åƒåœ°å€ https://xxx/xx.jpg sex éå¿…å¡«ï¼Œæ€§åˆ«ï¼Œ0-ç”·ï¼Œ1-å¥³ 0 tel éå¿…å¡«ï¼Œæ‰‹æœºå·ï¼Œ11ä½ 17777777777 email éå¿…å¡«ï¼Œé‚®ç®± ceshi@163com response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } æŸ¥è¯¢ç”¨æˆ·ï¼š url: /admin/user/{userId}\nmethod: Get\nrequest body:ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç®¡ç†å‘˜\u0026#34;, \u0026#34;username\u0026#34;: \u0026#34;root\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;http://cdn.rexhub.xyz/img/20210823181936.png\u0026#34;, \u0026#34;sex\u0026#34;: 1, \u0026#34;tel\u0026#34;: \u0026#34;1377777777\u0026#34;, \u0026#34;email\u0026#34;: \u0026#34;root@163.com\u0026#34;, \u0026#34;roles\u0026#34;: [ \u0026#34;admin\u0026#34; ] } } åˆ†é¡µæŸ¥è¯¢ï¼š url: /admin/users\nmethod: Get\nrequest params(url è·¯å¾„ä¼ å‚)\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ page éå¿…å¡«ï¼Œé¡µæ•°ï¼Œé»˜è®¤5 5 size éå¿…å¡«ï¼Œæ¯é¡µæ•°é‡ï¼Œé»˜è®¤10ï¼Œä¸èƒ½è¶…è¿‡50 10 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc username éå¿…å¡«ï¼Œç”¨æˆ·åæ¨¡ç³ŠæŸ¥è¯¢ ce response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç®¡ç†å‘˜\u0026#34;, \u0026#34;username\u0026#34;: \u0026#34;root\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;http://cdn.rexhub.xyz/img/20210823181936.png\u0026#34;, \u0026#34;sex\u0026#34;: 1, \u0026#34;tel\u0026#34;: \u0026#34;1377777777\u0026#34;, \u0026#34;email\u0026#34;: \u0026#34;root@163.com\u0026#34;, \u0026#34;roles\u0026#34;: [ \u0026#34;admin\u0026#34; ] } ], \u0026#34;total\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } åˆ†é…ç”¨æˆ·è§’è‰²ï¼š url:/admin/user/role\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œç”¨æˆ·id 0 roles å¿…å¡«ï¼Œè§’è‰²idæ•°ç»„ [1, 2, 3] response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } é‡ç½®å¯†ç ï¼ˆ88888888ï¼‰ï¼š url: /admin/repass/{userId}\nmethod: Put\nrequest bodyï¼šç©º\nresponse bodyï¼š\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } tipï¼šä¿®æ”¹åï¼Œéœ€é‡æ–°ç™»å½•ï¼Œåç«¯ä¼šä½¿tokenå¤±æ•ˆï¼›\nä¿®æ”¹å¯†ç ï¼š url: /admin/user/updatepass\nmethod: Put\nrequest bodyï¼š\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ newPassword å¿…å¡«ï¼Œæ–°å¯†ç  xxxxxx oldPassword å¿…å¡«ï¼Œæ—§å¯†ç  xxxxx response bodyï¼š\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } tipï¼šä¿®æ”¹åï¼Œéœ€é‡æ–°ç™»å½•ï¼Œåç«¯ä¼šä½¿tokenå¤±æ•ˆï¼›\nè§’è‰²æ¨¡å— æŸ¥è¯¢æ‰€æœ‰è§’è‰²ï¼ˆç”¨äºç»™ç”¨æˆ·åˆ†é…æƒé™ï¼‰ url:/admin/role/all\nmethod: Get\nrequest body\nresposne body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;createTime\u0026#34;: 1635994114000, \u0026#34;updateTime\u0026#34;: 1635994120000, \u0026#34;creator\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;updater\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;admin\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;systemic\u0026#34;: 1 } ] } åˆ†é¡µæŸ¥è¯¢è§’è‰² url: /admin/roles\nmethod: Get\nrequest param(æ³¨æ„è¿™é‡Œç”¨çš„urlä¼ å‚)\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name éå¿…å¡«ï¼Œ1-10ä½ä¸­æ–‡ã€è‹±æ–‡ç»„æˆ root page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;roleName\u0026#34;: \u0026#34;admin\u0026#34;, \u0026#34;users\u0026#34;: 1, \u0026#34;permissions\u0026#34;: 1, \u0026#34;desc\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;systemic\u0026#34;: 1 } ], \u0026#34;total\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æŸ¥è¯¢è§’è‰²è¯¦æƒ… url:/admin/role/{id}\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;admin\u0026#34;, \u0026#34;permissions\u0026#34;: [ \u0026#34;0\u0026#34; ], \u0026#34;desc\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; } } æ–°å¢è§’è‰² url:/admin/role\nmethod: Post\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name å¿…å¡«ï¼Œè§’è‰²åç§°ï¼Œ2-10ä½è‹±æ–‡ã€ä¸­æ–‡ã€æ•°å­— test permissions å¿…å¡«éç©ºï¼Œæƒé™æ•°ç»„ [0] desc å¿…å¡«ï¼Œè§’è‰²æè¿°ï¼Œä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦ test response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤è§’è‰² url: /admin/roles\nmethod: Delete\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ ids å¿…å¡«éç©ºï¼Œä½†åˆ é™¤æƒé™idæ•°ç»„ [1457736051796123650] response bodyï¼š\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ä¿®æ”¹è§’è‰² url: /admin/role\nmethod: Put\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œå¾…ä¿®æ”¹çš„è§’è‰²id name éå¿…å¡«ï¼Œè§’è‰²åç§°ï¼Œ2-10ä½è‹±æ–‡ã€ä¸­æ–‡ã€æ•°å­— test permissions éå¿…å¡«ï¼Œæƒé™æ•°ç»„ [0] desc éå¿…å¡«ï¼Œè§’è‰²æè¿°ï¼Œä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦ test response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } æƒé™æ¨¡å— æŸ¥è¯¢æ‰€æœ‰æƒé™ï¼ˆç”¨äºç»™è§’è‰²åˆ†é…æƒé™ï¼‰ urlï¼š/admin/perms\nmethod: Get\nrequest body: ç©º\nresponse bodyï¼š\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;ç”¨æˆ·ç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;æ·»åŠ \u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;ç”¨æˆ·ç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;åˆ é™¤\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;3\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;ç”¨æˆ·ç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;ä¿®æ”¹\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;4\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;ç”¨æˆ·ç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;æŸ¥è¯¢\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;5\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;è§’è‰²ç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;æ·»åŠ \u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;6\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;è§’è‰²ç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;åˆ é™¤\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;7\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;è§’è‰²ç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;ä¿®æ”¹\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;8\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;è§’è‰²ç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;æŸ¥è¯¢\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;9\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;æ•™å¸ˆç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;æ·»åŠ \u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;æ•™å¸ˆç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;åˆ é™¤\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;11\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;æ•™å¸ˆç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;ä¿®æ”¹\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;12\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;æ•™å¸ˆç®¡ç†\u0026#34;, \u0026#34;actionName\u0026#34;: \u0026#34;æŸ¥è¯¢\u0026#34; } ] } å­¦æ ¡ç®¡ç†æ¨¡å— æŸ¥è¯¢å­¦æ ¡åˆ—è¡¨ url:/front/school/all\nmethod: Get\nrequest body: æ— \nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1410909562636140546\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412948512863797249\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·ç†å·¥å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1460131595630436353\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·åŒ»ç§‘å¤§å­¦\u0026#34;, \u0026#34;depts\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1460132183478919170\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å®æ³¢ç†å·¥å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null } ] } æŸ¥è¯¢å­¦æ ¡è¯¦æƒ… url:/admin/school/{schoolId}\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1410909562636140546\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: null } } åˆ†é¡µæŸ¥è¯¢ url:/admin/school\nmethod: Get\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name éå¿…å¡«ï¼Œå­¦æ ¡åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… æ¸©å· page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1410909562636140546\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: 1 }, { \u0026#34;id\u0026#34;: \u0026#34;1412948512863797249\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·ç†å·¥å­¦é™¢\u0026#34;, \u0026#34;depts\u0026#34;: 2 }, { \u0026#34;id\u0026#34;: \u0026#34;1460131595630436353\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ¸©å·åŒ»ç§‘å¤§å­¦\u0026#34;, \u0026#34;depts\u0026#34;: 0 } ], \u0026#34;total\u0026#34;: \u0026#34;3\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æ–°å¢å­¦æ ¡ä¿¡æ¯ url: /admin/school\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name å¿…å¡«ï¼Œå­¦æ ¡åç§°ï¼Œ2-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆ æµ™æ±Ÿå¤§å­¦ response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ä¿®æ”¹å­¦æ ¡ä¿¡æ¯ url: /admin/school\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œå­¦æ ¡id 0 name å¿…å¡«ï¼Œå­¦æ ¡åç§°ï¼Œ2-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆ æµ™æ±Ÿå¤§å­¦ response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤å­¦æ ¡ä¿¡æ¯ url: /admin/schools\nmethod: Delete\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ ids å¿…å¡«éç©ºï¼Œå¾…åˆ é™¤å­¦æ ¡idæ•°ç»„ [1457736051796123650] response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ç³»éƒ¨ç®¡ç†æ¨¡å— æŸ¥è¯¢ç³»éƒ¨åˆ—è¡¨ url: front/dept/all\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ schoolId å¿…å¡«ï¼Œå­¦æ ¡id 1412948512863797249 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1412948697090220034\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ä¿¡æ¯æŠ€æœ¯ç³»\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;classes\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412949051445972994\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å·¥å•†ç³»\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;classes\u0026#34;: null } ] } æŸ¥è¯¢ç³»éƒ¨è¯¦æƒ… url:/admin/school/{schoolId}\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1460183015209611266\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è®¡ç®—æœº\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;classes\u0026#34;: null } } åˆ†é¡µæŸ¥è¯¢ url: /admin/depts\nmethod: Get\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name éå¿…å¡«ï¼Œç³»éƒ¨åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… ä¿¡æ¯ school éå¿…å¡«ï¼Œå­¦æ ¡åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… æ¸©å· page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1410910929379442690\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ä¿¡æ¯æŠ€æœ¯ç³»\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;classes\u0026#34;: 8 }, { \u0026#34;id\u0026#34;: \u0026#34;1412948697090220034\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ä¿¡æ¯æŠ€æœ¯ç³»\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·ç†å·¥å­¦é™¢\u0026#34;, \u0026#34;classes\u0026#34;: 0 } ], \u0026#34;total\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æ–°å¢ç³»éƒ¨ä¿¡æ¯ url: /admin/dept\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name å¿…å¡«ï¼Œç³»éƒ¨åç§°ï¼Œ2-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆ è®¾è®¡åˆ›æ„å­¦é™¢ schoolId å¿…å¡«ï¼Œå­¦æ ¡ç¼–å· 1410909562636140546 response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ä¿®æ”¹ç³»éƒ¨ä¿¡æ¯ url: /admin/depts\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œç³»éƒ¨id 1410910929379442690 name å¿…å¡«ï¼Œç³»éƒ¨åç§°ï¼Œ2-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆ äººå·¥æ™ºèƒ½å­¦é™¢ response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤ç³»éƒ¨ä¿¡æ¯ url: /admin/dept\nmethod: Delete\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ ids å¿…å¡«éç©ºï¼Œå¾…åˆ é™¤ç³»éƒ¨idæ•°ç»„ [1460218569095688193] response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ç­çº§ç®¡ç†æ¨¡å— æŸ¥è¯¢ç­çº§åˆ—è¡¨ url:/front/class/all\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ deptId å¿…å¡«ï¼Œç³»éƒ¨ç¼–å· 1412948512863797249 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1410913678187843585\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è½¯ä»¶1902\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412947584844611586\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å¤§æ•°æ®1902\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412947735629869057\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å¤§æ•°æ®1901\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412948099783573506\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ•°åª’1901\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1412948245002862593\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ•°åª’1902\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1414833835378409474\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç”µå­å•†åŠ¡1901\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1414855420751523841\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç”µå­å•†åŠ¡1902\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null } ] } æŸ¥è¯¢ç­çº§è¯¦æƒ… url: /admin/class/{classId}\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1414855420751523841\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç”µå­å•†åŠ¡1902\u0026#34;, \u0026#34;school\u0026#34;: null, \u0026#34;dept\u0026#34;: null, \u0026#34;students\u0026#34;: null, \u0026#34;teachers\u0026#34;: null } } åˆ†é¡µæŸ¥è¯¢ url: /admin/classes\nmethod: Get\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name éå¿…å¡«ï¼Œç³»éƒ¨åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… 19 school éå¿…å¡«ï¼Œå­¦æ ¡åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… æ¸©å· dept éå¿…å¡«ï¼Œç­çº§åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… äººå·¥ page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;dept\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;students\u0026#34;: 2, \u0026#34;teachers\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1410913678187843585\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è½¯ä»¶1902\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;dept\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;students\u0026#34;: 0, \u0026#34;teachers\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1412947584844611586\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å¤§æ•°æ®1902\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;dept\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;students\u0026#34;: 0, \u0026#34;teachers\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1412947735629869057\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å¤§æ•°æ®1901\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;dept\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;students\u0026#34;: 0, \u0026#34;teachers\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1412948099783573506\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ•°åª’1901\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;dept\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;students\u0026#34;: 0, \u0026#34;teachers\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1412948245002862593\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ•°åª’1902\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;dept\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;students\u0026#34;: 0, \u0026#34;teachers\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1414833835378409474\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç”µå­å•†åŠ¡1901\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;dept\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;students\u0026#34;: 0, \u0026#34;teachers\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1414855420751523841\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ç”µå­å•†åŠ¡1902\u0026#34;, \u0026#34;school\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;dept\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;students\u0026#34;: 0, \u0026#34;teachers\u0026#34;: 0 } ], \u0026#34;total\u0026#34;: \u0026#34;8\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æ–°å¢ç­çº§ä¿¡æ¯ url: /admin/classes\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name å¿…å¡«ï¼Œç­çº§åç§°ï¼Œ2-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆ è½¯ä»¶2001 deptId å¿…å¡«ï¼Œç³»éƒ¨ç¼–å· 1410910929379442690 response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ä¿®æ”¹ç­çº§ä¿¡æ¯ url: /admin/class\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œç­çº§id 1460221775330717697 name å¿…å¡«ï¼Œç­çº§åç§°ï¼Œ2-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆ è½¯ä»¶2002 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤ç­çº§ä¿¡æ¯ url: /admin/class\nmethod: Delete\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ ids å¿…å¡«éç©ºï¼Œå¾…åˆ é™¤ç­çº§idæ•°ç»„ [1460221775330717697] response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } æ•™å¸ˆç®¡ç†æ¨¡å— è·å–æ•™å¸ˆä¸‹çš„æŒ‡å®šç­çº§çš„ç”¨æˆ·id url: /admin/teacher/student/class\nmethod: Get\nrequest param:\nex: /admin/teacher/student/class?classIds=1410913476450226178\u0026amp;classIds=1410913678187843585\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ \u0026#34;1411968879850217474\u0026#34;, \u0026#34;1412572056239054850\u0026#34;, \u0026#34;1415575081450565634\u0026#34;, \u0026#34;1415580979342438401\u0026#34;, \u0026#34;1415591580143726594\u0026#34;, \u0026#34;1415624376656605185\u0026#34;, \u0026#34;1416319359520894977\u0026#34;, \u0026#34;1416600216089423874\u0026#34; ] } åˆ†é¡µæŸ¥è¯¢æ•™å¸ˆç®¡ç†çš„å­¦ç”Ÿä¿¡æ¯ url:/admin/teacher/students\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ studentName éå¿…å¡«ï¼Œå­¦ç”Ÿåç§°ï¼Œä¸è¶…è¿‡20ä¸ªå­—ç¬¦ï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… 0 className éå¿…å¡«ï¼Œç³»éƒ¨åç§°ï¼Œä¸è¶…è¿‡20ä¸ªå­—ç¬¦ï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… 19 schoolName éå¿…å¡«ï¼Œå­¦æ ¡åç§°ï¼Œä¸è¶…è¿‡20ä¸ªå­—ç¬¦ï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… æ¸©å· deptName éå¿…å¡«ï¼Œç­çº§åç§°ï¼Œä¸è¶…è¿‡20ä¸ªå­—ç¬¦ï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… äººå·¥ number éå¿…å¡«ï¼Œå­¦ç”Ÿå­¦å·ï¼Œä¸è¶…è¿‡50ä¸ªå­—ç¬¦ page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1412572056239054850\u0026#34;, //å­¦ç”Ÿid \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/LDUQrb7oLTQ4JiccNicdPhHQ0jTjs4ic0mVpUb8uP9ic4jS1ydEzeYuQDu9ZsJHLYDpMT6atMktQFEBSE1dBfIVlMw/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;æ—ç‘æ˜Ÿ\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;ç”·\u0026#34;, \u0026#34;number\u0026#34;: \u0026#34;19002090117\u0026#34;, \u0026#34;totalScore\u0026#34;: 350 }, { \u0026#34;id\u0026#34;: \u0026#34;1411968879850217474\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/LDUQrb7oLTQ4JiccNicdPhHQ0jTjs4ic0mVpUb8uP9ic4jS1ydEzeYuQDu9ZsJHLYDpMT6atMktQFEBSE1dBfIVlMw/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;Rex\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;ç”·\u0026#34;, \u0026#34;number\u0026#34;: \u0026#34;19002090117\u0026#34;, \u0026#34;totalScore\u0026#34;: 100 }, { \u0026#34;id\u0026#34;: \u0026#34;1415575081450565634\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1902\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK9Hb6AWXBqOtNWqia9IPa1pg1BGWwTvr9kqNc0vXocpFnChmn90JBZWKozYTZ9jziaxxiaiaNz8GpXzw/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;è¶…çº§å¤§å¯çˆ±\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;å¥³\u0026#34;, \u0026#34;number\u0026#34;: null, \u0026#34;totalScore\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1415580979342438401\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1902\u0026#34;, \u0026#34;avatarUrl\u0026#34;: null, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: null, \u0026#34;gender\u0026#34;: \u0026#34;å¥³\u0026#34;, \u0026#34;number\u0026#34;: null, \u0026#34;totalScore\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1415591580143726594\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1902\u0026#34;, \u0026#34;avatarUrl\u0026#34;: null, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: null, \u0026#34;gender\u0026#34;: \u0026#34;å¥³\u0026#34;, \u0026#34;number\u0026#34;: null, \u0026#34;totalScore\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1415624376656605185\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmhead/MAfiat4VDB3a5UmppLCgPyoSORqM3NJ5VSiavMFqItr6Y/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;é™ˆé›…å©·\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;å¥³\u0026#34;, \u0026#34;number\u0026#34;: null, \u0026#34;totalScore\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1416319359520894977\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: null, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: null, \u0026#34;gender\u0026#34;: \u0026#34;å¥³\u0026#34;, \u0026#34;number\u0026#34;: null, \u0026#34;totalScore\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1416600216089423874\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmhead/rneMlzCiabb4AnIG0ibqGC9PwRrf0PSdSpFQehXNwHq0I/132\u0026#34;, \u0026#34;phone\u0026#34;: null, \u0026#34;name\u0026#34;: \u0026#34;é™ˆæ·‘åª›\u0026#34;, \u0026#34;gender\u0026#34;: \u0026#34;å¥³\u0026#34;, \u0026#34;number\u0026#34;: null, \u0026#34;totalScore\u0026#34;: 0 } ], \u0026#34;total\u0026#34;: \u0026#34;8\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } åˆ†é¡µæŸ¥è¯¢æ•™å¸ˆç®¡ç†ç­çº§çš„ä¿¡æ¯ url:/admin/teacher/classes\nmethod: Get\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ userId éå¿…å¡«ï¼Œç”¨æˆ·idï¼ŒæŸ¥è¯¢æŒ‡å®šç”¨æˆ·çš„ç­çº§ä¿¡æ¯ 0 className éå¿…å¡«ï¼Œç³»éƒ¨åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… 19 schoolName éå¿…å¡«ï¼Œå­¦æ ¡åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… æ¸©å· deptName éå¿…å¡«ï¼Œç­çº§åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… äººå·¥ page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1462758787663269890\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1462756593480241154\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1462756205561647105\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·ç†å·¥å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;æ™ºèƒ½åˆ¶é€ å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;test5213\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1462755029910818818\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1460221775330717697\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶2002\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1462754988815028225\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1412947735629869057\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;å¤§æ•°æ®1901\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1462754962114088962\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1412948099783573506\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;æ•°åª’1901\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1461714317027176450\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1461672241728188417\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·ç†å·¥å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;å»ºç­‘ä¸èƒ½æºå·¥ç¨‹\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;åœŸæœ¨å·¥ç¨‹\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1461700754434813954\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1410913678187843585\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1902\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1460808406588395522\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1410913678187843585\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1902\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;classId\u0026#34;: \u0026#34;1410913476450226178\u0026#34;, \u0026#34;teacherName\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;schoolName\u0026#34;: \u0026#34;æ¸©å·èŒä¸šæŠ€æœ¯å­¦é™¢\u0026#34;, \u0026#34;deptName\u0026#34;: \u0026#34;äººå·¥æ™ºèƒ½å­¦é™¢\u0026#34;, \u0026#34;className\u0026#34;: \u0026#34;è½¯ä»¶1901\u0026#34; } ], \u0026#34;total\u0026#34;: \u0026#34;9\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æ–°å¢æ•™å¸ˆç®¡ç†ç­çº§çš„ä¿¡æ¯ url: /admin/teacher/class\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ userId å¿…å¡«ï¼Œç”¨æˆ·id 0 classId å¿…å¡«ï¼Œç­çº§id 1410910929379442690 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤æ•™å¸ˆç®¡ç†ç­çº§çš„ä¿¡æ¯ url: /admin/teacher/classes\nmethod: Delete\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ ids å¿…å¡«éç©ºï¼Œå¾…åˆ é™¤ç­çº§idæ•°ç»„ [1460221775330717697] response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } é¢˜åº“åˆ†ç±»æ¨¡å— æŸ¥è¯¢é¢˜åº“åˆ†ç±»åˆ—è¡¨ url: /question/category/all\nmethod: Get\nrequest paramï¼šç©ºå‚\nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1399952455299837953\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ä»¿å†’èº«ä»½æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: null, \u0026#34;questions\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1399952768576548866\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è´­ç‰©ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: null, \u0026#34;questions\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1399952923354796033\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;åˆ©è¯±ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: null, \u0026#34;questions\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1399953043047657474\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è™šæ„é™©æƒ…æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: null, \u0026#34;questions\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1399953164586029058\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ—¥å¸¸ç”Ÿæ´»æ¶ˆè´¹ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: null, \u0026#34;questions\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1399953275995070465\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;é’“é±¼ã€æœ¨é©¬ç—…æ¯’ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: null, \u0026#34;questions\u0026#34;: null }, { \u0026#34;id\u0026#34;: \u0026#34;1399953451224756226\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ–°å‹è¿æ³•æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: null, \u0026#34;questions\u0026#34;: null } ] } æŸ¥è¯¢é¢˜åº“åˆ†ç±»è¯¦æƒ… url: /admin/question/category/{id}\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1399952923354796033\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;åˆ©è¯±ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: null, \u0026#34;questions\u0026#34;: null } } åˆ†é¡µæŸ¥è¯¢é¢˜åº“åˆ†ç±»ä¿¡æ¯ url: /admin/question/categories\nmethod: Get\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name éå¿…å¡«ï¼Œé¢˜åº“åˆ†ç±»åç§°ï¼Œ1-20ä½ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ç»„æˆï¼Œç”¨äºæ¨¡ç³ŠåŒ¹é… é¢˜ç›® page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1399953451224756226\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ–°å‹è¿æ³•æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;questions\u0026#34;: 3 }, { \u0026#34;id\u0026#34;: \u0026#34;1399953275995070465\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;é’“é±¼ã€æœ¨é©¬ç—…æ¯’ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;questions\u0026#34;: 3 }, { \u0026#34;id\u0026#34;: \u0026#34;1399953164586029058\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ—¥å¸¸ç”Ÿæ´»æ¶ˆè´¹ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;questions\u0026#34;: 17 }, { \u0026#34;id\u0026#34;: \u0026#34;1399953043047657474\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è™šæ„é™©æƒ…æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;questions\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;1399952923354796033\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;åˆ©è¯±ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;questions\u0026#34;: 26 }, { \u0026#34;id\u0026#34;: \u0026#34;1399952768576548866\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;è´­ç‰©ç±»æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;questions\u0026#34;: 13 }, { \u0026#34;id\u0026#34;: \u0026#34;1399952455299837953\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ä»¿å†’èº«ä»½æ¬ºè¯ˆ\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34;, \u0026#34;questions\u0026#34;: 63 } ], \u0026#34;total\u0026#34;: \u0026#34;7\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æ–°å¢é¢˜åº“åˆ†ç±»ä¿¡æ¯ url: /admin/question/category\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ name å¿…å¡«ï¼Œé¢˜åº“åç§°ï¼Œ2-20ä½ æµ‹è¯•ç±» response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } æ›´æ–°é¢˜åº“åˆ†ç±»ä¿¡æ¯ url: /admin/question/category\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œé¢˜åº“åˆ†ç±»id 1460221775330717697 name å¿…å¡«ï¼Œé¢˜åº“åˆ†ç±»åç§°ï¼Œ2-20ä½ æµ‹è¯•ä¿®æ”¹ç±» response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤é¢˜åº“åˆ†ç±»ä¿¡æ¯ url: /admin/question/categories\nmethod: Delete\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ ids å¿…å¡«éç©ºï¼Œå¾…åˆ é™¤é¢˜åº“åˆ†ç±»idæ•°ç»„ [1460221775330717697] response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } é¢˜åº“æ¨¡å— æŸ¥è¯¢é¢˜ç›®åˆ†é¡µæ•°æ® url: /admin/questions\nmethod: Get\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ categoryId é€‰å¡«ï¼Œåˆ†ç±»ç¼–å·ï¼Œä»åˆ†ç±»åˆ—è¡¨æŸ¥è¯¢çš„æ¥å£ä¸­è·å– 0 content é€‰å¡«ï¼Œæ¨¡ç³ŠæŸ¥è¯¢é¢˜ç›®å†…å®¹ åè¯ˆ type é€‰å¡«ï¼Œé¢˜ç›®ç±»å‹ï¼Œ1-å•é€‰ 2-å¤šé€‰ 3-åˆ¤æ–­ 1 level é€‰å¡«ï¼Œé¢˜ç›®éš¾åº¦ï¼ˆ1-10ï¼‰ 1 page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1435444478465884162\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;ï¼ˆæ™ºèƒ½è¯­éŸ³ï¼‰â€œæ‚¨å¥½ï¼Œæˆ‘æ˜¯XXé‡‘èå®¢æœï¼Œè¯·é—®æ‚¨æ˜¯å¦éœ€è¦èµ„é‡‘å‘¨è½¬ï¼Ÿæ‚¨ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ï¼Œä½ ä¼šï¼Ÿï¼ˆæ–°ç–†å…¬å®‰æä¾›ï¼‰\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;è®¤çœŸå¬ï¼Œä¸»åŠ¨æ·»åŠ è¯¥æ‰‹æœºå·çš„å¾®ä¿¡\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;æŒ‚æ–­ç”µè¯ï¼Œç›´æ¥ä¸¾æŠ¥æ”¹å·ç \u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444479216664578\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œxxï¼Œæˆ‘æ˜¯ä½ äºŒå”ã€‚æˆ‘è¿™è¾¹å‡ºäº†ç‚¹æ€¥äº‹éœ€è¦å‘¨è½¬ï¼Œä½ è½¬3000å—ç»™æˆ‘å§ã€‚â€å½“æ”¶åˆ°äº²å‹å‘æ¥çš„ç±»ä¼¼æ¶ˆæ¯æ—¶ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;ä¸å¯¹æ–¹ç”µè¯æˆ–è§†é¢‘ç¡®è®¤èº«ä»½\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;äº²æˆšæœ‰éš¾ï¼Œç«‹å³è½¬è´¦\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444480009388034\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œxxæ‚¨å¥½ï¼Œç”±äºå¿«é€’å‘˜ç–å¿½ï¼Œæ‚¨çš„å¿«é€’åœ¨è¿é€é€”ä¸­ä¸¢å¤±ï¼Œæˆ‘ä»¬å°†èµ”å¿ä½ 2å€æŸå¤±ï¼Œç‚¹å‡»ä»¥ä¸‹é“¾æ¥å¡«å†™ä¸ªäººä¿¡æ¯ã€‚â€æ¥åˆ°ç±»ä¼¼ç”µè¯ï¼Œä½ ä¼š\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;è”ç³»å®˜æ–¹å®¢æœæŸ¥è¯¢å¿«é€’ä¿¡æ¯\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;ç‚¹å‡»é“¾æ¥å¹¶æŒ‰è¦æ±‚å¡«å†™ä¿¡æ¯\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444480810500097\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œæ³•å®˜â€ç§°ä½ æ¶‰å«ŒçŠ¯ç½ªï¼Œè¦ä½ å°†é’±è½¬å…¥å®‰å…¨è´¦æˆ·ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;å…ˆæ ¸å®å¯¹æ–¹èº«ä»½\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;ç«‹åˆ»è½¬é’±\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444481439645698\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œé«˜è–ªåˆ·å•ï¼Œä¸€å¤©è½»æ¾èµš300-400ï¼Œè”ç³»åŠ QQï¼š325xxxâ€æ”¶åˆ°ç±»ä¼¼çŸ­ä¿¡ï¼Œä½ ä¼š\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;ä¸ç†ä¼š\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;åŠ å¯¹æ–¹QQï¼Œè·å¾—å…¼èŒæœºä¼š\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444482240757762\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œç†è´¢ç»ç†äººâ€å»ºè®®ä½ çˆ¶æ¯æŠµæŠ¼æˆ¿äº§ï¼Œä»¥æˆ¿å…»è€ï¼Œä½ åº”è¯¥æ€ä¹ˆåš\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;å…ˆè€ƒå¯Ÿå…¬å¸èµ„è´¨\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;æŠµæŠ¼æˆ¿äº§\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;A\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444483029286914\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œä½ ç¡®è®¤æ”¶è´§ä»¥åæˆ‘æ‰ä¼šå‘è´§å™¢ã€‚â€é‡åˆ°è¿™ç§å–æ–¹æ€ä¹ˆåšæ‰æ˜¯æ­£ç¡®çš„ï¼Ÿ\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;èµ¶å¿«ç¡®è®¤\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;åšæŒæ”¶è´§åç¡®è®¤\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444483708764162\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œæ‚¨å¥½ï¼Œå®¢æœæ“ä½œç»™æ‚¨è®¾ç½®äº†é“‚é‡‘ä¼šå‘˜ï¼Œ24ç‚¹å‰ä¸å–æ¶ˆæ¯æœˆé“¶è¡Œè‡ªåŠ¨æ‰£æ¬¾500å…ƒã€‚æ‚¨è´­ä¹°å¤©çŒ«è¶…å¸‚äº«æ·˜å¡å¯ä»¥é¿å…é“¶è¡Œæ‰£è´¹ã€‚â€æ­¤æ—¶æ­£ç¡®åšæ³•æ˜¯\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;èµ¶ç´§è´­ä¹°ï¼Œå¹¶æä¾›ç»™å®¢æœå¡å·å’Œå¡å¯†\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;è”ç³»å®˜æ–¹å®¢æœæ±‚è¯\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444484648288258\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œæ‚¨å¥½ï¼Œæ‚¨è´­ä¹°çš„XXæœè£…å› é“…æ±è¶…æ ‡ä¼šè‡´ç™Œï¼Œæˆ‘ä»¬æ­£åœ¨æ”¶å›å•†å“å¹¶ç»™æ‚¨åŒå€èµ”å¿å“¦~äº²ã€‚â€æ¥åˆ°ç±»ä¼¼ç”µè¯ï¼Œä½ ä¼šï¼Ÿï¼ˆå¤©æ´¥å…¬å®‰æä¾›ï¼‰\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;èµ¶ç´§è¦èµ”å¿ï¼ŒæŒ‰ç…§å¯¹æ–¹æŒ‡ç¤ºæ“ä½œ\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;è”ç³»å®˜æ–¹å®¢æœæˆ–å–å®¶è¿›è¡Œæ ¸å®ç¡®è®¤\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1435444485449400321\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;â€œæ‚¨å¥½ï¼Œæ‚¨åœ¨æˆ‘åº—è´­ä¹°çš„æ¸¯é£å¤§ç ä¸Šè¡£ç°å·²é™ä»·ã€‚è¯·ç‚¹å‡»ä»¥ä¸‹é“¾æ¥é¢†å–å·®ä»·é€€æ¬¾ã€‚â€\\r\\n æ¥åˆ°ç±»ä¼¼çŸ­ä¿¡ï¼Œä½ ä¼š\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;ç‚¹å‡»é“¾æ¥å¡«å†™ä¿¡æ¯ \u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;è”ç³»å®˜æ–¹å®¢æœæ ¸å®å¯¹æ–¹èº«ä»½\u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; } ], \u0026#34;total\u0026#34;: \u0026#34;125\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;13\u0026#34; } } æŸ¥è¯¢é¢˜ç›®è¯¦æƒ… url: /admin/question/{id}\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1435444478465884162\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;é»˜è®¤é¢˜åº“\u0026#34;, \u0026#34;type\u0026#34;: 1, \u0026#34;content\u0026#34;: \u0026#34;ï¼ˆæ™ºèƒ½è¯­éŸ³ï¼‰â€œæ‚¨å¥½ï¼Œæˆ‘æ˜¯XXé‡‘èå®¢æœï¼Œè¯·é—®æ‚¨æ˜¯å¦éœ€è¦èµ„é‡‘å‘¨è½¬ï¼Ÿæ‚¨ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ï¼Œä½ ä¼šï¼Ÿï¼ˆæ–°ç–†å…¬å®‰æä¾›ï¼‰\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;A\u0026#34;: \u0026#34;è®¤çœŸå¬ï¼Œä¸»åŠ¨æ·»åŠ è¯¥æ‰‹æœºå·çš„å¾®ä¿¡\u0026#34;, \u0026#34;B\u0026#34;: \u0026#34;æŒ‚æ–­ç”µè¯ï¼Œç›´æ¥ä¸¾æŠ¥æ”¹å·ç \u0026#34; }, \u0026#34;level\u0026#34;: 1, \u0026#34;answers\u0026#34;: [ \u0026#34;B\u0026#34; ], \u0026#34;creator\u0026#34;: null } } æ‰¹é‡æ–°å¢é¢˜ç›®ï¼ˆæœªå®ç°ï¼‰ æ–°å¢é¢˜ç›®æ•°æ® url: /admin/question\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ type å¿…å¡«ï¼Œé¢˜ç›®ç±»å‹ï¼Œ1-å•é€‰ï¼Œ2-å¤šé€‰ï¼Œ3-åˆ¤æ–­ 1 categoryId å¿…å¡«ï¼Œé¢˜ç›®åˆ†ç±»id 1461545162319601666 content å¿…å¡«ï¼Œé¢˜ç›®å†…å®¹,å­—æ•°(1, 255) é€‰B options å¿…å¡«ï¼Œé€‰é¡¹ä¿¡æ¯ {\u0026ldquo;A\u0026rdquo;:\u0026ldquo;123\u0026rdquo;, \u0026ldquo;B\u0026rdquo;:\u0026ldquo;456\u0026rdquo;} answers å¿…å¡«ï¼Œç­”æ¡ˆæ•°ç»„ [\u0026ldquo;A\u0026rdquo;] level å¿…å¡«ï¼Œéš¾åº¦(1-10) 1 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } æ›´æ–°é¢˜ç›®æ•°æ® url: /admin/question\nmethod: Put\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œé¢˜ç›®ç¼–å· 1461545228578779138 type å¿…å¡«ï¼Œé¢˜ç›®ç±»å‹ï¼Œ1-å•é€‰ï¼Œ2-å¤šé€‰ï¼Œ3-åˆ¤æ–­ 1 categoryId å¿…å¡«ï¼Œé¢˜ç›®åˆ†ç±»id 1461545162319601666 content å¿…å¡«ï¼Œé¢˜ç›®å†…å®¹,å­—æ•°(1, 255) é€‰B options å¿…å¡«ï¼Œé€‰é¡¹ä¿¡æ¯ {\u0026ldquo;A\u0026rdquo;:\u0026ldquo;123\u0026rdquo;, \u0026ldquo;B\u0026rdquo;:\u0026ldquo;456\u0026rdquo;} answers å¿…å¡«ï¼Œç­”æ¡ˆæ•°ç»„ [\u0026ldquo;A\u0026rdquo;] level å¿…å¡«ï¼Œéš¾åº¦(1-10) 1 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤é¢˜ç›®æ•°æ® url: /admin/questions\nmethod: Delete\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ ids å¿…å¡«éç©ºï¼Œå¾…åˆ é™¤é¢˜åº“åˆ†ç±»idæ•°ç»„ [1461545365652828161, 1461546703618969601] response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ç»„å·æ¨¡å— è·å–è¦åšè¯•å·çš„å­¦ç”Ÿid url: /admin/exam/users/{examId}\nmethod:Get\nrequest body: ç©º\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ \u0026#34;1411968879850217474\u0026#34; ] } åˆ†é…éœ€è¦åšè¯•å·çš„å­¦ç”Ÿ url:/admin/exam/students\nmethod: Post\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ examId å¿…å¡«ï¼Œè¯•å·ç¼–å· 1463340467169689601 studentIds å¿…å¡«ï¼Œå­¦ç”Ÿç¼–å· [\u0026ldquo;1411968879850217474\u0026rdquo;] æŸ¥è¯¢æµ‹è¯•å·åˆ†é¡µæ•°æ® url: /admin/exams\nmethod: Get\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ tiltile éå¿…å¡«ï¼Œé¢˜ç›®æ ‡é¢˜æ¨¡ç³ŠåŒ¹é… page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1462765532131049474\u0026#34;, \u0026#34;students\u0026#34;: 5, \u0026#34;title\u0026#34;: \u0026#34;æµ‹è¯•å·\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æµ‹è¯•å·è¯¦æƒ…\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;è¯•å·\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-01 08:30:00\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2021-12-01 09:30:00\u0026#34;, \u0026#34;questions\u0026#34;: null, \u0026#34;totalNum\u0026#34;: 5, \u0026#34;totalScore\u0026#34;: 26, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; } ], \u0026#34;total\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æŸ¥è¯¢æµ‹è¯•å·è¯¦æƒ…ï¼ˆç”¨äºä¿®æ”¹ï¼‰ url: /admin/exam/{id}\nmethod: Get\nrequest body: ç©º\nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1462765532131049474\u0026#34;, \u0026#34;students\u0026#34;: 5, \u0026#34;title\u0026#34;: \u0026#34;æµ‹è¯•å·\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æµ‹è¯•å·è¯¦æƒ…\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;è¯•å·\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-01 08:30:00\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2021-12-01 09:30:00\u0026#34;, \u0026#34;questions\u0026#34;: { \u0026#34;1435444478465884162\u0026#34;: 5, \u0026#34;1435444480810500097\u0026#34;: 5, \u0026#34;1435444479216664578\u0026#34;: 5, \u0026#34;1435444480009388034\u0026#34;: 5, \u0026#34;1435444481439645698\u0026#34;: 6 }, \u0026#34;totalNum\u0026#34;: 5, \u0026#34;totalScore\u0026#34;: 26, \u0026#34;creator\u0026#34;: null } } ç»Ÿè®¡ç”¨æˆ·çš„ç­”é¢˜æƒ…å†µ url: /admin/exam/statistics/{examId}\nmethod: Get\nrequest parm: ç©º\nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;é€šç”¨æµ‹è¯•\u0026#34;, \u0026#34;correctQuestion\u0026#34;: 6, \u0026#34;avgScore\u0026#34;: 15.0000, \u0026#34;present\u0026#34;: 2, \u0026#34;absent\u0026#34;: 0, \u0026#34;totalScore\u0026#34;: 20, \u0026#34;totalQuestion\u0026#34;: 4, \u0026#34;total\u0026#34;: 2 } } æŸ¥è¯¢ç”¨æˆ·çš„ç­”é¢˜æƒ…å†µ url: /admin/exam/detail/{examId}\nmethod: Get\nrequest param:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;uid\u0026#34;: \u0026#34;1435625608666173441\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;RH......\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIxXJTVJvRmxBpMpXFQDzJdQzJIpj3NEr2xBqgbic4hlkOdjjcheR0TXGicrdEQWaCodYQkVfpzZosg/132\u0026#34;, \u0026#34;completed\u0026#34;: true, \u0026#34;score\u0026#34;: 10, \u0026#34;correctNum\u0026#34;: 2, \u0026#34;totalScore\u0026#34;: 20, \u0026#34;totalNum\u0026#34;: 4 }, { \u0026#34;uid\u0026#34;: \u0026#34;1412572056239054850\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ—ç‘æ˜Ÿ(Rex)\u0026#34;, \u0026#34;avatarUrl\u0026#34;: \u0026#34;https://thirdwx.qlogo.cn/mmopen/vi_32/LDUQrb7oLTQ4JiccNicdPhHQ0jTjs4ic0mVpUb8uP9ic4jS1ydEzeYuQDu9ZsJHLYDpMT6atMktQFEBSE1dBfIVlMw/132\u0026#34;, \u0026#34;completed\u0026#34;: true, \u0026#34;score\u0026#34;: 20, \u0026#34;correctNum\u0026#34;: 4, \u0026#34;totalScore\u0026#34;: 20, \u0026#34;totalNum\u0026#34;: 4 } ], \u0026#34;total\u0026#34;: \u0026#34;2\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;10\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æ–°å¢æµ‹è¯•å· url: /admin/exam\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ students å¿…å¡«ï¼Œå­¦ç”Ÿidæ•°ç»„ [1410913476450226178] title å¿…å¡«ï¼Œæµ‹è¯•å·æ ‡é¢˜ æµ‹è¯•å· desc å¿…å¡«ï¼Œæµ‹è¯•å·æè¿° æµ‹è¯•å·è¯¦æƒ… type å¿…å¡«ï¼Œæµ‹è¯•ç±»å‹ 1-è¯•å·(åªæœ‰ä¸€æ¬¡ç­”é¢˜æœºä¼šå¹¶ä¸”è®°å½•åˆ†æ•°), 2-ç»ƒä¹ (æœ‰æ— æ•°æ¬¡ç­”é¢˜æœºä¼šï¼Œä½†ä¸è®°å½•åˆ†æ•°) 1 startTime å¿…å¡«ï¼Œå¼€å§‹æ—¶é—´ï¼Œæ—¶é—´æˆ³ 1638318600000 endTime å¿…å¡«ï¼Œç»“æŸæ—¶é—´ï¼Œæ—¶é—´æˆ³ 1638322200000 questions å¿…å¡«ï¼Œé¢˜ç›®ä¿¡æ¯ï¼Œkey-é¢˜ç›®idï¼Œvalue-é¢˜ç›®åˆ†æ•° {\u0026ldquo;1435444478465884162\u0026rdquo;: 5,\u0026ldquo;1435444479216664578\u0026rdquo;: 5,\u0026ldquo;1435444480009388034\u0026rdquo;: 5,\u0026ldquo;1435444480810500097\u0026rdquo;: 5,\u0026ldquo;1435444481439645698\u0026rdquo;: 6} response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ä¿®æ”¹æµ‹è¯•å· url: /admin/exam\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œæµ‹è¯•å·id 1462796362854526978 title å¿…å¡«ï¼Œæµ‹è¯•å·æ ‡é¢˜ æµ‹è¯•å· desc å¿…å¡«ï¼Œæµ‹è¯•å·æè¿° æµ‹è¯•å·è¯¦æƒ… type å¿…å¡«ï¼Œæµ‹è¯•ç±»å‹ 1-è¯•å·(åªæœ‰ä¸€æ¬¡ç­”é¢˜æœºä¼šå¹¶ä¸”è®°å½•åˆ†æ•°), 2-ç»ƒä¹ (æœ‰æ— æ•°æ¬¡ç­”é¢˜æœºä¼šï¼Œä½†ä¸è®°å½•åˆ†æ•°) 1 startTime å¿…å¡«ï¼Œå¼€å§‹æ—¶é—´ï¼Œæ—¶é—´æˆ³ 1638318600000 endTime å¿…å¡«ï¼Œç»“æŸæ—¶é—´ï¼Œæ—¶é—´æˆ³ 1638322200000 questions å¿…å¡«ï¼Œé¢˜ç›®ä¿¡æ¯ï¼Œkey-é¢˜ç›®idï¼Œvalue-é¢˜ç›®åˆ†æ•° {\u0026ldquo;1435444478465884162\u0026rdquo;: 5,\u0026ldquo;1435444479216664578\u0026rdquo;: 5,\u0026ldquo;1435444480009388034\u0026rdquo;: 5,\u0026ldquo;1435444480810500097\u0026rdquo;: 5,\u0026ldquo;1435444481439645698\u0026rdquo;: 5} response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤æµ‹è¯•å· url: /admin/exam/{id}\nmethod: Delete\nrequest bodyï¼šç©º\nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } æ´»åŠ¨æ¨¡å— è·å–å‚ä¸æ´»åŠ¨çš„å­¦ç”Ÿid url: /admin/activity/users/{activityId}\nmethod: Get\nrequeset body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ \u0026#34;1412572056239054850\u0026#34; ] } åˆ†é…éœ€è¦å‚ä¸çš„å­¦ç”Ÿ url: /admin/activity/students\nmethod: Post\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ activityId å¿…å¡«ï¼Œæ´»åŠ¨ç¼–å· 1465876559196704770 studentIds å¿…å¡«ï¼Œå­¦ç”Ÿç¼–å· [\u0026ldquo;1412572056239054850\u0026rdquo;, \u0026ldquo;1420166661603852290\u0026rdquo;, \u0026ldquo;1416600216089423874\u0026rdquo;] response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ†é¡µæŸ¥è¯¢æ´»åŠ¨æ•°æ® url: /admin/activities\nmethod:Get\nrequest body\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ page éå¿…å¡«ï¼Œä¸èƒ½å°äº1 1 size éå¿…å¡«ï¼Œå¿…é¡»åœ¨10~50ä¹‹é—´ 20 orderFiled éå¿…å¡«ï¼Œæ’åºå­—æ®µï¼Œé»˜è®¤id id order éå¿…å¡«ï¼Œæ’åºæ–¹å¼ï¼Œå¯é€‰å€¼asc, descï¼Œé»˜è®¤asc asc response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;records\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1474631279756939265\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;åè¯ˆå…¬å¼€è¯¾æ´»åŠ¨\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•è¯¦æƒ…2\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;æµ‹è¯•åœ°å€\u0026#34;, \u0026#34;students\u0026#34;: 2, \u0026#34;signTime\u0026#34;: \u0026#34;2021-12-25 14:45:00\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2022-01-01 00:00:00\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2022-02-01 00:00:00\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1473846570607828993\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;æµ‹è¯•äºŒç»´ç \u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æµ‹è¯•\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;students\u0026#34;: 0, \u0026#34;signTime\u0026#34;: \u0026#34;2021-12-23 10:43:23\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-24 13:42:25\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2021-12-25 14:42:23\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1466978161962057729\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;students\u0026#34;: 6, \u0026#34;signTime\u0026#34;: \u0026#34;2021-12-30 11:49:59\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2022-01-01 16:49:59\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2022-01-02 22:49:59\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;æ•™å¸ˆæµ‹è¯•è´¦å·\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;1465876559196704770\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•è¯¦æƒ…\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;students\u0026#34;: 3, \u0026#34;signTime\u0026#34;: \u0026#34;2021-12-02 08:30:00\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2021-12-02 09:00:00\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2021-12-02 12:00:00\u0026#34;, \u0026#34;creator\u0026#34;: \u0026#34;è¶…çº§ç®¡ç†å‘˜\u0026#34; } ], \u0026#34;total\u0026#34;: \u0026#34;4\u0026#34;, \u0026#34;size\u0026#34;: \u0026#34;5\u0026#34;, \u0026#34;current\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;orders\u0026#34;: [ { \u0026#34;column\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;asc\u0026#34;: true } ], \u0026#34;optimizeCountSql\u0026#34;: true, \u0026#34;hitCount\u0026#34;: false, \u0026#34;countId\u0026#34;: null, \u0026#34;maxLimit\u0026#34;: null, \u0026#34;searchCount\u0026#34;: true, \u0026#34;pages\u0026#34;: \u0026#34;1\u0026#34; } } æŸ¥è¯¢æ´»åŠ¨è¯¦æƒ…ï¼ˆç”¨äºä¿®æ”¹ï¼‰ url: /admin/activity/{id}\nmethod: Get\nrequest body: ç©º\nresponse body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;1474631279756939265\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;åè¯ˆå…¬å¼€è¯¾æ´»åŠ¨\u0026#34;, \u0026#34;desc\u0026#34;: \u0026#34;æ´»åŠ¨æµ‹è¯•è¯¦æƒ…2\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;æµ‹è¯•åœ°å€\u0026#34;, \u0026#34;students\u0026#34;: 2, \u0026#34;signTime\u0026#34;: \u0026#34;2021-12-25 14:45:00\u0026#34;, \u0026#34;startTime\u0026#34;: \u0026#34;2022-01-01 00:00:00\u0026#34;, \u0026#34;endTime\u0026#34;: \u0026#34;2022-02-01 00:00:00\u0026#34;, \u0026#34;creator\u0026#34;: null//ä¸èƒ½ä¿®æ”¹ } } æ–°å¢æ´»åŠ¨ url: /admin/activity\nmethod: Post\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ students å¿…å¡«ï¼Œå­¦ç”Ÿid [1412572056239054850, 1415624376656605185] title å¿…å¡«ï¼Œæ´»åŠ¨æ ‡é¢˜ï¼Œä¸è¶…è¿‡50ä¸ªå­— æ´»åŠ¨æµ‹è¯• address éå¿…å¡«ï¼Œæ´»åŠ¨åœ°å€ï¼Œä¸è¶…è¿‡255ä¸ªå­— æ´»åŠ¨æµ‹è¯•åœ°å€ desc éå¿…å¡«ï¼Œæ´»åŠ¨æè¿°ï¼Œä¸è¶…è¿‡255ä¸ªå­— æ´»åŠ¨æµ‹è¯•è¯¦æƒ… signTime å¿…å¡«ï¼Œç­¾åˆ°æ—¶é—´ 1638405000000 startTime å¿…å¡«ï¼Œæ´»åŠ¨å¼€å§‹æ—¶é—´ 1638406800000 endTime å¿…å¡«ï¼Œæ´»åŠ¨ç»“æŸæ—¶é—´ 1638417600000 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ä¿®æ”¹æ´»åŠ¨ url: /admin/activity\nmethod: Put\nrequest body:\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ id å¿…å¡«ï¼Œæ´»åŠ¨id 1465911854034108417 title å¿…å¡«ï¼Œæ´»åŠ¨æ ‡é¢˜ï¼Œä¸è¶…è¿‡50ä¸ªå­— æ´»åŠ¨æµ‹è¯• address éå¿…å¡«ï¼Œæ´»åŠ¨åœ°å€ï¼Œä¸è¶…è¿‡255ä¸ªå­— æ´»åŠ¨æµ‹è¯•åœ°å€ desc éå¿…å¡«ï¼Œæ´»åŠ¨æè¿°ï¼Œä¸è¶…è¿‡255ä¸ªå­— æ´»åŠ¨æµ‹è¯•è¯¦æƒ… signTime å¿…å¡«ï¼Œç­¾åˆ°æ—¶é—´ 1638405000000 startTime å¿…å¡«ï¼Œæ´»åŠ¨å¼€å§‹æ—¶é—´ 1638406800000 endTime å¿…å¡«ï¼Œæ´»åŠ¨ç»“æŸæ—¶é—´ 1638417600000 response body\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } åˆ é™¤æ´»åŠ¨ url: /admin/activity/{id}\nmethod: Delete\nrequest body:ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: null } ç”Ÿæˆç­¾åˆ°äºŒç»´ç  äºŒç»´ç ä¸­çš„qrcodeæœ‰æ•ˆæœŸä¸º1åˆ†é’Ÿ\nurl: /admin/activity/qrcode/{activityId}\nmethod: Get\nrequest body:\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: \u0026#34;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAIAAAD2HxkiAABKIklEQVR42uzd93NcSX4geP0jG7EXcT9e3N3+crt7cREnnW4Vq7jVakeakcZIPdM9M632js2mB0mQBAgQ3ntTKI/y3nvvvffee18F9OUrsFs9M9097QiSo8zJxoAIoOq9V/l5329mvpfvzz6FBRZYnmv5M3gIYIEFIoQFFogQFlhggQhhgQUihAUWWCBCWGCBCGGBBRaIEBZYIEJYYIEFIoQFFogQ....(æ­¤å¤„çœç•¥å¥½å¤šå¥½å¤šå­—)\u0026#34; } ","permalink":"https://rexhub.space/posts/proj/doc/fraudprevention%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/","summary":"FraudPreventionåå°ç®¡ç†ç³»ç»Ÿå¼€å‘æ–‡æ¡£ baseUrl = \u0026ldquo;http://localhost:8090/fraud-prevention/api\u0026rdquo;\næœåŠ¡å™¨Url=\u0026ldquo;http://1.117.91.88:52016/fraud-prevention/api\u0026rdquo;\né€šç”¨æ¨¡å— è·å–éªŒè¯ç  url: /admin/captcha\nmethod: Get\nrequest body: ç©º\nresponse body\n\u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { token: \u0026#34;xxxxxx\u0026#34;, //éªŒè¯ç token captchaImg: \u0026#34;data:image/jpeg;base64,xxxxxx\u0026#34;, //base64æ ¼å¼çš„éªŒè¯ç å›¾ç‰‡ } } è·å–æ‰€æœ‰æ¨¡å—ä¿¡æ¯ url: /admin/modules\nmethod: Get\nrequest body: ç©º\nresponse body:\n{ \u0026#34;code\u0026#34;: 200, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: 1, \u0026#34;moduleCode\u0026#34;: \u0026#34;USER\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;ç”¨æˆ·ç®¡ç†\u0026#34; }, { \u0026#34;id\u0026#34;: 2, \u0026#34;moduleCode\u0026#34;: \u0026#34;ROLE\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;è§’è‰²ç®¡ç†\u0026#34; }, { \u0026#34;id\u0026#34;: 3, \u0026#34;moduleCode\u0026#34;: \u0026#34;PERM\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;æƒé™ç®¡ç†\u0026#34; }, { \u0026#34;id\u0026#34;: 4, \u0026#34;moduleCode\u0026#34;: \u0026#34;TEACHER\u0026#34;, \u0026#34;moduleName\u0026#34;: \u0026#34;æ•™å¸ˆç®¡ç†\u0026#34; } ] } éœ€æå‰ç™»å½•","title":"FraudPreventionåå°ç®¡ç†ç³»ç»Ÿå¼€å‘æ–‡æ¡£"},{"content":"å¾®ä¿¡æ”¯ä»˜ å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½çš„å®ç°éœ€è¦è°ƒç”¨å¾®ä¿¡å®˜æ–¹çš„æ”¯ä»˜æ¥å£ï¼Œè€Œå¾®ä¿¡æ”¯ä»˜ä¹Ÿæœ‰å¤šç§å½¢å¼ï¼Œå¦‚:JSAPIæ”¯ä»˜ã€APPæ”¯ä»˜ã€Nativeæ”¯ä»˜ã€å°ç¨‹åºæ”¯ä»˜ç­‰ç­‰ï¼Œæ¥å£ä¹Ÿæœ‰V2ã€V3ç‰ˆæœ¬ï¼Œè¿™é‡Œä¸»è¦è¯´æ˜Nativeçš„V3ç‰ˆæœ¬çš„ä½¿ç”¨ã€‚ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½çš„æ¥å£éœ€è¦æœ‰å•†æˆ·å·ã€‚\nåœ¨æ”¯ä»˜çš„åŠŸèƒ½ä¸­ï¼Œå¿…ä¸å¯å°‘çš„æ˜¯å•†å“è®¢å•å’Œæ”¯ä»˜è®¢å•ï¼Œå•†å“è®¢å•æ˜¯æœ¬åœ°åå°ç³»ç»Ÿç”Ÿæˆçš„ï¼Œè€Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ¡ˆä¾‹æ˜¯ç”¨ç½šæ¬¾å•ä¸ºä¾‹å¹¶éå•†å“ã€‚æ”¯ä»˜è®¢å•æ˜¯å¾®ä¿¡æœåŠ¡å™¨ç”Ÿæˆçš„ï¼Œåªéœ€è¦è°ƒç”¨å¾®ä¿¡æ”¯ä»˜API\nå¾®ä¿¡æ”¯ä»˜å®˜æ–¹æ–‡æ¡£\nå¾®ä¿¡æ”¯ä»˜å‰æœŸå‡†å¤‡ å¼€é€šå¾®ä¿¡æ”¯ä»˜åŠŸèƒ½ å¯¹äºå•†å®¶æ¥è¯´ï¼Œæƒ³è¦å¼€é€šå¾®ä¿¡æ”¯ä»˜ï¼Œå¿…é¡»è¦å»å¾®ä¿¡å•†æˆ·å¹³å°æ³¨å†Œï¼ˆhttps://pay.weixin.qq.com/index.php/core/home/login?return_url=%2Fï¼‰ï¼Œç„¶åæŠŠå·¥å•†ç™»è®°è¯æ˜ã€ä¼ä¸šé“¶è¡Œè´¦æˆ·å¼€æˆ·è¯æ˜ã€ç»„ç»‡æœºæ„ä»£ç è¯æäº¤ä¸Šå»ï¼Œç»è¿‡åŠå¤©çš„å®¡æ ¸ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œä½ å°±å¼€é€šäº†å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½ã€‚\nå¦‚æœæƒ³è¦åœ¨ç½‘ç«™æˆ–è€…å°ç¨‹åºä¸Šé¢ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ï¼Œè¿˜è¦åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°ä¸Šé¢å…³è”ä½ è‡ªå·±çš„å¾®ä¿¡å•†æˆ·è´¦å·ã€‚å‰ææ˜¯ä½ çš„å¾®ä¿¡å¼€å‘è€…è´¦å·å¿…é¡»æ˜¯ä¼ä¸šèº«ä»½ï¼Œä¸ªäººèº«ä»½çš„å¼€å‘è€…è´¦å·æ˜¯æ— æ³•è°ƒç”¨å¾®ä¿¡æ”¯ä»˜APIçš„ã€‚\nå¼•å…¥å®˜æ–¹çš„SDKåŒ… è¯´æ˜ä¸‹è¿™é‡Œçš„å¾®ä¿¡å®˜æ–¹sdkä¸»è¦å¯¹ç­¾åæ–¹é¢ã€åŠ å¯†è§£å¯†æ–¹é¢åšäº†è¾ƒå¥½çš„æ”¯æŒï¼Œå…¶ä»–æ–¹é¢è¿˜æ˜¯è¦è‡ªå·±æ„é€ å‚æ•°ã€å‘é€è¯·æ±‚ã€‚\nsdkå®˜æ–¹æ–‡æ¡£\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.github.wechatpay-apiv3\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;wechatpay-apache-httpclient\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.2.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; WechatPay.java\nè¿™ä¸ªæ˜¯æˆ‘å¯¹sdkåšäº†ä¸ªè¿›ä¸€æ­¥çš„å°è£…ï¼Œè¿™é‡Œæ˜¯åˆå§‹åŒ–\npackage com.example.emos.api.common.util; import cn.hutool.json.JSONObject; import cn.hutool.json.JSONUtil; import com.example.emos.api.common.exception.EmosException; import com.fasterxml.jackson.databind.ObjectMapper; import com.fasterxml.jackson.databind.node.ObjectNode; import com.wechat.pay.contrib.apache.httpclient.WechatPayHttpClientBuilder; import com.wechat.pay.contrib.apache.httpclient.auth.AutoUpdateCertificatesVerifier; import com.wechat.pay.contrib.apache.httpclient.auth.PrivateKeySigner; import com.wechat.pay.contrib.apache.httpclient.auth.WechatPay2Credentials; import com.wechat.pay.contrib.apache.httpclient.auth.WechatPay2Validator; import com.wechat.pay.contrib.apache.httpclient.util.AesUtil; import com.wechat.pay.contrib.apache.httpclient.util.PemUtil; import lombok.extern.slf4j.Slf4j; import org.apache.http.HttpEntity; import org.apache.http.StatusLine; import org.apache.http.client.methods.CloseableHttpResponse; import org.apache.http.client.methods.HttpGet; import org.apache.http.client.methods.HttpPost; import org.apache.http.client.utils.URIBuilder; import org.apache.http.entity.StringEntity; import org.apache.http.impl.client.CloseableHttpClient; import org.apache.http.util.EntityUtils; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; import java.io.*; import java.net.URISyntaxException; import java.nio.charset.StandardCharsets; import java.security.*; /** * Description: å¾®ä¿¡æ”¯ä»˜å·¥å…·ç±» * * @author Rex * @date 2021-10-18 12:54 */ @Component @Slf4j public class WechatPay { /** * å¾®ä¿¡æ”¯ä»˜APPID */ @Value(\u0026#34;${wx.pay.app-id}\u0026#34;) public String appId; /** * å¾®ä¿¡å•†æˆ·id */ @Value(\u0026#34;${wx.pay.mch-id}\u0026#34;) public String mchId; /** * åºåˆ—å· */ @Value(\u0026#34;${wx.pay.serial-no}\u0026#34;) public String serialNo; /** * æ•°å­—å¯†é’¥åœ°å€ */ @Value(\u0026#34;${wx.pay.private_key_path}\u0026#34;) private String privateKeyPath; /** * ç§é’¥ */ @Value(\u0026#34;${wx.pay.api_v3_key}\u0026#34;) private String apiV3Key; @Value(\u0026#34;${wx.pay.notify_url}\u0026#34;) private String notifyUrl; private CloseableHttpClient getClient(){ WechatPayHttpClientBuilder builder; try { //ç”Ÿæˆç­¾å PrivateKey privateKey = PemUtil.loadPrivateKey(new FileInputStream(privateKeyPath)); AutoUpdateCertificatesVerifier verifier = new AutoUpdateCertificatesVerifier( new WechatPay2Credentials(mchId, new PrivateKeySigner(serialNo, privateKey)), apiV3Key.getBytes(StandardCharsets.UTF_8)); builder = WechatPayHttpClientBuilder.create() .withMerchant(mchId, serialNo, privateKey) .withValidator(new WechatPay2Validator(verifier)); } catch (FileNotFoundException e) { throw new EmosException(\u0026#34;æ•°å­—ç­¾åè·¯å¾„æœ‰è¯¯ï¼š\u0026#34; + e.getMessage()); } return builder.build(); } ...... } application.ymlæ–‡ä»¶ä¸­é…ç½®å‚æ•° æå‰åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å¥½å¿…è¦çš„å‚æ•°\n# æˆ‘çš„ app-id: wx66f359799ea4bb7d app-secret: a8a27ab43054b6d7b2b28fbd0cc14137 # è€å¸ˆçš„ä¼ä¸šè´¦æˆ· pay: app-id: \u0026#34;xxxxxxxxxxxxx\u0026#34; # appId mch-id: \u0026#34;xxxxxxxx\u0026#34; # å•†æˆ·id serial-no: \u0026#34;xxxxxxxxxxxxxxxxxxxxxxxx\u0026#34; # è¯·æ±‚éšæœºä¸² notify_url: \u0026#34;https://å…¬ç½‘åœ°å€(å¯ç”¨å†…ç½‘ç©¿é€çš„åœ°å€)/emos-api/amect/receiveMessage\u0026#34; private_key_path: \u0026#34;src/main/resources/apiclient_key.pem\u0026#34; # æ•°å­—è¯ä¹¦çš„åœ°å€ api_v3_key: \u0026#34;xxxxxxxxxxxxxxxxxxxxx\u0026#34; # apiV3key ä½¿ç”¨å†…ç½‘ç©¿é€æŠ€æœ¯ å› ä¸ºæˆ‘ä»¬åœ¨æ”¯ä»˜è®¢å•ç»“æŸä¹‹åéœ€è¦è®©å¾®ä¿¡ç³»ç»Ÿå‘Šè¯‰æˆ‘ä»¬åå°ç³»ç»Ÿæ”¯ä»˜ç»“æœï¼Œé‚£è¦æ€ä¹ˆå‘Šè¯‰å¾®ä¿¡å‘¢ï¼Œè®©ä»–è®¿é—®localhostå—ï¼Ÿè‚¯å®šè®¿é—®ä¸åˆ°ï¼Œè®¿é—®æˆ‘ä»¬ä¸»æœºçš„ipå—ï¼Ÿå¯æ˜¯æˆ‘ä»¬æœ¬åœ°ç”µè„‘çš„IPæ²¡æœ‰å›ºå®šçš„å…¬ç½‘ipï¼Œå±€åŸŸç½‘ä¸‹çš„ipè™½ç„¶æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å¾®ä¿¡ç³»ç»Ÿä¹Ÿè®¿é—®ä¸åˆ°ï¼Œä»–ä»¬åˆä¸åœ¨æˆ‘ä»¬çš„å±€åŸŸç½‘ä¸‹ï¼Œå¹¿åŸŸç½‘çš„ipè™½ç„¶æ˜¯è®¿é—®çš„åˆ°ï¼Œä½†æ˜¯ä¸æ˜¯å›ºå®šçš„ã€‚æˆ‘ä»¬å¯ä»¥æŠŠç³»ç»Ÿéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šï¼Œè®©å¾®ä¿¡ç³»ç»Ÿè®¿é—®æˆ‘ä»¬äº‘æœåŠ¡ä¸Šçš„åå°ç³»ç»Ÿï¼Œä¸è¿‡åœ¨æµ‹è¯•é˜¶æ®µï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨è‡ªå·±çš„æœ¬åœ°ä¸Šçš„ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å†…ç½‘ç©¿é€çš„æŠ€æœ¯ï¼Œå°†è‡ªå·±ç³»ç»Ÿçš„ç«¯å£å·æ˜ å°„åˆ°å¤–ç½‘ï¼Œè¿™æ ·å¾®ä¿¡ç³»ç»Ÿå°±å¯ä»¥è®¿é—®çš„åˆ°äº†ã€‚\nç›®å‰å¸¸è§çš„å†…ç½‘ç©¿é€æŠ€æœ¯\nèŠ±ç”Ÿå£³ Natapp é‡å­äº’è” ngrok(ä¸ªäººæœ€å¸¸ç”¨)ï¼šå…è´¹ Frpï¼šç”¨è‡ªå·±çš„å…¬ç½‘æœåŠ¡åšä»£ç†ï¼Œå…è´¹ï¼Œä½†æ˜¯éœ€è¦ä¸€å°äº‘æœåŠ¡å™¨ åˆ›å»ºæ”¯ä»˜è®¢å• è¿™é‡Œéœ€è¦ç€é‡è¯´æ˜åˆ›å»ºæ”¯ä»˜è®¢å•çš„æ—¶å€™éœ€è¦ä¸€ä¸ªå”¯ä¸€IDï¼Œå¯ä»¥ç”¨UUIDç”Ÿæˆï¼Œè‹¥idé‡å¤äº†ï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¼šæç¤ºå•†å“IDå·²ç»ç”¨è¿‡ä¸€æ¬¡äº†\nURLï¼šhttps://api.mch.weixin.qq.com/v3/pay/transactions/native\nè¯·æ±‚å‚æ•°ï¼ˆå¿…è¦ï¼‰ï¼š\nå‚æ•° å«ä¹‰ ç±»å‹ ä¾‹å­ appid å…¬ä¼—å·ID String wxd678efh567hg6787 mch_id å•†æˆ·å·ID String 1230000109 description å•†å“æè¿° string Imageå½¢è±¡åº—-æ·±åœ³è…¾å¤§-QQå…¬ä»” out_trade_no å•†å“è®¢å•å· String 20150806125346 notify_url é€šçŸ¥åœ°å€ String https://www.weixin.qq.com/wxpay/pay.php amount è®¢å•é‡‘é¢ Object {total: 100(å•ä½åˆ†), currency: \u0026ldquo;CNY\u0026rdquo;} å“åº”ï¼š\nå‚æ•° å«ä¹‰ ç±»å‹ ä¾‹å­ code_url äºŒç»´ç é“¾æ¥ String weixin://wxpay/bizpayurl/up?pr=NwY5Mz9\u0026amp;groupid=00 ä»¥ä¸‹æ˜¯WechatPay.javaä¸­åˆ›å»ºæ”¯ä»˜çš„ç¤ºä¾‹ä»£ç \n/** * ç”Ÿæˆè®¢å• * @param outTradeNo è®¢å•ç¼–å·ï¼Œç›¸å½“äºamectä¸­çš„uuid * @param amount é‡‘é¢ * @return æ”¯ä»˜äºŒç»´ç  */ public String generateOrder(String outTradeNo, Integer amount){ ByteArrayOutputStream bos = null; try { //è·å–HTTPå®¢æˆ·ç«¯ CloseableHttpClient client = getClient(); //æ„é€ è¯·æ±‚ /** * ä¸‹å•URL */ String generateOrder = \u0026#34;https://api.mch.weixin.qq.com/v3/pay/transactions/native\u0026#34;; URIBuilder uriBuilder = new URIBuilder(generateOrder); HttpPost httpPost = new HttpPost(uriBuilder.build()); httpPost.addHeader(\u0026#34;Content-type\u0026#34;,\u0026#34;application/json; charset=utf-8\u0026#34;); httpPost.addHeader(\u0026#34;Accept\u0026#34;, \u0026#34;application/json\u0026#34;); bos = new ByteArrayOutputStream(); ObjectMapper objectMapper = new ObjectMapper(); ObjectNode rootNode = objectMapper.createObjectNode(); rootNode.put(\u0026#34;appid\u0026#34;, appId); rootNode.put(\u0026#34;mchid\u0026#34;, mchId); rootNode.put(\u0026#34;description\u0026#34;, \u0026#34;...å‘èµ·çš„æµ‹è¯•\u0026#34;); rootNode.put(\u0026#34;notify_url\u0026#34;, notifyUrl); rootNode.put(\u0026#34;out_trade_no\u0026#34;, outTradeNo); rootNode.putObject(\u0026#34;amount\u0026#34;) .put(\u0026#34;total\u0026#34;, amount); rootNode.putObject(\u0026#34;scene_info\u0026#34;) .put(\u0026#34;payer_client_ip\u0026#34;, \u0026#34;localhost\u0026#34;); objectMapper.writeValue(bos, rootNode); httpPost.setEntity(new StringEntity(bos.toString(\u0026#34;UTF-8\u0026#34;), StandardCharsets.UTF_8)); //æ‰§è¡Œå¹¶è·å–æ”¾å›ç»“æœ CloseableHttpResponse response = client.execute(httpPost); JSONObject res = JSONUtil.parseObj(EntityUtils.toString(response.getEntity())); String codeUrl = (String) res.get(\u0026#34;code_url\u0026#34;); if (codeUrl == null){ throw new EmosException(\u0026#34;æ”¯ä»˜å¤±è´¥ï¼š\u0026#34; + res.get(\u0026#34;message\u0026#34;).toString()); } return codeUrl; } catch (Exception e) { log.error(\u0026#34;æ”¯ä»˜å¤±è´¥\u0026#34;, e); throw new EmosException(\u0026#34;æ”¯ä»˜å¤±è´¥: \u0026#34;+e.getMessage()); } finally { if (bos != null){ try { bos.close(); } catch (IOException e) { throw new EmosException(\u0026#34;å…³é—­æµå¤±è´¥: \u0026#34; + e.getMessage()); } } } } æ‰§è¡Œä»˜æ¬¾ æ‰§è¡Œä»˜æ¬¾çš„æ—¶å€™éœ€è¦ç”¨æˆ·å‘å¾®ä¿¡å¹³å°ï¼ˆæ³¨æ„æ˜¯å¾®ä¿¡å¹³å°è€Œä¸æ˜¯è‡ªå·±çš„ç³»ç»Ÿï¼‰å‘èµ·æŸ¥è¯¢æ”¯ä»˜è®¢å•çš„è¯·æ±‚ï¼Œæ ¸å®è®¢å•ä¿¡æ¯ï¼Œç¡®å®šåå†æ‰§è¡Œæ‰£æ¬¾ã€‚å› æ­¤è¿™ä¸ªæ­¥éª¤å°±äº¤ç»™å¾®ä¿¡å¹³å°äº†ã€‚\nç¡®è®¤ä»˜æ¬¾ç»“æœ æˆåŠŸæ”¯ä»˜åï¼Œéœ€è¦å›é¦ˆå•†å®¶æ”¯ä»˜ç»“æœï¼Œå¯ä»¥ç›´æ¥é€šè¿‡å¾®ä¿¡ç³»ç»Ÿçš„å›è°ƒå‡½æ•°å‘Šè¯‰å•†å®¶ç³»ç»Ÿï¼Œä½†æ˜¯ä¸‡ä¸€å‡ºç°ç½‘ç»œé—®é¢˜å•†å®¶ç³»ç»Ÿæ²¡æ”¶åˆ°å›è°ƒå‘¢ï¼Œå¯ä»¥è®©å•†å®¶ä¸»åŠ¨æŸ¥è¯¢ä»˜æ¬¾ç»“æœï¼Œæ¯”å¦‚è¿™é‡Œå°±å¯ä»¥ç‚¹å‡»æ”¯ä»˜æˆåŠŸæŒ‰é’®ï¼Œå‰ç«¯é¡µé¢å°±ä¼šå‘å•†æˆ·ç³»ç»Ÿå‘èµ·Ajaxè¯·æ±‚ï¼Œå•†æˆ·ç³»ç»Ÿä¼šä¸»åŠ¨å‘å¾®ä¿¡æœåŠ¡å™¨å‘èµ·æŸ¥è¯¢è¯·æ±‚ï¼Œæ ¸å¯¹æ˜¯å¦æ”¯ä»˜æˆåŠŸï¼Œè‹¥æ”¯ä»˜æˆåŠŸå°±ä¿®æ”¹å•†å“è®¢å•çš„çŠ¶æ€ä¸ºå·²ä»˜æ¬¾ã€‚\næ¨é€ä»˜æ¬¾ç»“æœç»™å‰ç«¯é¡µé¢ ä¸ä»…ä»…å•†æˆ·ç³»ç»Ÿéœ€è¦ç¡®å®šæ”¯ä»˜çŠ¶æ€ï¼Œç”¨æˆ·ä¹Ÿéœ€è¦çŸ¥é“ï¼Œæ‰€ä»¥å‰ç«¯ä¹Ÿéœ€è¦å‘è©ç”¨æˆ·è®¢å•æ”¯ä»˜ç»“æœã€‚é‚£å’‹çŸ¥é“å‘¢ï¼Ÿ\nä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡è½®è¯¢ï¼Œå‰ç«¯å¼¹å‡ºæ”¯ä»˜äºŒç»´ç ä»¥åï¼Œåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ¯éš”å‡ ç§’å‘å•†æˆ·ç³»ç»Ÿå‘å‡ºè¯·æ±‚ï¼ŒæŸ¥è¯¢å•†å“è®¢å•æ˜¯å¦å·²ä»˜æ¬¾ã€‚è¿™ä¸ªæ“ä½œè™½ç„¶ç®€å•ï¼Œä½†æ˜¯å¢å¤§äº†ç½‘ç»œå¼€é”€ï¼Œæ¯æ¬¡çš„httpéƒ½éœ€è¦åˆ›å»ºè¿æ¥å’Œåè®®æ¡æ‰‹\nå¦ä¸€ç§æ–¹å¼å°±æ˜¯é€šè¿‡WebSocketè®©å‰ç«¯å’Œåç«¯å»ºç«‹é•¿è¿æ¥ã€‚ä¼ ç»Ÿçš„HTTPåè®®æ˜¯çŸ­é“¾æ¥ï¼Œè¯·æ±‚ç»“æŸä¹‹åï¼ŒHTTPè¿æ¥å°±æ–­å¼€äº†ã€‚è€ŒWebSocketçš„é•¿è¿æ¥å¯ä»¥è®©å‰ç«¯åç«¯ä½¿ç”¨æŸä¸ªè¿æ¥åå¤å‘é€å’Œæ¥å—æ•°æ®ï¼Œå¾ˆå¸¸è§çš„ä¹Ÿå¾ˆåŸºç¡€çš„åº”ç”¨å°±æ˜¯å¯ä»¥é€šè¿‡é•¿è¿æ¥åˆ›å»ºä¸€ä¸ªèŠå¤©å®¤ã€‚WebSocketçœå»äº†åå¤è¿æ¥å’Œåè®®æ¡æ‰‹çš„æ—¶é—´ã€‚è‹¥æ‹…å¿ƒé•¿æ—¶é—´å»ºç«‹é•¿è¿æ¥è€—è´¹èµ„æºï¼Œå¯ä»¥ç»™WebSocketè¿æ¥è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ã€‚\næœåŠ¡å™¨æŠŠæ¯ä¸ªWebSocketè¿æ¥éƒ½ç¼“å­˜èµ·æ¥ï¼Œç„¶åæƒ³è¦æ¨é€æ•°æ®ç»™å‰ç«¯çš„æ—¶å€™ï¼Œå°±ä»ç¼“å­˜ä¸­æ‰¾åˆ°ä¸ä¹‹å¯¹åº”çš„è¿æ¥å³å¯ã€‚\n","permalink":"https://rexhub.space/posts/api/pay/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98%E6%8E%A5%E5%8F%A3/","summary":"å¾®ä¿¡æ”¯ä»˜ å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½çš„å®ç°éœ€è¦è°ƒç”¨å¾®ä¿¡å®˜æ–¹çš„æ”¯ä»˜æ¥å£ï¼Œè€Œå¾®ä¿¡æ”¯ä»˜ä¹Ÿæœ‰å¤šç§å½¢å¼ï¼Œå¦‚:JSAPIæ”¯ä»˜ã€APPæ”¯ä»˜ã€Nativeæ”¯ä»˜ã€å°ç¨‹åºæ”¯ä»˜ç­‰ç­‰ï¼Œæ¥å£ä¹Ÿæœ‰V2ã€V3ç‰ˆæœ¬ï¼Œè¿™é‡Œä¸»è¦è¯´æ˜Nativeçš„V3ç‰ˆæœ¬çš„ä½¿ç”¨ã€‚ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½çš„æ¥å£éœ€è¦æœ‰å•†æˆ·å·ã€‚\nåœ¨æ”¯ä»˜çš„åŠŸèƒ½ä¸­ï¼Œå¿…ä¸å¯å°‘çš„æ˜¯å•†å“è®¢å•å’Œæ”¯ä»˜è®¢å•ï¼Œå•†å“è®¢å•æ˜¯æœ¬åœ°åå°ç³»ç»Ÿç”Ÿæˆçš„ï¼Œè€Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ¡ˆä¾‹æ˜¯ç”¨ç½šæ¬¾å•ä¸ºä¾‹å¹¶éå•†å“ã€‚æ”¯ä»˜è®¢å•æ˜¯å¾®ä¿¡æœåŠ¡å™¨ç”Ÿæˆçš„ï¼Œåªéœ€è¦è°ƒç”¨å¾®ä¿¡æ”¯ä»˜API\nå¾®ä¿¡æ”¯ä»˜å®˜æ–¹æ–‡æ¡£\nå¾®ä¿¡æ”¯ä»˜å‰æœŸå‡†å¤‡ å¼€é€šå¾®ä¿¡æ”¯ä»˜åŠŸèƒ½ å¯¹äºå•†å®¶æ¥è¯´ï¼Œæƒ³è¦å¼€é€šå¾®ä¿¡æ”¯ä»˜ï¼Œå¿…é¡»è¦å»å¾®ä¿¡å•†æˆ·å¹³å°æ³¨å†Œï¼ˆhttps://pay.weixin.qq.com/index.php/core/home/login?return_url=%2Fï¼‰ï¼Œç„¶åæŠŠå·¥å•†ç™»è®°è¯æ˜ã€ä¼ä¸šé“¶è¡Œè´¦æˆ·å¼€æˆ·è¯æ˜ã€ç»„ç»‡æœºæ„ä»£ç è¯æäº¤ä¸Šå»ï¼Œç»è¿‡åŠå¤©çš„å®¡æ ¸ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œä½ å°±å¼€é€šäº†å¾®ä¿¡æ”¯ä»˜åŠŸèƒ½ã€‚\nå¦‚æœæƒ³è¦åœ¨ç½‘ç«™æˆ–è€…å°ç¨‹åºä¸Šé¢ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ï¼Œè¿˜è¦åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°ä¸Šé¢å…³è”ä½ è‡ªå·±çš„å¾®ä¿¡å•†æˆ·è´¦å·ã€‚å‰ææ˜¯ä½ çš„å¾®ä¿¡å¼€å‘è€…è´¦å·å¿…é¡»æ˜¯ä¼ä¸šèº«ä»½ï¼Œä¸ªäººèº«ä»½çš„å¼€å‘è€…è´¦å·æ˜¯æ— æ³•è°ƒç”¨å¾®ä¿¡æ”¯ä»˜APIçš„ã€‚\nå¼•å…¥å®˜æ–¹çš„SDKåŒ… è¯´æ˜ä¸‹è¿™é‡Œçš„å¾®ä¿¡å®˜æ–¹sdkä¸»è¦å¯¹ç­¾åæ–¹é¢ã€åŠ å¯†è§£å¯†æ–¹é¢åšäº†è¾ƒå¥½çš„æ”¯æŒï¼Œå…¶ä»–æ–¹é¢è¿˜æ˜¯è¦è‡ªå·±æ„é€ å‚æ•°ã€å‘é€è¯·æ±‚ã€‚\nsdkå®˜æ–¹æ–‡æ¡£\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.github.wechatpay-apiv3\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;wechatpay-apache-httpclient\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.2.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; WechatPay.java\nè¿™ä¸ªæ˜¯æˆ‘å¯¹sdkåšäº†ä¸ªè¿›ä¸€æ­¥çš„å°è£…ï¼Œè¿™é‡Œæ˜¯åˆå§‹åŒ–\npackage com.example.emos.api.common.util; import cn.hutool.json.JSONObject; import cn.hutool.json.JSONUtil; import com.example.emos.api.common.exception.EmosException; import com.fasterxml.jackson.databind.ObjectMapper; import com.fasterxml.jackson.databind.node.ObjectNode; import com.wechat.pay.contrib.apache.httpclient.WechatPayHttpClientBuilder; import com.wechat.pay.contrib.apache.httpclient.auth.AutoUpdateCertificatesVerifier; import com.wechat.pay.contrib.apache.httpclient.auth.PrivateKeySigner; import com.wechat.pay.contrib.apache.httpclient.auth.WechatPay2Credentials; import com.wechat.pay.contrib.apache.httpclient.auth.WechatPay2Validator; import com.wechat.pay.contrib.apache.httpclient.util.AesUtil; import com.wechat.pay.contrib.apache.httpclient.util.PemUtil; import lombok.extern.slf4j.Slf4j; import org.apache.http.HttpEntity; import org.apache.http.StatusLine; import org.apache.http.client.methods.CloseableHttpResponse; import org.apache.http.client.methods.HttpGet; import org.apache.http.client.methods.HttpPost; import org.apache.http.client.utils.URIBuilder; import org.apache.http.entity.StringEntity; import org.apache.http.impl.client.CloseableHttpClient; import org.apache.http.util.EntityUtils; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; import java.io.*; import java.","title":"å¾®ä¿¡æ”¯ä»˜æ¥å£"},{"content":"è…¾è®¯è§†é¢‘ä¼šè®®çš„ä½¿ç”¨-TRTCæŠ€æœ¯ æ¦‚è¿°ï¼š TRTCå…¨ç§°(Tencent Real-Time Communication) å³è…¾è®¯å®æ—¶éŸ³è§†é¢‘æœåŠ¡ï¼Œå®šä½æ˜¯è§£å†³å®æ—¶é€šä¿¡çš„äº‘æœåŠ¡ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯é€šè¿‡äº’è”ç½‘ï¼Œæ¥å—ã€å¤„ç†ã€è½¬å‘å’Œä¿å­˜å¤§æµé‡çš„éŸ³è§†é¢‘æµæ•°æ®ï¼Œä¸»è¦ç”¨äºç›´æ’­ã€è§†é¢‘ä¼šè®®åœºæ™¯ã€‚æœ¬æ–‡ç®€ç•¥è¯´æ˜TRTCæŠ€æœ¯çš„ä½¿ç”¨ï¼Œæ¡ˆä¾‹åŸºäºå‰ç«¯-vueï¼Œåç«¯-javaçš„springbootæ¡†æ¶ï¼Œå…·ä½“çš„å†…å®¹å‚è€ƒä¸€ä¸‹æ–‡æ¡£\nåç«¯çš„å‡†å¤‡ é¦–å…ˆå‰ç«¯è°ƒç”¨TRTCæœåŠ¡éœ€è¦åˆ›å»ºTrtcClientå¯¹è±¡æ¥ç®¡ç†ï¼Œåˆ›å»ºTrtcClientéœ€è¦ç”¨åˆ°ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯AppIDï¼Œç”¨æˆ·UserIdï¼Œè¿˜æœ‰ç”¨æˆ·ç­¾å(UserSig)ã€‚è€Œè¿™é‡Œçš„ç”¨æˆ·ç­¾åæ˜¯ç”¨Trtcçš„AppIDå’Œå¯†é’¥ï¼Œä»»æ„å¼€å‘è€…æŸ¥çœ‹HTMLéƒ½èƒ½çœ‹åˆ°è¿™äº›ä¿¡æ¯ï¼Œæ‰€ä»¥ç”Ÿæˆç”¨æˆ·ç­¾åçš„å·¥ä½œä¸èƒ½åœ¨å‰ç«¯å®Œæˆï¼Œæ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯åœ¨åç«¯é¡¹ç›®ç”Ÿæˆç”¨æˆ·ç­¾å\nç”¨æˆ·ç­¾å(UserSig) ï¼ˆUserSigï¼‰æ˜¯è…¾è®¯äº‘è®¾è®¡çš„ä¸€ç§å®‰å…¨ä¿æŠ¤ç­¾åï¼Œä½¿ç”¨HMAC SHA256åŠ å¯†ç®—æ³•è®¡ç®—å¾—å‡ºã€‚\n//UserSig è®¡ç®—å…¬å¼ï¼Œå…¶ä¸­ secretkey ä¸ºè®¡ç®— usersig ç”¨çš„åŠ å¯†å¯†é’¥ usersig = hmacsha256(secretkey, (userid + sdkappid + currtime + expire + base64(userid + sdkappid + currtime + expire))) å…³äºuserSigçš„å„ç§è¯­è¨€ç”Ÿæˆæ–¹æ³•åœ¨è…¾è®¯äº‘çš„å®˜æ–¹æ–‡æ¡£éƒ½æœ‰ä»‹ç»\nè¿™è¾¹æˆ‘ä½¿ç”¨çš„springbootæ¡†æ¶ï¼Œæ‰€ä»¥ç”¨æ˜¯javaç”ŸæˆuserSigçš„æ–¹å¼ï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªTrtcUtil.java\npackage com.example.emos.api.config.tencet; import cn.hutool.core.util.StrUtil; import cn.hutool.json.JSONObject; import org.bson.internal.Base64; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; import javax.crypto.Mac; import javax.crypto.spec.SecretKeySpec; import java.nio.charset.StandardCharsets; import java.security.InvalidKeyException; import java.security.NoSuchAlgorithmException; import java.util.Arrays; import java.util.zip.Deflater; /** * Description: è…¾è®¯TRTCå·¥å…·ç±» * * @author Rex * @date 2021-09-29 10:48 */ import java.io.UnsupportedEncodingException; import java.nio.charset.Charset; @Component public class TRTCUtil { @Value(\u0026#34;${tencent.trtc.appId}\u0026#34;) private int appId; @Value(\u0026#34;${tencent.trtc.expire}\u0026#34;) private int expire; @Value(\u0026#34;${tencent.trtc.secretKey}\u0026#34;) private String secretKey; /** * è®¡ç®—UserSigç­¾å * å‡½æ•°å†…éƒ¨ä½¿ç”¨HMAC-SHA256 éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå¯¹SdkAppIdã€userIDå’ŒExpireTimeè¿›è¡ŒåŠ å¯†ã€‚ * @param userId ç”¨æˆ·id * @return ç”¨æˆ·ç­¾å */ public String genUserSig(String userId) { return GenTLSSignature(appId, userId, expire, null, secretKey); } /** * ç”ŸæˆTLSç¥¨æ® * @param sdkappid åº”ç”¨çš„id * @param userId ç”¨æˆ·id * @param expire æœ‰æ•ˆæœŸï¼Œå•ä½æ˜¯ç§’ * @param userbuf é»˜è®¤å¡«å†™null * @param priKeyContent ç”Ÿæˆtlsç¥¨æ®ä½¿ç”¨çš„ç§é’¥å†…å®¹ * @return å¦‚æœå‡ºé”™ï¼Œä¼šè¿”å›ä¸ºç©ºï¼Œæˆ–è€…æœ‰å¼‚å¸¸æ‰“å°ï¼ŒæˆåŠŸè¿”å›æœ‰æ•ˆçš„ç¥¨æ® */ private String GenTLSSignature(long sdkappid, String userId, long expire, byte[] userbuf, String priKeyContent) { if (StrUtil.isEmpty(priKeyContent)) { return \u0026#34;\u0026#34;; } long currTime = System.currentTimeMillis() / 1000; JSONObject sigDoc = new JSONObject(); sigDoc.set(\u0026#34;TLS.ver\u0026#34;, \u0026#34;2.0\u0026#34;); sigDoc.set(\u0026#34;TLS.identifier\u0026#34;, userId); sigDoc.set(\u0026#34;TLS.sdkappid\u0026#34;, sdkappid); sigDoc.set(\u0026#34;TLS.expire\u0026#34;, expire); sigDoc.set(\u0026#34;TLS.time\u0026#34;, currTime); String base64UserBuf = null; if (null != userbuf) { base64UserBuf = Base64.encode(userbuf); sigDoc.set(\u0026#34;TLS.userbuf\u0026#34;, base64UserBuf); } String sig = hmacsha256(sdkappid, userId, currTime, expire, priKeyContent, base64UserBuf); if (sig.length() == 0) { return \u0026#34;\u0026#34;; } sigDoc.set(\u0026#34;TLS.sig\u0026#34;, sig); Deflater compressor = new Deflater(); compressor.setInput(sigDoc.toString().getBytes(Charset.forName(\u0026#34;UTF-8\u0026#34;))); compressor.finish(); byte[] compressedBytes = new byte[2048]; int compressedBytesLength = compressor.deflate(compressedBytes); compressor.end(); return new String(base64EncodeUrl(Arrays.copyOfRange(compressedBytes, 0, compressedBytesLength))); } /** * ç”¨HmacSHA256ç®—æ³•è¿›è¡ŒåŠ å¯† * @param sdkappid åº”ç”¨id * @param userId ç”¨æˆ·id * @param currTime å½“å‰æ—¶é—´æˆ³ * @param expire æœ‰æ•ˆæœŸï¼Œå•ä½ç§’ * @param priKeyContent å¯†é’¥å†…å®¹ * @param base64Userbuf é»˜è®¤å¡«å†™null * @return åŠ å¯†ç»“æœ */ private static String hmacsha256(long sdkappid, String userId, long currTime, long expire, String priKeyContent, String base64Userbuf) { String contentToBeSigned = \u0026#34;TLS.identifier:\u0026#34; + userId + \u0026#34;\\n\u0026#34; + \u0026#34;TLS.sdkappid:\u0026#34; + sdkappid + \u0026#34;\\n\u0026#34; + \u0026#34;TLS.time:\u0026#34; + currTime + \u0026#34;\\n\u0026#34; + \u0026#34;TLS.expire:\u0026#34; + expire + \u0026#34;\\n\u0026#34;; if (null != base64Userbuf) { contentToBeSigned += \u0026#34;TLS.userbuf:\u0026#34; + base64Userbuf + \u0026#34;\\n\u0026#34;; } try { byte[] byteKey = priKeyContent.getBytes(\u0026#34;UTF-8\u0026#34;); Mac hmac = Mac.getInstance(\u0026#34;HmacSHA256\u0026#34;); SecretKeySpec keySpec = new SecretKeySpec(byteKey, \u0026#34;HmacSHA256\u0026#34;); hmac.init(keySpec); byte[] byteSig = hmac.doFinal(contentToBeSigned.getBytes(\u0026#34;UTF-8\u0026#34;)); return Base64.encode(byteSig); } catch (UnsupportedEncodingException e) { return \u0026#34;\u0026#34;; } catch (NoSuchAlgorithmException e) { return \u0026#34;\u0026#34;; } catch (InvalidKeyException e) { return \u0026#34;\u0026#34;; } } /** * å°†base64å­—ç¬¦ä¸²è½¬æ¢æˆURLæ ¼å¼çš„å­—ç¬¦ä¸² * @param input base64æ•°æ® * @return urlå¯æ¥å—çš„base64æ•°æ® */ private static byte[] base64EncodeUrl(byte[] input) { byte[] base64 = Base64.encode(input).getBytes(); for (int i = 0; i \u0026lt; base64.length; ++i) switch (base64[i]) { case \u0026#39;+\u0026#39;: base64[i] = \u0026#39;*\u0026#39;; break; case \u0026#39;/\u0026#39;: base64[i] = \u0026#39;-\u0026#39;; break; case \u0026#39;=\u0026#39;: base64[i] = \u0026#39;_\u0026#39;; break; default: break; } return base64; } } å°†UserSigè¿”å›ç»™å‰ç«¯ æ¥ä¸‹çš„å·¥ä½œå°±éå¸¸ç®€å•äº†ï¼Œå°†userIdã€appIdã€userSigç”Ÿæˆè¿”å›ç»™å‰ç«¯ï¼Œæ¥ä¸‹æ¥çš„å†™æ³•å°±ä¸å¤šåšè¯´æ˜ï¼Œä¸‹é¢è´´ä¸Šè¿”å›çš„jsonæ ¼å¼\n{ \u0026#34;code\u0026#34;:200, \u0026#34;msg\u0026#34;:\u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;:{ \u0026#34;userSig\u0026#34;:\u0026#34;eJyrVgrxCdZLrSjILEpVsrIwMzEw0AELlaUWKVkpGekZKEH4xSnZiQUFmSlKVoZANaZmlgZGUJWZKal5JZlpmRANJjD1melArmdhWUV6bnGZa3pVWZV5uXaqRZFbZlBJSopjuWNEYpZ-hllZqltiQEaUV7ktVGNJZi7QJYZmxiYGhuYmZqa1AFiAMM0_\u0026#34;, \u0026#34;userId\u0026#34;:24, \u0026#34;appId\u0026#34;:\u0026#34;1400569020\u0026#34; } } å‰ç«¯ æ£€æŸ¥ç¯å¢ƒ Trtc.checkSystemRequirements() ï¼Œè¿™ä¸ªå‡½æ•°ç”¨äºåˆ¤æ–­å½“å‰æµè§ˆå™¨ç³»ç»Ÿæ˜¯å¦å¯ä»¥æ»¡è¶³trtcçš„ä½¿ç”¨ç¯å¢ƒï¼Œåœ¨åˆ›å»ºtrtcä¹‹å‰è¦ç”¨è¿™ä¸ªæ–¹æ³•æ£€æŸ¥ä¸€ä¸‹ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œè¦ä½¿ç”¨åŒæ­¥å¯ä»¥ç”¨\ntrtc.checkSystemRequirements().then(()=\u0026gt;{ // åŒæ­¥çš„å‡½æ•° }) æ—¥å¿— Trtc.Logger.setLogLevel(Trtc.Logger.LogLevel.ERROR)ï¼Œè®¾ç½®trtcçš„æ—¥å¿—è¾“å‡ºçº§åˆ«\nåˆ›å»ºTrtcClient Trtc.createClient()ï¼Œéœ€è¦ä¼ å…¥modeã€sdkAppIdã€userIdã€userSig\nä½¿ç”¨ç¤ºä¾‹:\nlet client = TRTC.createClient({ mode: \u0026#39;rtc\u0026#39;, sdkAppId: that.appId, userId: that.userId + \u0026#39;\u0026#39;, userSig: that.userSig }); ç›‘å¬æ–°å¢è¿œç«¯æµ client.on(\u0026ldquo;stream-add\u0026rdquo;, event=\u0026gt;{})ï¼Œå½“è¿œç«¯ç”¨æˆ·å‘å¸ƒæµåè§¦å‘ï¼Œä¸€èˆ¬åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°é‡Œè¦è®¢é˜…è¿œç«¯æµã€‚é€šè¿‡è¿œç«¯æµæ¥è·å–æ–°å¢çš„ç”¨æˆ·idï¼Œå†æ›´æ–°åˆ°ç”¨æˆ·åˆ—è¡¨é‡Œï¼›è®¢é˜…è¿œç«¯æµéœ€è¦è°ƒç”¨client.subscribe(remoteStream)ï¼Œè¿™é‡Œçš„remoteå¯ä»¥ç”±remote.streamè°ƒç”¨è·å–ã€‚è®¢é˜…å¥½äº†remoteStreamï¼Œå°±å¯ä»¥é€šè¿‡remoteStream.getUserId()è·å–ç”¨æˆ·ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä»£ç ç¤ºä¾‹ï¼š\nclient.on(\u0026#39;stream-added\u0026#39;, event =\u0026gt; { let remoteStream = event.stream; //è®¢é˜…è¿œç«¯æµ client.subscribe(remoteStream); //ä»è¿œç«¯æµè·å¾—è¿œç¨‹ç”¨æˆ·userId(åˆ›å»ºTrtcClientå¯¹è±¡æ—¶å€™çš„å‚æ•°) let userId = remoteStream.getUserId(); that.stream[userId] = remoteStream; }); ç›‘å¬è¿œç«¯æµè®¢é˜…æˆåŠŸ client.on(\u0026ldquo;stream-subscribed\u0026rdquo;, event=\u0026gt;{}), è‹¥æ£€æµ‹åˆ°å®¢æˆ·ç«¯ä¹Ÿè°ƒç”¨äº†subscribe()ï¼Œè®¢é˜…äº†è¿œç«¯æµï¼Œåˆ™è§¦å‘è¯¥å›è°ƒå‡½æ•°ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ç¤ºä¾‹ï¼ŒremoteStream.play(userId + \u0026ldquo;\u0026quot;)ä¼šæ’­æ”¾è¯¥ç”¨æˆ·idçš„éŸ³è§†é¢‘è®¯å·\nclient.on(\u0026#39;stream-subscribed\u0026#39;, event =\u0026gt; { let remoteStream = event.stream; let userId = remoteStream.getUserId(); //æ‰¾åˆ°è§†é¢‘å¢™ä¸­æŸä¸ªè¿œç«¯ç”¨æˆ·çš„æ ¼å­ï¼ŒæŠŠå…¶ä¸­ç”¨äºæ˜¾ç¤ºè§†é¢‘çš„DIVï¼Œç½®é¡¶è¦†ç›–ç”¨æˆ·ä¿¡æ¯ $(\u0026#39;#\u0026#39; + userId).css({ \u0026#39;z-index\u0026#39;: 1 }); //åœ¨è¿™ä¸ªç½®é¡¶çš„DIVä¸­æ’­æ”¾è¿œç«¯éŸ³è§†é¢‘è®¯å· remoteStream.play(userId + \u0026#39;\u0026#39;); }); ç›‘å¬è¿œç«¯åˆ é™¤æµ client.on(\u0026ldquo;stream-remove\u0026rdquo;, event=\u0026gt;{}),å½“è¿œç«¯ç”¨æˆ·é€€å‡ºçš„æ—¶å€™è°ƒç”¨è¯¥å›è°ƒå‡½æ•°ã€‚ä¸€èˆ¬çš„ï¼Œå†è¿™ä¸ªå‡½æ•°é‡Œä¼šå…³é—­å’Œè¯¥ç”¨æˆ·æœ‰å…³çš„ä¿¡æ¯ï¼Œä»¥ä¸‹æ˜¯ä»£ç ç¤ºä¾‹\n//è®¢é˜…è¿œç«¯åˆ é™¤æµäº‹ä»¶ï¼ˆè¿œç«¯ç”¨æˆ·é€€å‡ºä¼šè®®å®¤ï¼‰ client.on(\u0026#39;stream-removed\u0026#39;, event =\u0026gt; { let remoteStream = event.stream; //å–æ¶ˆè®¢é˜…è¯¥è¿œç«¯æµ client.unsubscribe(remoteStream); let userId = remoteStream.getUserId(); //TODO åœ¨é¡µé¢å³ä¾§çš„ç”¨æˆ·åˆ—è¡¨ä¸­åˆ é™¤è¯¥ç”¨æˆ· //åœæ­¢æ’­æ”¾è¿œç«¯æµè§†é¢‘ï¼Œå¹¶ä¸”å…³é—­è¿œç«¯æµ remoteStream.stop(); remoteStream.close(); //åˆ é™¤æ¨¡å‹å±‚JSONä¸­ä¿å­˜çš„è¿œç«¯æµå¯¹è±¡ delete that.stream[userId]; //æŠŠè§†é¢‘å¢™ä¸­è¯¥ç”¨æˆ·æ ¼å­çš„è§†é¢‘DIVæ§ä»¶ç½®åº•ï¼Œæ˜¾ç¤ºç”¨æˆ·åŸºæœ¬ä¿¡æ¯ $(\u0026#39;#\u0026#39; + userId).css({ \u0026#39;z-index\u0026#39;: \u0026#39;-1\u0026#39; }); $(\u0026#39;#\u0026#39; + userId).html(\u0026#39;\u0026#39;); }); åŠ å…¥ä¼šè®®å®¤ client.join({ roomId: that.roomId})ï¼ŒåŠ å…¥ä¼šè®®ï¼Œè¿™ä¸ªroomIdä¸€èˆ¬ç”±åç«¯ç”Ÿæˆè·å¾—ã€‚å› ä¸ºè¿™ä¸ªå‡½æ•°ä¹Ÿæ˜¯å¼‚æ­¥å‡½æ•°ï¼Œæ‰€ä»¥è¦è¿›å…¥ä¼šè®®å®¤ååˆ›å»ºæœ¬åœ°æµã€æ’­æ”¾æœ¬åœ°éŸ³è§†é¢‘ã€é…ç½®ä¿¡æ¯ä¹‹ç±»çš„è¦åœ¨client.join({ roomId: that.roomId}).then()çš„thené‡Œé¢è°ƒç”¨ï¼Œä»¥ä¸‹æ˜¯ä»£ç ç¤ºä¾‹\nclient .join({ roomId: that.roomId }) .then(() =\u0026gt; { //æˆåŠŸè¿›å…¥ä¼šè®®å®¤ï¼Œç„¶ååˆ›å»ºæœ¬åœ°æµ let localStream = TRTC.createStream({ userId: that.userId + \u0026#39;\u0026#39;, audio: true, video: true }); that.localStream = localStream; localStream.setVideoProfile(\u0026#39;480p\u0026#39;); //è®¾ç½®åˆ†è¾¨ç‡ //åˆå§‹åŒ–æœ¬åœ°éŸ³è§†é¢‘æµ localStream .initialize() .catch(error =\u0026gt; { console.error(\u0026#39;åˆå§‹åŒ–æœ¬åœ°æµå¤±è´¥ \u0026#39; + error); }).then(() =\u0026gt; { console.log(\u0026#39;åˆå§‹åŒ–æœ¬åœ°æµæˆåŠŸ\u0026#39;); //è§†é¢‘å¢™ä¸­ç¬¬ä¸€ä¸ªæ ¼å­ä¸­çš„è§†é¢‘DIVç½®é¡¶ $(\u0026#39;#localStream\u0026#39;).css({ \u0026#39;z-index\u0026#39;: 1 }); //æ’­æ”¾æœ¬åœ°éŸ³è§†é¢‘æµ localStream.play(\u0026#39;localStream\u0026#39;); //å‘è¿œç«¯ç”¨æˆ·æ¨é€æœ¬åœ°æµ client .publish(localStream) .catch(error =\u0026gt; { console.error(\u0026#39;æœ¬åœ°æµå‘å¸ƒå¤±è´¥ \u0026#39; + error); }) .then(() =\u0026gt; { console.log(\u0026#39;æœ¬åœ°æµå‘å¸ƒæˆåŠŸ\u0026#39;); }); }); }).catch(error =\u0026gt; { console.error(\u0026#39;è¿›å…¥æˆ¿é—´å¤±è´¥: \u0026#39; + error); }); è®¢é˜…è¯­éŸ³éŸ³é‡äº‹ä»¶ client.on(\u0026ldquo;audio-volumn\u0026rdquo;, event=\u0026gt;{})ï¼Œå¯ä»¥ç›‘å¬æœ¬åœ°å’Œè¿œç«¯çš„éº¦å…‹é£éŸ³é‡å˜åŒ–ï¼Œä¸€èˆ¬ä¼šé…åˆclient.enableAudioVolumeEvaluation(30)ä½¿ç”¨ï¼Œä»–ä¼šæŒ‡å®šæ¯éš”ä¸€æ®µäº‹ä»¶è°ƒç”¨è¿™ä¸ªäº‹ä»¶ï¼Œè¿™é‡Œæ˜¯30msã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ç¤ºä¾‹\n//è®¢é˜…è¯­éŸ³äº‹ä»¶ï¼ˆæ— è®ºæœ¬åœ°è¿˜æ˜¯è¿œç«¯è¯´è¯ï¼Œéƒ½ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶ï¼‰ client.on(\u0026#39;audio-volume\u0026#39;, event =\u0026gt; { event.result.forEach(({ userId, audioVolume, stream }) =\u0026gt; { //è¯´è¯å£°éŸ³è¶…è¿‡5ï¼Œå°±è®¾ç½®è¯ç­’éŸ³é‡åŠ¨ç”» if (audioVolume \u0026gt; 5) { $(\u0026#39;#mic-\u0026#39; + userId).css(\u0026#39;top\u0026#39;, `${100 - audioVolume * 3}%`); } else { $(\u0026#39;#mic-\u0026#39; + userId).css(\u0026#39;top\u0026#39;, `100%`); } }); }); // å¼€å¯éŸ³é‡å›è°ƒå‡½æ•°ï¼Œå¹¶è®¾ç½®æ¯ 30ms è§¦å‘ä¸€æ¬¡äº‹ä»¶ client.enableAudioVolumeEvaluation(30); ç›‘å¬è¿œæ–­æµåˆ é™¤æµ client.on(\u0026lsquo;stream-removed\u0026rsquo;, event-\u0026gt;{})ï¼Œè¿™ä¸ªæ˜¯ç›‘å¬åˆ°è¿œç«¯é€€å‡ºä¼šè®®çš„æ—¶å€™è°ƒç”¨çš„æ–¹æ³•ï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨ç¤ºä¾‹\n//è®¢é˜…è¿œç«¯åˆ é™¤æµäº‹ä»¶ï¼ˆè¿œç«¯ç”¨æˆ·é€€å‡ºä¼šè®®å®¤ï¼‰ client.on(\u0026#39;stream-removed\u0026#39;, event =\u0026gt; { let remoteStream = event.stream; client.unsubscribe(remoteStream); //å–æ¶ˆè®¢é˜…è¯¥è¿œç«¯æµçš„æ‰€æœ‰äº‹ä»¶ let userId = remoteStream.getUserId(); //ä¸Šçº¿ç”¨æˆ·åˆ—è¡¨ä¸­åˆ é™¤è¯¥ç”¨æˆ· let i = that.userList.findIndex(function(one) { return one.userId == userId; }); that.userList.splice(i, 1); //åœæ­¢æ’­æ”¾è¿œç«¯æµè§†é¢‘ï¼Œå¹¶ä¸”å…³é—­è¿œç«¯æµ remoteStream.stop(); remoteStream.close(); //æŠŠè¿œç«¯æµä»streamä¸­åˆ é™¤ delete that.stream[userId]; //æŠŠè¿œç«¯è§†é¢‘æ’­æ”¾ç•Œé¢è®¾ç½®ä¸º-1å±‚ $(\u0026#39;#\u0026#39; + userId).css({ \u0026#39;z-index\u0026#39;: \u0026#39;-1\u0026#39; }); $(\u0026#39;#\u0026#39; + userId).html(\u0026#39;\u0026#39;); }); é€€å‡ºè§†é¢‘ä¼šè®®å®¤ client.unpublish()ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œè¦åœ¨é€€å‡ºåæ¸…é™¤ä¸€äº›ä¿¡æ¯ä¹Ÿè¦åœ¨thenæ–¹æ³•é‡Œã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ç¤ºä¾‹,é‡Œé¢çš„client.leaveæ˜¯ç¦»å¼€é‡Œé¢çš„ä¼šè®®å®¤\n//è·å–å½“å‰æœ¬åœ°ä½¿ç”¨çš„æµï¼Œæœ‰å¯èƒ½æ˜¯æœ¬åœ°æµæˆ–è€…å…±äº«æµ let stream = that.getStream(); that.client.unpublish(stream).then(() =\u0026gt; { // å–æ¶ˆå‘å¸ƒæœ¬åœ°æµæˆåŠŸ that.client .leave() .then(() =\u0026gt; { console.log(\u0026#39;æˆåŠŸé€€å‡ºä¼šè®®å®¤\u0026#39;); //å…³é—­æœ¬åœ°æµæˆ–è€…å…±äº«æµ stream.stop(); stream.close(); //æ¸…ç©ºæ¨¡å‹å±‚çš„æœ¬åœ°æµ that.localStream = null; that.shareStream = null; //æ¸…ç©ºæ¨¡å‹å±‚çš„è¿œç«¯æµ that.stream = {}; //é”€æ¯TrtcClientå¯¹è±¡ that.client = null; that.userList = []; //æ¸…ç©ºç”¨æˆ·åˆ—è¡¨ that.videoStatus = true; that.micStatus = true; that.shareStatus = false; //è§†é¢‘å¢™ä¸Šæœ¬åœ°æµDIVåŒºåŸŸç½®åº• $(\u0026#39;#localStream\u0026#39;).css({ \u0026#39;z-index\u0026#39;: \u0026#39;-1\u0026#39; }); $(\u0026#39;#localStream\u0026#39;).html(\u0026#39;\u0026#39;); //TODO å¦‚æœæ˜¯æ’­æ”¾å¤§å±è§†é¢‘çš„æ—¶å€™é€€å‡ºä¼šè®®ï¼Œé€€å‡ºä¼šè®®åéœ€è¦éšè—å¤§å± }) .catch(error =\u0026gt; { console.error(\u0026#39;æˆåŠŸé€€å‡ºä¼šè®®å®¤å¤±è´¥\u0026#39; + error); }); }); æ‰“å¼€/å…³é—­æ‘„åƒå¤´ï¼š localStream.unmuteVideo()/localStream.muteVideo()ï¼ŒlocalStreamæ˜¯æœ¬åœ°æµ,åœ¨åˆ›å»ºä¼šè®®çš„æ—¶å€™ç”Ÿæˆ\næ‰“å¼€/å…³é—­éº¦å…‹é£ stream.unmuteAudio()/stream.muteAudio()ï¼Œstreamæ˜¯æœ¬åœ°æµæˆ–å…±äº«æµ\næ£€æµ‹æ˜¯å¦æ»¡è¶³å±å¹•å…±äº«ç¯å¢ƒ TRTC.isScreenShareSupported()ï¼Œä¸checkSystemRequirementsç±»ä¼¼\nåˆ›å»ºå±å¹•å…±äº« åŒæ ·çš„ä¹Ÿæ˜¯è°ƒç”¨TRTC.createStreamåˆ›å»ºå…±äº«æµï¼Œéœ€è¦ä¼ å…¥screen:trueå‚æ•°ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ç¤ºä¾‹\nlet shareStream = TRTC.createStream({ audio: that.micStatus, screen: true, userId: that.userId }); è®¾ç½®å±å¹•çš„åˆ†è¾¨ç‡ shareStream.setScreenProfile(\u0026lsquo;1080p\u0026rsquo;);\nä¸‹é¢æ˜¯å±å¹•å…±äº«çš„ä½¿ç”¨ç¤ºä¾‹\nshareHandle: function() { let that = this; //åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¿›å…¥è§†é¢‘ä¼šè®®å®¤ if (!that.meetingStatus) { that.$alert(\u0026#39;è¯·å…ˆè¿›å…¥è§†é¢‘ä¼šè®®æ‰èƒ½å…±äº«å±å¹•\u0026#39;, \u0026#39;æç¤ºä¿¡æ¯\u0026#39;, { confirmButtonText: \u0026#39;ç¡®å®š\u0026#39; }); return; } //æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒå±å¹•å…±äº« if (!TRTC.isScreenShareSupported()) { //æç¤ºå½“å‰æµè§ˆå™¨ä¸æ”¯æŒåœ¨çº¿è§†é¢‘ä¼šè®® this.$alert(\u0026#39;å½“å‰æµè§ˆå™¨ä¸æ”¯æŒå±å¹•å…±äº«\u0026#39;, \u0026#39;æç¤ºä¿¡æ¯\u0026#39;, { confirmButtonText: \u0026#39;ç¡®å®š\u0026#39; }); return; } that.shareStatus = !that.shareStatus; //å¼€å¯å±å¹•å…±äº« if (that.shareStatus) { //åˆ›å»ºå…±äº«æµ let shareStream = TRTC.createStream({ audio: that.micStatus, screen: true, userId: that.userId }); shareStream.setScreenProfile(\u0026#39;1080p\u0026#39;); that.shareStream = shareStream; shareStream .initialize() .catch(error =\u0026gt; { console.error(\u0026#39;åˆå§‹å…±äº«æµå¤±è´¥ \u0026#39; + error); }) .then(() =\u0026gt; { //å–æ¶ˆæ¨é€æœ¬åœ°è§†é¢‘æµ that.client.unpublish(that.localStream).then(() =\u0026gt; { that.localStream.close(); //å…³é—­æœ¬åœ°æµ that.localStream = null; //æœ¬åœ°æµè®¾ç½®ä¸ºç©º //éšè—æœ¬åœ°è§†é¢‘çª—å£ $(\u0026#39;#localStream\u0026#39;).css({ \u0026#39;z-index\u0026#39;: -1 }); that.client.publish(shareStream); //å‘è¿œç«¯æ¨é€å…±äº«æµ }); }); } //å…³é—­å±å¹•å…±äº« else { //é‡å»ºæœ¬åœ°è§†é¢‘æµ let localStream = TRTC.createStream({ userId: that.userId + \u0026#39;\u0026#39;, audio: that.micStatus, video: that.videoStatus }); that.localStream = localStream; localStream.setVideoProfile(\u0026#39;480p\u0026#39;); localStream .initialize() .catch(error =\u0026gt; { console.error(\u0026#39;åˆå§‹åŒ–æœ¬åœ°æµå¤±è´¥ \u0026#39; + error); }) .then(() =\u0026gt; { console.log(\u0026#39;åˆå§‹åŒ–æœ¬åœ°æµæˆåŠŸ\u0026#39;); //å–æ¶ˆå…±äº«æµçš„æ¨æµ that.client.unpublish(that.shareStream).then(() =\u0026gt; { that.shareStream.close(); //å…³é—­å…±äº«æµ that.shareStream = null; //å…±äº«æµè®¾ç½®ä¸ºç©º //æ˜¾ç¤ºæœ¬åœ°è§†é¢‘çª—å£ $(\u0026#39;#localStream\u0026#39;).css({ \u0026#39;z-index\u0026#39;: 1 }); localStream.play(\u0026#39;localStream\u0026#39;); //æ’­æ”¾æœ¬åœ°æµ //å‘è¿œç«¯æ¨é€æœ¬åœ°è§†é¢‘æµ that.client .publish(localStream) .catch(error =\u0026gt; { console.error(\u0026#39;æœ¬åœ°æµå‘å¸ƒå¤±è´¥ \u0026#39; + error); }) .then(() =\u0026gt; { console.log(\u0026#39;æœ¬åœ°æµå‘å¸ƒæˆåŠŸ\u0026#39;); }); }); }); } }, ","permalink":"https://rexhub.space/posts/api/%E8%85%BE%E8%AE%AFtrtc/","summary":"è…¾è®¯è§†é¢‘ä¼šè®®çš„ä½¿ç”¨-TRTCæŠ€æœ¯ æ¦‚è¿°ï¼š TRTCå…¨ç§°(Tencent Real-Time Communication) å³è…¾è®¯å®æ—¶éŸ³è§†é¢‘æœåŠ¡ï¼Œå®šä½æ˜¯è§£å†³å®æ—¶é€šä¿¡çš„äº‘æœåŠ¡ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯é€šè¿‡äº’è”ç½‘ï¼Œæ¥å—ã€å¤„ç†ã€è½¬å‘å’Œä¿å­˜å¤§æµé‡çš„éŸ³è§†é¢‘æµæ•°æ®ï¼Œä¸»è¦ç”¨äºç›´æ’­ã€è§†é¢‘ä¼šè®®åœºæ™¯ã€‚æœ¬æ–‡ç®€ç•¥è¯´æ˜TRTCæŠ€æœ¯çš„ä½¿ç”¨ï¼Œæ¡ˆä¾‹åŸºäºå‰ç«¯-vueï¼Œåç«¯-javaçš„springbootæ¡†æ¶ï¼Œå…·ä½“çš„å†…å®¹å‚è€ƒä¸€ä¸‹æ–‡æ¡£\nåç«¯çš„å‡†å¤‡ é¦–å…ˆå‰ç«¯è°ƒç”¨TRTCæœåŠ¡éœ€è¦åˆ›å»ºTrtcClientå¯¹è±¡æ¥ç®¡ç†ï¼Œåˆ›å»ºTrtcClientéœ€è¦ç”¨åˆ°ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯AppIDï¼Œç”¨æˆ·UserIdï¼Œè¿˜æœ‰ç”¨æˆ·ç­¾å(UserSig)ã€‚è€Œè¿™é‡Œçš„ç”¨æˆ·ç­¾åæ˜¯ç”¨Trtcçš„AppIDå’Œå¯†é’¥ï¼Œä»»æ„å¼€å‘è€…æŸ¥çœ‹HTMLéƒ½èƒ½çœ‹åˆ°è¿™äº›ä¿¡æ¯ï¼Œæ‰€ä»¥ç”Ÿæˆç”¨æˆ·ç­¾åçš„å·¥ä½œä¸èƒ½åœ¨å‰ç«¯å®Œæˆï¼Œæ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯åœ¨åç«¯é¡¹ç›®ç”Ÿæˆç”¨æˆ·ç­¾å\nç”¨æˆ·ç­¾å(UserSig) ï¼ˆUserSigï¼‰æ˜¯è…¾è®¯äº‘è®¾è®¡çš„ä¸€ç§å®‰å…¨ä¿æŠ¤ç­¾åï¼Œä½¿ç”¨HMAC SHA256åŠ å¯†ç®—æ³•è®¡ç®—å¾—å‡ºã€‚\n//UserSig è®¡ç®—å…¬å¼ï¼Œå…¶ä¸­ secretkey ä¸ºè®¡ç®— usersig ç”¨çš„åŠ å¯†å¯†é’¥ usersig = hmacsha256(secretkey, (userid + sdkappid + currtime + expire + base64(userid + sdkappid + currtime + expire))) å…³äºuserSigçš„å„ç§è¯­è¨€ç”Ÿæˆæ–¹æ³•åœ¨è…¾è®¯äº‘çš„å®˜æ–¹æ–‡æ¡£éƒ½æœ‰ä»‹ç»\nè¿™è¾¹æˆ‘ä½¿ç”¨çš„springbootæ¡†æ¶ï¼Œæ‰€ä»¥ç”¨æ˜¯javaç”ŸæˆuserSigçš„æ–¹å¼ï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªTrtcUtil.java\npackage com.example.emos.api.config.tencet; import cn.hutool.core.util.StrUtil; import cn.hutool.json.JSONObject; import org.bson.internal.Base64; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; import javax.crypto.Mac; import javax.crypto.spec.SecretKeySpec; import java.nio.charset.StandardCharsets; import java.security.InvalidKeyException; import java.security.NoSuchAlgorithmException; import java.util.Arrays; import java.util.zip.Deflater; /** * Description: è…¾è®¯TRTCå·¥å…·ç±» * * @author Rex * @date 2021-09-29 10:48 */ import java.","title":"è…¾è®¯TRTC"},{"content":"å‰ç«¯å¸¸ç”¨è½®å­ ç®€ä»‹ è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•ä¸‹ä¸€äº›å¸¸è§çš„ç»„ä»¶åº“ï¼Œä»¥åå¼€å‘çš„æ—¶å€™æ–¹ä¾¿ç‚¹ã€‚ï¼ˆæŒç»­æ›´æ–°ä¸­â€¦â€¦ï¼‰\nReact UIç»„ä»¶åº“ Ant Design æ–‡æ¡£é½å…¨ã€ç¤¾åŒºç”Ÿæ€å¥½ æ”¯æŒPCç«¯å’Œæ‰‹æœºç«¯ è¯¦æƒ…è§å®˜ç½‘\nReact Bootstrap å¯ç”¨äºå¿«é€Ÿæ­å»ºä¸ªäººé¡¹ç›® è¯¦æƒ…è§å®˜ç½‘\nMATERIAL-UI(Mui) å®ç°äº†è°·æ­Œçš„Material Design githubæœ‰è¶…è¿‡50kçš„å…³æ³¨é‡ï¼Œæ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„Reactç»„ä»¶åº“ä¹‹ä¸€ è¯¦æƒ…è§å®˜ç½‘\nVue UIç»„ä»¶åº“ Element é¥¿äº†ä¹ˆæ——ä¸‹çš„ç»„ä»¶åº“ï¼Œå›½å†…æœ€æµè¡Œçš„Vueç»„ä»¶åº“ æ–‡æ¡£é½å…¨ æ”¯æŒVue3 åŒæ—¶æœ‰Reactç‰ˆæœ¬å’ŒAngularç‰ˆæœ¬ è¯¦æƒ…è§å®˜ç½‘\nVant æœ‰èµå…¬å¸æ——ä¸‹çš„å¼€æºç»„ä»¶åº“ é€‚ç”¨äºç§»åŠ¨ç«¯å¼€å‘ ç»„ä»¶é½å…¨ï¼Œä½¿ç”¨ç®€å•ï¼ŒUIç¾è§‚ è¯¦æƒ…è§å®˜ç½‘\nView UI UIç²¾ç¾ å«å…è´¹ç‰ˆå’Œæ”¶è´¹ç‰ˆ è¯¦æƒ…è§å®˜ç½‘\nVueå·¥å…·ç±» vue-draggableï¼švueæ‹–æ‹½ç»„ä»¶ è¯¦æƒ…è§å®˜ç½‘\nvue-qrï¼šç”ŸæˆäºŒç»´ç ç»„ä»¶ è¯¦æƒ…è§å®˜ç½‘\nvue-cropperï¼švueå›¾ç‰‡è£åˆ‡å·¥å…· è¯¦æƒ…è§å®˜ç½‘\nvue-lazyloadï¼šå›¾ç‰‡æ‡’åŠ è½½ ä¸ä¼šå’Œvueå…¶ä»–ç»„ä»¶åº“å†²çª è¯¦æƒ…è§å®˜ç½‘\nvue-simple-uploadï¼švueä¸Šä¼ ç»„ä»¶ è¯¦æƒ…è§å®˜ç½‘\nåŠ¨ç”»åº“ Animate.cssï¼šåŠ¨ç”»åº“ çº¯cssçš„åŠ¨ç”»åº“ï¼Œé€‚ç”¨äºå„ç§æ¡†æ¶ åŠŸèƒ½é½å…¨ è¯¦æƒ…è§å®˜ç½‘\nswiperï¼šè½®æ’­å›¾ç»„ä»¶ æä¾›çš„è½®æ’­å›¾æ•ˆæœå¤š æ–‡æ¡£é½å…¨ï¼Œç¤¾åŒºå¼ºå¤§ æ”¯æŒåŸç”Ÿã€Reactã€Vueã€Angularç­‰ä»»ä½•å‰ç«¯å¼€å‘åœºæ™¯ æœ‰PCç«¯ã€ç§»åŠ¨ç«¯ä¹‹åˆ† ç¼ºç‚¹ï¼šå®˜ç½‘å¹¿å‘Šè¾ƒå¤šâ€¦â€¦ è¯¦æƒ…è§å®˜ç½‘\nmescroll.jsï¼šæ»šåŠ¨æ’ä»¶ è§£å†³ç§»åŠ¨ç«¯æ»šåŠ¨ä¸æµç•…ã€å»¶è¿Ÿç­‰é—®é¢˜ åŸºäºH5ï¼Œä¾µå…¥æ€§å¾ˆå°ï¼Œå®ç”¨æ€§å¾ˆå¼ºï¼Œä¸ä¾èµ–äºå…¶ä»–å‰ç«¯æ¡†æ¶ è¯¦æƒ…è§å®˜ç½‘\nå·¥å…·ç±»è½®å­ lodash.jsï¼šå‰ç«¯å‡½æ•°åº“ æ”¯æŒåŸç”Ÿã€Reactã€Vueã€Angularç­‰ä»»ä½•å‰ç«¯å¼€å‘åœºæ™¯ å°è£…äº†å¸¸ç”¨çš„å‡½æ•°å¼€å‘åº“ è¯¦æƒ…è§å®˜ç½‘\nDay.jsï¼šæ—¥æœŸåº“ æç®€çš„JavaScriptåº“ ä¾¿äºéªŒè¯ã€æ“ä½œã€æ˜¾ç¤ºæ—¥æœŸæ—¶é—´ è¯¦æƒ…è§å®˜ç½‘\ntimeago.js æ˜¾ç¤ºå‡ å°æ—¶ä¹‹å‰ï¼Œç½‘ç«™å’Œåº”ç”¨çš„æ›´æ–° æ—¶æ•ˆæ€§å¼º å¦‚ï¼šæ˜¾ç¤º15åˆ†é’Ÿä¹‹å‰åˆ›å»ºäº†xxxæ–‡æ¡£ è¯¦æƒ…è§å®˜ç½‘\nechartsï¼šæ•°æ®å¯è§†åŒ–æ’ä»¶ å¯ä»¥æ»¡è¶³ä¼ä¸šçº§çš„å¼€å‘éœ€æ±‚ è¯¦æƒ…è§å®˜ç½‘\nMeditor.mdï¼šMarkdownç¼–è¾‘å™¨æ’ä»¶ è¯¦æƒ…è§å®˜ç½‘\nvalidator.jsï¼šè¡¨å•éªŒè¯å·¥å…· è¯¦æƒ…è§å®˜ç½‘\n","permalink":"https://rexhub.space/posts/front/tools/%E5%89%8D%E7%AB%AF%E5%B8%B8%E7%94%A8%E8%BD%AE%E5%AD%90/","summary":"å‰ç«¯å¸¸ç”¨è½®å­ ç®€ä»‹ è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•ä¸‹ä¸€äº›å¸¸è§çš„ç»„ä»¶åº“ï¼Œä»¥åå¼€å‘çš„æ—¶å€™æ–¹ä¾¿ç‚¹ã€‚ï¼ˆæŒç»­æ›´æ–°ä¸­â€¦â€¦ï¼‰\nReact UIç»„ä»¶åº“ Ant Design æ–‡æ¡£é½å…¨ã€ç¤¾åŒºç”Ÿæ€å¥½ æ”¯æŒPCç«¯å’Œæ‰‹æœºç«¯ è¯¦æƒ…è§å®˜ç½‘\nReact Bootstrap å¯ç”¨äºå¿«é€Ÿæ­å»ºä¸ªäººé¡¹ç›® è¯¦æƒ…è§å®˜ç½‘\nMATERIAL-UI(Mui) å®ç°äº†è°·æ­Œçš„Material Design githubæœ‰è¶…è¿‡50kçš„å…³æ³¨é‡ï¼Œæ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„Reactç»„ä»¶åº“ä¹‹ä¸€ è¯¦æƒ…è§å®˜ç½‘\nVue UIç»„ä»¶åº“ Element é¥¿äº†ä¹ˆæ——ä¸‹çš„ç»„ä»¶åº“ï¼Œå›½å†…æœ€æµè¡Œçš„Vueç»„ä»¶åº“ æ–‡æ¡£é½å…¨ æ”¯æŒVue3 åŒæ—¶æœ‰Reactç‰ˆæœ¬å’ŒAngularç‰ˆæœ¬ è¯¦æƒ…è§å®˜ç½‘\nVant æœ‰èµå…¬å¸æ——ä¸‹çš„å¼€æºç»„ä»¶åº“ é€‚ç”¨äºç§»åŠ¨ç«¯å¼€å‘ ç»„ä»¶é½å…¨ï¼Œä½¿ç”¨ç®€å•ï¼ŒUIç¾è§‚ è¯¦æƒ…è§å®˜ç½‘\nView UI UIç²¾ç¾ å«å…è´¹ç‰ˆå’Œæ”¶è´¹ç‰ˆ è¯¦æƒ…è§å®˜ç½‘\nVueå·¥å…·ç±» vue-draggableï¼švueæ‹–æ‹½ç»„ä»¶ è¯¦æƒ…è§å®˜ç½‘\nvue-qrï¼šç”ŸæˆäºŒç»´ç ç»„ä»¶ è¯¦æƒ…è§å®˜ç½‘\nvue-cropperï¼švueå›¾ç‰‡è£åˆ‡å·¥å…· è¯¦æƒ…è§å®˜ç½‘\nvue-lazyloadï¼šå›¾ç‰‡æ‡’åŠ è½½ ä¸ä¼šå’Œvueå…¶ä»–ç»„ä»¶åº“å†²çª è¯¦æƒ…è§å®˜ç½‘\nvue-simple-uploadï¼švueä¸Šä¼ ç»„ä»¶ è¯¦æƒ…è§å®˜ç½‘\nåŠ¨ç”»åº“ Animate.cssï¼šåŠ¨ç”»åº“ çº¯cssçš„åŠ¨ç”»åº“ï¼Œé€‚ç”¨äºå„ç§æ¡†æ¶ åŠŸèƒ½é½å…¨ è¯¦æƒ…è§å®˜ç½‘\nswiperï¼šè½®æ’­å›¾ç»„ä»¶ æä¾›çš„è½®æ’­å›¾æ•ˆæœå¤š æ–‡æ¡£é½å…¨ï¼Œç¤¾åŒºå¼ºå¤§ æ”¯æŒåŸç”Ÿã€Reactã€Vueã€Angularç­‰ä»»ä½•å‰ç«¯å¼€å‘åœºæ™¯ æœ‰PCç«¯ã€ç§»åŠ¨ç«¯ä¹‹åˆ† ç¼ºç‚¹ï¼šå®˜ç½‘å¹¿å‘Šè¾ƒå¤šâ€¦â€¦ è¯¦æƒ…è§å®˜ç½‘\nmescroll.jsï¼šæ»šåŠ¨æ’ä»¶ è§£å†³ç§»åŠ¨ç«¯æ»šåŠ¨ä¸æµç•…ã€å»¶è¿Ÿç­‰é—®é¢˜ åŸºäºH5ï¼Œä¾µå…¥æ€§å¾ˆå°ï¼Œå®ç”¨æ€§å¾ˆå¼ºï¼Œä¸ä¾èµ–äºå…¶ä»–å‰ç«¯æ¡†æ¶ è¯¦æƒ…è§å®˜ç½‘\nå·¥å…·ç±»è½®å­ lodash.jsï¼šå‰ç«¯å‡½æ•°åº“ æ”¯æŒåŸç”Ÿã€Reactã€Vueã€Angularç­‰ä»»ä½•å‰ç«¯å¼€å‘åœºæ™¯ å°è£…äº†å¸¸ç”¨çš„å‡½æ•°å¼€å‘åº“ è¯¦æƒ…è§å®˜ç½‘","title":"å‰ç«¯å¸¸ç”¨è½®å­"},{"content":"Zookeeper å®šä¹‰ï¼š Zookeeperï¼šA Distributed Coordination Service for Distributed Applications(\nZookeeperæ˜¯å¼€æºçš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼åº”ç”¨åè°ƒç³»ç»Ÿï¼Œä¸€ä¸ªé«˜æ€§èƒ½çš„åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ\n5å¤§ç‰¹ç‚¹ é¡ºåºä¸€è‡´æ€§ï¼šå‘å‡ºå»çš„é¡ºåº==æ‰§è¡Œçš„é¡ºåº åŸå­æ€§ï¼šè¯·æ±‚åŒæ­¥åˆ°å„ä¸ªèŠ‚ç‚¹è¦ä¹ˆéƒ½æˆæœè¦ä¹ˆéƒ½å¤±è´¥ å•ä¸€è§†å›¾ï¼šå¤šä¸ªèŠ‚ç‚¹æ— è®ºè¿å“ªä¸ªçœ‹çš„ä¸œè¥¿éƒ½æ˜¯ä¸€è‡´çš„ å¯é æ€§ï¼šç»™èŠ‚ç‚¹å†™äº†æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ä¼šä¸€ç›´ä¿ç•™ï¼Œç›´åˆ°æœ‰å¦å¤–çš„æ“ä½œæŠŠæ•°æ®å†™æ‰ï¼Œæ‰ä¼šå‘ç”Ÿå˜åŒ– åŠæ—¶æ€§ï¼šåœ¨ä¸€å®šçš„æ—¶é—´æ®µï¼ˆå¯æ¥å—çš„æ—¶é—´æ®µï¼‰å†…èƒ½ä»æœåŠ¡å™¨ä¸Šè¯»åˆ°æœ€æ–°çš„æ•°æ®çŠ¶æ€ æ¶æ„å›¾ã€é›†ç¾¤ã€å·¥ä½œè¿‡ç¨‹ Zookeeperå’ŒCAPçš„å…³ç³» CPï¼šä¸€è‡´æ€§+åˆ†åŒºå®¹é”™æ€§ èƒ½å¾—åˆ°ä¸€è‡´çš„æ•°æ®ç»“æœï¼ŒåŒæ—¶ç³»ç»Ÿå¯¹ç½‘ç»œå…·å¤‡å®¹é”™æ€§ ä½†æ˜¯å®ƒä¸èƒ½ä¿è¯æ¯æ¬¡æœåŠ¡è¯·æ±‚çš„å¯ç”¨æ€§ ä½œç”¨ åˆ†å¸ƒå¼æœåŠ¡æ³¨å†Œä¸è®¢é˜… ç»Ÿä¸€é…ç½®æ–‡ä»¶ ç”Ÿæˆåˆ†å¸ƒå¼å”¯ä¸€ID MasterèŠ‚ç‚¹é€‰ä¸¾ åˆ†å¸ƒå¼é” èŠ‚ç‚¹znode æ¨¡å‹-æ ‘ç»“æ„ èŠ‚ç‚¹æ€§è´¨ æ ‘å½¢ç»“æ„ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºlinuxçš„æ–‡ä»¶ç›®å½• æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯znodeï¼Œé‡Œé¢å¯ä»¥åŒ…å«æ•°æ®ï¼Œä¹Ÿå¯ä»¥æœ‰å­èŠ‚ç‚¹ ç‚¹åˆ†ä¸ºæ°¸ä¹…èŠ‚ç‚¹å’Œä¸´æ—¶èŠ‚ç‚¹(sessionå¤±æ•ˆï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯æ®µå‡¯åï¼Œä¸´æ—¶èŠ‚ç‚¹æ¶ˆå¤±) æ¯ä¸ªznodeéƒ½æœ‰ç‰ˆæœ¬å·ï¼Œæ¯å½“æ•°æ®å˜åŒ–ï¼Œç‰ˆæœ¬å·ä¼šç´¯åŠ ï¼ˆä¹è§‚é”ï¼‰ åˆ é™¤æˆ–ä¿®æ”¹èŠ‚ç‚¹ï¼Œç‰ˆæœ¬å·ä¸åŒ¹é…çš„è¯ï¼ˆç‰ˆæœ¬å·å·²è¿‡æ—¶ï¼‰ï¼Œä¼šæŠ¥é”™ æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®ä¸å®œè¿‡å¤§ï¼Œå‡ kå³å¯ èŠ‚ç‚¹å¯ä»¥è®¾ç½®æƒé™ï¼Œæ¥é™åˆ¶ç”¨æˆ·çš„è®¿é—® Zookeeperä¿è¯è¯»å’Œå†™éƒ½æ˜¯åŸå­æ“ä½œï¼Œä¸”æ¯æ¬¡è¯»å†™æ“ä½œéƒ½æ˜¯å¯¹æ•°æ®çš„å®Œæ•´è¯»å–æˆ–å®Œæ•´å†™å…¥ èŠ‚ç‚¹ç±»å‹ æŒä¹…èŠ‚ç‚¹ ä¸´æ—¶èŠ‚ç‚¹ é¡ºåºèŠ‚ç‚¹ èŠ‚ç‚¹å±æ€§ dataVersion æ•°æ®ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å¯¹å†…å®¹ä¿®æ”¹dataVersion+1 cversion å­èŠ‚ç‚¹ç‰ˆæœ¬å·ï¼Œå¦‚æœå­èŠ‚ç‚¹å†…å®¹å‘é€å˜åŒ–cversion+1 aclVersion acl-æƒé™æ§åˆ¶åˆ—è¡¨ï¼Œæƒé™å‘ç”Ÿå˜åŒ–çš„æ—¶å€™aclVersion+1 å¸¸ç”¨å‘½ä»¤ æŸ¥çœ‹èŠ‚ç‚¹ls æŸ¥çœ‹èŠ‚ç‚¹çš„æ•°æ®å’ŒçŠ¶æ€get åˆ›å»º(create [-s é¡ºåºèŠ‚ç‚¹] [-e ä¸´æ—¶èŠ‚ç‚¹])ã€ä¿®æ”¹(set)ã€åˆ é™¤(delete)èŠ‚ç‚¹ Watcheræœºåˆ¶ è§¦å‘å™¨ã€ç›‘ç£è€…\näº‹ä»¶ç±»å‹\nEventType è§¦å‘æ¡ä»¶ NodeCreatedï¼ˆèŠ‚ç‚¹åˆ›å»ºï¼‰ Watcherç›‘å¬çš„å¯¹åº”æ•°æ®èŠ‚ç‚¹è¢«åˆ›å»º NodeDeletedï¼ˆèŠ‚ç‚¹åˆ é™¤ï¼‰ Watcherç›‘å¬çš„å¯¹åº”æ•°æ®èŠ‚ç‚¹è¢«åˆ é™¤ NodeDataChangedï¼ˆèŠ‚ç‚¹æ•°æ®ä¿®æ”¹ï¼‰ Watcherç›‘å¬çš„å¯¹åº”æ•°æ®èŠ‚ç‚¹çš„æ•°æ®å†…å®¹å‘é€å˜æ›´ NodeChildrenChangedï¼ˆå­èŠ‚ç‚¹å˜æ›´ï¼‰ Watcherç›‘å¬çš„å¯¹åº”æ•°æ®èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ—è¡¨å‘é€å˜æ›´ ACL access control list æƒé™æ§åˆ¶ å®ƒä½¿ç”¨æƒé™ä½æ¥å…è®¸/ç¦æ­¢å¯¹èŠ‚ç‚¹æå…¶æ‰€ç”¨åŸŸçš„å„ç§æ“ä½œ ACLä»…ä¸ç‰¹ç‚¹çš„znodeæœ‰å…³ï¼Œä¸å­èŠ‚ç‚¹æ— å…³ Schema ACL:[schemaé‡‡ç”¨çš„æƒé™æœºåˆ¶: idç”¨æˆ·:permissionsæƒé™ç»„åˆå­—ç¬¦ä¸²] world id: anyone auth éœ€è¦è®¾å®šå¯¹åº”çš„ç”¨æˆ·å’Œå¯†ç ï¼ˆæ˜æ–‡ï¼‰ digest åŒauthï¼Œä¸åŒçš„æ˜¯åŠ å¯†ä½¿ç”¨å¯†æ–‡ ip æŒ‡å®šip super è¶…çº§æƒé™ æƒé™å­—ç¬¦ä¸²crdwa Created åˆ›å»ºå­èŠ‚ç‚¹çš„æƒé™ Read è¯» Delete åˆ é™¤å­èŠ‚ç‚¹çš„æƒé™ Write å†™ Admin æœ€é«˜æƒé™ ä½¿ç”¨æƒé™ åŒºåˆ†å¼€å‘/æµ‹è¯•/è¿ç»´ç¯å¢ƒï¼Œé˜²æ­¢è¯¯æ“ä½œ å¯ä»¥é’ˆå¯¹ä¸åŒIPè€Œäº§ç”Ÿå…·ä½“çš„é…ç½®ï¼Œæ›´å®‰å…¨ ä»£ç  javaåŸç”Ÿ å¯¼å…¥ä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.zookeeper\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;zookeeper\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.6.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ç¼–å†™log4j.properties\nlog4j.rootLogger=INFO, stdout log4j.appender.stdout=org.apache.log4j.ConsoleAppender log4j.appender.stdout.Target=System.out log4j.appender.stdout.layout=org.apache.log4j.PatternLayout log4j.appender.stdout.layout.ConversionPattern=%d{HH:mm:ss} %p %c{2}: %m%n ZKConnect.java\npackage com.imooc.zkjavaapi; import org.apache.zookeeper.WatchedEvent; import org.apache.zookeeper.Watcher; import org.apache.zookeeper.ZooKeeper; import java.io.IOException; /** * Description: è¿æ¥åˆ°ZKæœåŠ¡ç«¯ï¼Œæ‰“å°è¿æ¥çŠ¶æ€ * Date 2021-07-22 16:00 * * @author Rex */ public class ZKConnect implements Watcher { /** * ZookeeperæœåŠ¡ç«¯åœ°å€ */ private static final String SERVER_PATH = \u0026#34;127.0.0.1:2181\u0026#34;; /** * è¶…æ—¶æ—¶é—´ */ private static final Integer TIME_OUT = 5000; public static void main(String[] args) throws IOException, InterruptedException { /* * å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»–ä»¬æ˜¯å¼‚æ­¥è¿æ¥ï¼Œè¿æ¥æˆåŠŸåï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ°watcheré€šçŸ¥ * connectStringï¼šæœåŠ¡å™¨çš„IP+ç«¯å£å·ï¼Œæ¯”å¦‚ï¼š127.0.0.1:2181 * sessionTimeoutï¼šè¶…æ—¶æ—¶é—´ * watcherï¼šé€šçŸ¥äº‹ä»¶ */ ZooKeeper zk = new ZooKeeper(SERVER_PATH, TIME_OUT, new ZKConnect()); System.out.println(\u0026#34;å®¢æˆ·ç«¯å¼€å§‹è¿æ¥zkæœåŠ¡å™¨äº†\u0026#34;); System.out.println(zk.getState()); Thread.sleep(2000); System.out.println(zk.getState()); } @Override public void process(WatchedEvent event) { System.out.println(\u0026#34;æ”¶åˆ°äº†é€šçŸ¥ï¼š\u0026#34; + event); } } æ¼”ç¤ºå¯¹èŠ‚ç‚¹çš„æ“ä½œ\nZKOperator.java\npackage com.imooc.zkjavaapi; import com.imooc.zkjavaapi.callback.DeleteCallBack; import org.apache.zookeeper.*; import java.io.IOException; import java.nio.charset.StandardCharsets; /** * Description: æ¼”ç¤ºå¯¹èŠ‚ç‚¹çš„æ“ä½œ * Date 2021-07-22 16:24 * * @author Rex */ public class ZKOperator implements Watcher { /** * ZookeeperæœåŠ¡ç«¯åœ°å€ */ private static final String SERVER_PATH = \u0026#34;127.0.0.1:2181\u0026#34;; /** * è¶…æ—¶æ—¶é—´ */ private static final Integer TIME_OUT = 5000; public static void main(String[] args) throws IOException, InterruptedException, KeeperException { /* * å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»–ä»¬æ˜¯å¼‚æ­¥è¿æ¥ï¼Œè¿æ¥æˆåŠŸåï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ°watcheré€šçŸ¥ * connectStringï¼šæœåŠ¡å™¨çš„IP+ç«¯å£å·ï¼Œæ¯”å¦‚ï¼š127.0.0.1:2181 * sessionTimeoutï¼šè¶…æ—¶æ—¶é—´ * watcherï¼šé€šçŸ¥äº‹ä»¶ */ ZooKeeper zk = new ZooKeeper(SERVER_PATH, TIME_OUT, new ZKConnect()); System.out.println(\u0026#34;å®¢æˆ·ç«¯å¼€å§‹è¿æ¥zkæœåŠ¡å™¨äº†\u0026#34;); System.out.println(zk.getState()); Thread.sleep(2000); /* * path: åˆ›å»ºçš„è·¯å¾„ * data: å­˜å‚¨çš„æ•°æ® * acl: æƒé™æ§åˆ¶ï¼Œå¼€æ”¾ * createMode: æ°¸ä¹…ã€ä¸´æ—¶ã€é¡ºåº */ zk.create(\u0026#34;/imago-create-node\u0026#34;, \u0026#34;imooc\u0026#34;.getBytes(StandardCharsets.UTF_8), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT); // zk.setData(\u0026#34;/imooc-create-node\u0026#34;, \u0026#34;imooc3\u0026#34;.getBytes(StandardCharsets.UTF_8), 1); String ctx = \u0026#34;åˆ é™¤æˆåŠŸ\u0026#34;; zk.delete(\u0026#34;/imooc-create-node\u0026#34;, 0, new DeleteCallBack(), ctx); Thread.sleep(2000); // System.out.println(new String(zk.getData(\u0026#34;/imooc-create-node\u0026#34;, null, null))); } @Override public void process(WatchedEvent event) { } } DeleteCallBack.java\npackage com.imooc.zkjavaapi.callback; import org.apache.zookeeper.AsyncCallback; /** * Description: åˆ é™¤åä¼šè¿è¡Œçš„å†…å®¹ * Date 2021-07-22 16:42 * * @author Rex */ public class DeleteCallBack implements AsyncCallback.VoidCallback { @Override public void processResult(int rc, String path, Object ctx) { System.out.println(\u0026#34;åˆ é™¤èŠ‚ç‚¹\u0026#34; + rc); System.out.println((String) ctx); } } Watcher\npackage com.imooc.zkjavaapi; import org.apache.zookeeper.KeeperException; import org.apache.zookeeper.WatchedEvent; import org.apache.zookeeper.Watcher; import org.apache.zookeeper.ZooKeeper; import java.io.IOException; import java.util.concurrent.CountDownLatch; /** * Description: å’ŒèŠ‚ç‚¹ç›¸å…³ï¼šæ˜¯å¦å­˜åœ¨ï¼Œè·å–æ•°æ®ï¼ŒåŠ ä¸Šwatche * Date 2021-07-22 16:53 * * @author Rex */ public class ZKGetNode implements Watcher { /** * ZookeeperæœåŠ¡ç«¯åœ°å€ */ private static final String SERVER_PATH = \u0026#34;127.0.0.1:2181\u0026#34;; /** * è¶…æ—¶æ—¶é—´ */ private static final Integer TIME_OUT = 5000; private static CountDownLatch countDownLatch = new CountDownLatch(1); public static void main(String[] args) throws IOException, InterruptedException, KeeperException { /* * å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»–ä»¬æ˜¯å¼‚æ­¥è¿æ¥ï¼Œè¿æ¥æˆåŠŸåï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ°watcheré€šçŸ¥ * connectStringï¼šæœåŠ¡å™¨çš„IP+ç«¯å£å·ï¼Œæ¯”å¦‚ï¼š127.0.0.1:2181 * sessionTimeoutï¼šè¶…æ—¶æ—¶é—´ * watcherï¼šé€šçŸ¥äº‹ä»¶ */ ZooKeeper zk = new ZooKeeper(SERVER_PATH, TIME_OUT, new ZKGetNode()); System.out.println(\u0026#34;å®¢æˆ·ç«¯å¼€å§‹è¿æ¥zkæœåŠ¡å™¨äº†\u0026#34;); System.out.println(zk.getState()); Thread.sleep(2000); System.out.println(zk.getState()); // Stat exists = zk.exists(\u0026#34;/imooc\u0026#34;, false); // if (exists != null) { // System.out.println(\u0026#34;èŠ‚ç‚¹çš„ç‰ˆæœ¬ä¸ºï¼š\u0026#34; + exists.getVersion()); // }else{ // System.out.println(\u0026#34;è¯¥èŠ‚ç‚¹ä¸å­˜åœ¨\u0026#34;); // } zk.getData(\u0026#34;/imooc\u0026#34;, true, null); countDownLatch.await(); } @Override public void process(WatchedEvent event) { if (event.getType() == Event.EventType.NodeDataChanged){ System.out.println(\u0026#34;æ•°æ®è¢«æ”¹å˜\u0026#34;); countDownLatch.countDown(); } System.out.println(\u0026#34;æ”¶åˆ°äº†é€šçŸ¥ï¼š\u0026#34;+event); } } ç¼ºç‚¹ ä¸æ”¯æŒè¿æ¥è¶…æ—¶åçš„è‡ªåŠ¨é‡è¿ Watcheræ³¨å†Œä¸€æ¬¡åä¼šå¤±æ•ˆ ä¸æ”¯æŒé€’å½’åˆ›å»ºèŠ‚ç‚¹ Apache Curator è§£å†³äº†Watcheræ³¨å†Œä¸€æ¬¡åä¼šå¤±æ•ˆçš„é—®é¢˜\nAPIæ›´åŠ ç®€å•æ˜“ç”¨ï¼Œæä¾›äº†å·¥å…·ç±»\nä½¿ç”¨\nå¼•å…¥ä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.zookeeper\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;zookeeper\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.6.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.curator\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;curator-framework\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.12.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.curator\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;curator-recipes\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.12.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; package com.imooc.curator; import org.apache.curator.RetryPolicy; import org.apache.curator.framework.CuratorFramework; import org.apache.curator.framework.CuratorFrameworkFactory; import org.apache.curator.framework.api.CuratorEvent; import org.apache.curator.retry.ExponentialBackoffRetry; import org.apache.zookeeper.CreateMode; import org.apache.zookeeper.WatchedEvent; import org.apache.zookeeper.Watcher; import java.nio.charset.StandardCharsets; /** * Description: ç”¨Curatoræ¥æ“ä½œZK * Date 2021-07-22 17:13 * * @author Rex */ public class CuratorTests { public static void main(String[] args) throws Exception { String connectString = \u0026#34;127.0.0.1:2181\u0026#34;; String path = \u0026#34;/curator2\u0026#34;; String data = \u0026#34;test\u0026#34;; RetryPolicy retry = new ExponentialBackoffRetry(1000, 3); CuratorFramework client = CuratorFrameworkFactory.newClient(connectString, retry); client.start(); client.getCuratorListenable().addListener((CuratorFramework c , CuratorEvent event) -\u0026gt; { switch (event.getType()){ case WATCHED: WatchedEvent watchedEvent = event.getWatchedEvent(); if (watchedEvent.getType() == Watcher.Event.EventType.NodeDataChanged) { System.out.println(new String(c.getData().forPath(path))); break; } default: break; } }); client.create().withMode(CreateMode.PERSISTENT).forPath(path, data.getBytes(StandardCharsets.UTF_8)); byte[] bytes = client.getData().watched().forPath(path); System.out.println(new String(bytes)); client.setData().forPath(path, \u0026#34;test2\u0026#34;.getBytes(StandardCharsets.UTF_8)); client.delete().forPath(path); } } ","permalink":"https://rexhub.space/posts/back/java/microservices/zookeeper/","summary":"Zookeeper å®šä¹‰ï¼š Zookeeperï¼šA Distributed Coordination Service for Distributed Applications(\nZookeeperæ˜¯å¼€æºçš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼åº”ç”¨åè°ƒç³»ç»Ÿï¼Œä¸€ä¸ªé«˜æ€§èƒ½çš„åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ\n5å¤§ç‰¹ç‚¹ é¡ºåºä¸€è‡´æ€§ï¼šå‘å‡ºå»çš„é¡ºåº==æ‰§è¡Œçš„é¡ºåº åŸå­æ€§ï¼šè¯·æ±‚åŒæ­¥åˆ°å„ä¸ªèŠ‚ç‚¹è¦ä¹ˆéƒ½æˆæœè¦ä¹ˆéƒ½å¤±è´¥ å•ä¸€è§†å›¾ï¼šå¤šä¸ªèŠ‚ç‚¹æ— è®ºè¿å“ªä¸ªçœ‹çš„ä¸œè¥¿éƒ½æ˜¯ä¸€è‡´çš„ å¯é æ€§ï¼šç»™èŠ‚ç‚¹å†™äº†æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ä¼šä¸€ç›´ä¿ç•™ï¼Œç›´åˆ°æœ‰å¦å¤–çš„æ“ä½œæŠŠæ•°æ®å†™æ‰ï¼Œæ‰ä¼šå‘ç”Ÿå˜åŒ– åŠæ—¶æ€§ï¼šåœ¨ä¸€å®šçš„æ—¶é—´æ®µï¼ˆå¯æ¥å—çš„æ—¶é—´æ®µï¼‰å†…èƒ½ä»æœåŠ¡å™¨ä¸Šè¯»åˆ°æœ€æ–°çš„æ•°æ®çŠ¶æ€ æ¶æ„å›¾ã€é›†ç¾¤ã€å·¥ä½œè¿‡ç¨‹ Zookeeperå’ŒCAPçš„å…³ç³» CPï¼šä¸€è‡´æ€§+åˆ†åŒºå®¹é”™æ€§ èƒ½å¾—åˆ°ä¸€è‡´çš„æ•°æ®ç»“æœï¼ŒåŒæ—¶ç³»ç»Ÿå¯¹ç½‘ç»œå…·å¤‡å®¹é”™æ€§ ä½†æ˜¯å®ƒä¸èƒ½ä¿è¯æ¯æ¬¡æœåŠ¡è¯·æ±‚çš„å¯ç”¨æ€§ ä½œç”¨ åˆ†å¸ƒå¼æœåŠ¡æ³¨å†Œä¸è®¢é˜… ç»Ÿä¸€é…ç½®æ–‡ä»¶ ç”Ÿæˆåˆ†å¸ƒå¼å”¯ä¸€ID MasterèŠ‚ç‚¹é€‰ä¸¾ åˆ†å¸ƒå¼é” èŠ‚ç‚¹znode æ¨¡å‹-æ ‘ç»“æ„ èŠ‚ç‚¹æ€§è´¨ æ ‘å½¢ç»“æ„ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºlinuxçš„æ–‡ä»¶ç›®å½• æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯znodeï¼Œé‡Œé¢å¯ä»¥åŒ…å«æ•°æ®ï¼Œä¹Ÿå¯ä»¥æœ‰å­èŠ‚ç‚¹ ç‚¹åˆ†ä¸ºæ°¸ä¹…èŠ‚ç‚¹å’Œä¸´æ—¶èŠ‚ç‚¹(sessionå¤±æ•ˆï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯æ®µå‡¯åï¼Œä¸´æ—¶èŠ‚ç‚¹æ¶ˆå¤±) æ¯ä¸ªznodeéƒ½æœ‰ç‰ˆæœ¬å·ï¼Œæ¯å½“æ•°æ®å˜åŒ–ï¼Œç‰ˆæœ¬å·ä¼šç´¯åŠ ï¼ˆä¹è§‚é”ï¼‰ åˆ é™¤æˆ–ä¿®æ”¹èŠ‚ç‚¹ï¼Œç‰ˆæœ¬å·ä¸åŒ¹é…çš„è¯ï¼ˆç‰ˆæœ¬å·å·²è¿‡æ—¶ï¼‰ï¼Œä¼šæŠ¥é”™ æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®ä¸å®œè¿‡å¤§ï¼Œå‡ kå³å¯ èŠ‚ç‚¹å¯ä»¥è®¾ç½®æƒé™ï¼Œæ¥é™åˆ¶ç”¨æˆ·çš„è®¿é—® Zookeeperä¿è¯è¯»å’Œå†™éƒ½æ˜¯åŸå­æ“ä½œï¼Œä¸”æ¯æ¬¡è¯»å†™æ“ä½œéƒ½æ˜¯å¯¹æ•°æ®çš„å®Œæ•´è¯»å–æˆ–å®Œæ•´å†™å…¥ èŠ‚ç‚¹ç±»å‹ æŒä¹…èŠ‚ç‚¹ ä¸´æ—¶èŠ‚ç‚¹ é¡ºåºèŠ‚ç‚¹ èŠ‚ç‚¹å±æ€§ dataVersion æ•°æ®ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å¯¹å†…å®¹ä¿®æ”¹dataVersion+1 cversion å­èŠ‚ç‚¹ç‰ˆæœ¬å·ï¼Œå¦‚æœå­èŠ‚ç‚¹å†…å®¹å‘é€å˜åŒ–cversion+1 aclVersion acl-æƒé™æ§åˆ¶åˆ—è¡¨ï¼Œæƒé™å‘ç”Ÿå˜åŒ–çš„æ—¶å€™aclVersion+1 å¸¸ç”¨å‘½ä»¤ æŸ¥çœ‹èŠ‚ç‚¹ls æŸ¥çœ‹èŠ‚ç‚¹çš„æ•°æ®å’ŒçŠ¶æ€get åˆ›å»º(create [-s é¡ºåºèŠ‚ç‚¹] [-e ä¸´æ—¶èŠ‚ç‚¹])ã€ä¿®æ”¹(set)ã€åˆ é™¤(delete)èŠ‚ç‚¹ Watcheræœºåˆ¶ è§¦å‘å™¨ã€ç›‘ç£è€…\näº‹ä»¶ç±»å‹\nEventType è§¦å‘æ¡ä»¶ NodeCreatedï¼ˆèŠ‚ç‚¹åˆ›å»ºï¼‰ Watcherç›‘å¬çš„å¯¹åº”æ•°æ®èŠ‚ç‚¹è¢«åˆ›å»º NodeDeletedï¼ˆèŠ‚ç‚¹åˆ é™¤ï¼‰ Watcherç›‘å¬çš„å¯¹åº”æ•°æ®èŠ‚ç‚¹è¢«åˆ é™¤ NodeDataChangedï¼ˆèŠ‚ç‚¹æ•°æ®ä¿®æ”¹ï¼‰ Watcherç›‘å¬çš„å¯¹åº”æ•°æ®èŠ‚ç‚¹çš„æ•°æ®å†…å®¹å‘é€å˜æ›´ NodeChildrenChangedï¼ˆå­èŠ‚ç‚¹å˜æ›´ï¼‰ Watcherç›‘å¬çš„å¯¹åº”æ•°æ®èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ—è¡¨å‘é€å˜æ›´ ACL access control list æƒé™æ§åˆ¶ å®ƒä½¿ç”¨æƒé™ä½æ¥å…è®¸/ç¦æ­¢å¯¹èŠ‚ç‚¹æå…¶æ‰€ç”¨åŸŸçš„å„ç§æ“ä½œ ACLä»…ä¸ç‰¹ç‚¹çš„znodeæœ‰å…³ï¼Œä¸å­èŠ‚ç‚¹æ— å…³ Schema ACL:[schemaé‡‡ç”¨çš„æƒé™æœºåˆ¶: idç”¨æˆ·:permissionsæƒé™ç»„åˆå­—ç¬¦ä¸²] world id: anyone auth éœ€è¦è®¾å®šå¯¹åº”çš„ç”¨æˆ·å’Œå¯†ç ï¼ˆæ˜æ–‡ï¼‰ digest åŒauthï¼Œä¸åŒçš„æ˜¯åŠ å¯†ä½¿ç”¨å¯†æ–‡ ip æŒ‡å®šip super è¶…çº§æƒé™ æƒé™å­—ç¬¦ä¸²crdwa Created åˆ›å»ºå­èŠ‚ç‚¹çš„æƒé™ Read è¯» Delete åˆ é™¤å­èŠ‚ç‚¹çš„æƒé™ Write å†™ Admin æœ€é«˜æƒé™ ä½¿ç”¨æƒé™ åŒºåˆ†å¼€å‘/æµ‹è¯•/è¿ç»´ç¯å¢ƒï¼Œé˜²æ­¢è¯¯æ“ä½œ å¯ä»¥é’ˆå¯¹ä¸åŒIPè€Œäº§ç”Ÿå…·ä½“çš„é…ç½®ï¼Œæ›´å®‰å…¨ ä»£ç  javaåŸç”Ÿ å¯¼å…¥ä¾èµ–","title":"Zookeeper"},{"content":"Dubbo å…³äºDubbo è½»é‡çº§ï¼Œé«˜æ€§èƒ½çš„RPCæ¡†æ¶ å¹¶ä¸æ˜¯è¦æˆä¸ºä¸€ä¸ªå¾®æœåŠ¡çš„å…¨é¢è§£å†³å‘éš¾ ä»¥Javaè¯­è¨€è€Œå‡ºå Dubboç°çŠ¶ å…¨ç§°æ˜¯Apache Dubbo å¾®åº—ï¼Œç½‘æ˜“äº‘éŸ³ä¹ï¼Œè€ƒæ‹‰ï¼Œæ»´æ»´ï¼Œä¸­å›½ç”µä¿¡ï¼Œäººå¯¿ staræœ‰30k+ä¸ªï¼Œforkæœ‰20k+ä¸ª RPC RPC\u0026mdash;\u0026ndash;è¿œç¨‹è¿‡ç¨‹è°ƒç”¨\næ—©æœŸå•æœºæ—¶ä»£ï¼šIPCï¼ˆInter-Process Communicationï¼‰\nå•ä¸ªç”µè„‘è¿è¡Œçš„å„ä¸ªè¿›ç¨‹ä¹‹é—´ç›¸äº’é€šä¿¡\nç½‘ç»œæ—¶ä»£ï¼šæŠŠIPCæ‰©å±•åˆ°ç½‘ç»œä¸Šï¼Œè¿™å°±æ˜¯RPC\nå®ç°RPCå¾ˆå¤´ç–¼ï¼Œäºæ˜¯å°±æœ‰äº†RPCæ¡†æ¶\nè°ƒç”¨å…¶ä»–æœºå™¨ä¸Šçš„ç¨‹åºå’Œè°ƒç”¨æœ¬åœ°çš„ç¨‹åºä¸€æ ·æ–¹ä¾¿\nå¸¸è§çš„RPCæ¡†æ¶ é˜¿é‡Œçš„Dubboï¼ˆæ€§èƒ½å¥½ï¼‰ æ–°æµªçš„Montanï¼ˆè½»é‡çº§ï¼Œé¡¹ç›®æ¶æ„å¤æ‚åº¦ä½ï¼Œé€‚åˆRPCæºç å­¦ä¹ ï¼‰ Facebookçš„Thrift ï¼ˆå¯ä¼¸ç¼©çš„è·¨è¯­è¨€æ¡†æ¶ï¼Œæœ‰å¾ˆå¼ºçš„ä»£ç ç”Ÿæˆè¯­è¨€ï¼‰ HTTPå’ŒRPCå¯¹æ¯” æ™®é€šè¯ï¼ˆHTTPï¼Œè§„èŒƒ\u0026ndash;æ•ˆç‡ä½ï¼‰å’Œæ–¹è¨€ï¼ˆRPCï¼Œä¼ è¾“æ•ˆç‡å’Œè¿è¡Œé€Ÿåº¦æ›´é«˜ï¼‰ï¼Œæ™®é€šè¯æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§æ–¹è¨€ï¼Œåªä¸è¿‡å®ƒæ˜¯å®˜æ–¹çš„æ–¹è¨€ ä¼ è¾“æ•ˆç‡ï¼šRPCå¯ä»¥è‡ªå·±å®šåˆ¶ï¼Œé€šè¿‡å®šåˆ¶è‡ªå·±çš„è¯·æ±‚ï¼Œè®©æ•´ä½“ä¼ è¾“çš„å†…å®¹æ›´å°‘ï¼Œè¿™æ ·çš„æ•ˆç‡æ›´é«˜ï¼Œè€ŒHTTPä¼šä¼ è¾“ä¸€äº›æ— ç”¨çš„å†…å®¹ æ€§èƒ½æ¶ˆè€—ï¼Œä¸»è¦åœ¨äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è€—æ—¶ï¼šRPCå¯ä»¥å®ç°é«˜æ•ˆçš„äºŒè¿›åˆ¶ä¼ è¾“ï¼ŒHTTPå¤§éƒ¨åˆ†è¦é€šè¿‡JSONæ ¼å¼æ¥ä¼ è¾“ è´Ÿè½½å‡è¡¡ï¼šRPCè‡ªå¸¦è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ŒHTTPéœ€è¦å€ŸåŠ©å…¶ä»–çš„ç»„ä»¶ï¼Œå¦‚Nginx Dubboå·¥ä½œåŸç† æ¨¡å— è¯´æ˜ Provider æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ Consumer è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ Registry æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ Monitor ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ Container æœåŠ¡è¿è¡Œå®¹å™¨ æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€… æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€… ä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ å®šæœŸå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒ ","permalink":"https://rexhub.space/posts/back/java/microservices/dubbo%E5%9F%BA%E7%A1%80/","summary":"Dubbo å…³äºDubbo è½»é‡çº§ï¼Œé«˜æ€§èƒ½çš„RPCæ¡†æ¶ å¹¶ä¸æ˜¯è¦æˆä¸ºä¸€ä¸ªå¾®æœåŠ¡çš„å…¨é¢è§£å†³å‘éš¾ ä»¥Javaè¯­è¨€è€Œå‡ºå Dubboç°çŠ¶ å…¨ç§°æ˜¯Apache Dubbo å¾®åº—ï¼Œç½‘æ˜“äº‘éŸ³ä¹ï¼Œè€ƒæ‹‰ï¼Œæ»´æ»´ï¼Œä¸­å›½ç”µä¿¡ï¼Œäººå¯¿ staræœ‰30k+ä¸ªï¼Œforkæœ‰20k+ä¸ª RPC RPC\u0026mdash;\u0026ndash;è¿œç¨‹è¿‡ç¨‹è°ƒç”¨\næ—©æœŸå•æœºæ—¶ä»£ï¼šIPCï¼ˆInter-Process Communicationï¼‰\nå•ä¸ªç”µè„‘è¿è¡Œçš„å„ä¸ªè¿›ç¨‹ä¹‹é—´ç›¸äº’é€šä¿¡\nç½‘ç»œæ—¶ä»£ï¼šæŠŠIPCæ‰©å±•åˆ°ç½‘ç»œä¸Šï¼Œè¿™å°±æ˜¯RPC\nå®ç°RPCå¾ˆå¤´ç–¼ï¼Œäºæ˜¯å°±æœ‰äº†RPCæ¡†æ¶\nè°ƒç”¨å…¶ä»–æœºå™¨ä¸Šçš„ç¨‹åºå’Œè°ƒç”¨æœ¬åœ°çš„ç¨‹åºä¸€æ ·æ–¹ä¾¿\nå¸¸è§çš„RPCæ¡†æ¶ é˜¿é‡Œçš„Dubboï¼ˆæ€§èƒ½å¥½ï¼‰ æ–°æµªçš„Montanï¼ˆè½»é‡çº§ï¼Œé¡¹ç›®æ¶æ„å¤æ‚åº¦ä½ï¼Œé€‚åˆRPCæºç å­¦ä¹ ï¼‰ Facebookçš„Thrift ï¼ˆå¯ä¼¸ç¼©çš„è·¨è¯­è¨€æ¡†æ¶ï¼Œæœ‰å¾ˆå¼ºçš„ä»£ç ç”Ÿæˆè¯­è¨€ï¼‰ HTTPå’ŒRPCå¯¹æ¯” æ™®é€šè¯ï¼ˆHTTPï¼Œè§„èŒƒ\u0026ndash;æ•ˆç‡ä½ï¼‰å’Œæ–¹è¨€ï¼ˆRPCï¼Œä¼ è¾“æ•ˆç‡å’Œè¿è¡Œé€Ÿåº¦æ›´é«˜ï¼‰ï¼Œæ™®é€šè¯æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§æ–¹è¨€ï¼Œåªä¸è¿‡å®ƒæ˜¯å®˜æ–¹çš„æ–¹è¨€ ä¼ è¾“æ•ˆç‡ï¼šRPCå¯ä»¥è‡ªå·±å®šåˆ¶ï¼Œé€šè¿‡å®šåˆ¶è‡ªå·±çš„è¯·æ±‚ï¼Œè®©æ•´ä½“ä¼ è¾“çš„å†…å®¹æ›´å°‘ï¼Œè¿™æ ·çš„æ•ˆç‡æ›´é«˜ï¼Œè€ŒHTTPä¼šä¼ è¾“ä¸€äº›æ— ç”¨çš„å†…å®¹ æ€§èƒ½æ¶ˆè€—ï¼Œä¸»è¦åœ¨äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è€—æ—¶ï¼šRPCå¯ä»¥å®ç°é«˜æ•ˆçš„äºŒè¿›åˆ¶ä¼ è¾“ï¼ŒHTTPå¤§éƒ¨åˆ†è¦é€šè¿‡JSONæ ¼å¼æ¥ä¼ è¾“ è´Ÿè½½å‡è¡¡ï¼šRPCè‡ªå¸¦è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ŒHTTPéœ€è¦å€ŸåŠ©å…¶ä»–çš„ç»„ä»¶ï¼Œå¦‚Nginx Dubboå·¥ä½œåŸç† æ¨¡å— è¯´æ˜ Provider æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ Consumer è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ Registry æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ Monitor ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ Container æœåŠ¡è¿è¡Œå®¹å™¨ æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€… æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€… ä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ å®šæœŸå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒ ","title":"DubboåŸºç¡€"},{"content":"MongoDB ç®€ä»‹ï¼š MongoDBæ˜¯ä¸ºå¿«é€Ÿå¼€å‘äº’è”ç½‘Webåº”ç”¨è€Œè®¾è®¡çš„æ•°æ®åº“ç³»ç»Ÿã€‚ MongoDBçš„è®¾è®¸ç›®æ ‡æ˜¯æç®€ã€çµæ´»ã€ä½œä¸ºWebåº”ç”¨æ ˆçš„ä¸€éƒ¨åˆ†ã€‚ MongoDBçš„æ•°æ®æ¨¡å‹æ˜¯é¢å‘æ–‡æ¡£çš„,æ‰€è°“æ–‡æ¡£æ˜¯- - -ç§ç±»ä¼¼äºJSONçš„ç»“æ„,ç®€å•ç†è§£MongoDBè¿™ä¸ªæ•°æ®åº“ä¸­å­˜çš„æ˜¯å„ç§å„æ ·çš„JSONã€‚ ( BSON ) ä¸‰ä¸ªæ¦‚å¿µ æ•°æ®åº“( database )\næ•°æ®åº“æ˜¯-ä¸ªä»“åº“,åœ¨ä»“åº“ä¸­å¯ä»¥å­˜æ”¾é›†åˆã€‚\né›†åˆ( collection )\né›†åˆç±»ä¼¼äºæ•°ç»„,åœ¨é›†åˆä¸­å¯ä»¥å­˜æ”¾æ–‡æ¡£ã€‚\næ–‡æ¡£( dotument )\næ–‡æ¡£æ•°æ®åº“ä¸­çš„æœ€å°å•ä½,æˆ‘ä»¬å­˜å‚¨å’Œæ“ä½œçš„ å†…å®¹éƒ½æ˜¯æ–‡æ¡£ã€‚\nåŸºæœ¬æŒ‡ä»¤ show dbs\næ˜¾ç¤ºå½“å‰çš„æ‰€æœ‰æ•°æ®åº“\nuse æ•°æ®åº“å\nè¿›å…¥æŒ‡å®šçš„æ•°æ®åº“ä¸­\ndb\næ˜¾ç¤ºå½“å‰æ‰€å¤„çš„æ•°æ®åº“\nshow collections\næ˜¾ç¤ºæ•°æ®åº“ä¸­æ‰€æœ‰çš„é›†åˆ\ndb.\u0026lt;collection\u0026gt;.insert(doc)\nå‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£\ndb.\u0026lt;collections\u0026gt;.find()\næŸ¥çœ‹æ•°æ®åº“å­—æ®µ\næ’å…¥æ–‡æ¡£ /* å‘æ•°æ®åº“æ’å…¥æ–‡æ¡£\tdb.\u0026lt;collection\u0026gt;.insert( \u0026lt;document or array of documents\u0026gt;ï¼Œ { wirteConcern: \u0026lt;document\u0026gt;, ordered: \u0026lt;boolean\u0026gt; } ) documents: å¿…å¡«ï¼Œè¡¨ç¤ºéœ€è¦æ’å…¥çš„æ–‡æ¡£ï¼Œå¯ä»¥æ˜¯å¤šä¸ªæ–‡æ¡£ writeConcernï¼šå¯é€‰é¡¹ï¼Œå†™ç­–ç•¥ orderedï¼šå¯é€‰ï¼Œè¡¨ç¤ºå¤šä¸ªæ–‡æ¡£æ˜¯å¦æŒ‰ç…§æ–‡æ¡£é¡ºåºå†™å…¥ -- å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ -- å½“æˆ‘ä»¬å‘é›†åˆä¸­æ’å…¥æ–‡æ¡£æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»™æ–‡æ¡£æŒ‡å®š_idå±æ€§ï¼Œåˆ™æ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºæ–‡æ¡£æ·»åŠ _idï¼Œ è¯¥å±æ€§ç”¨æ¥ä½œä¸ºæ–‡æ¡£çš„å”¯ä¸€æ ‡è¯† -- _idå¯ä»¥è‡ªå·±æŒ‡å®šï¼Œå¦‚æœæŒ‡å®šäº†æ•°æ®åº“å°±ä¸ä¼šå†æ·»åŠ äº†ï¼Œå¦‚æœè‡ªå·±æŒ‡å®š_idï¼Œä¹Ÿå¿…é¡»ç¡®ä¿ä»–çš„å”¯ä¸€æ€§ db.collection.insertOne() -- æ’å…¥ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡ db.collection.insertMany() -- æ’å…¥å¤šä¸ªæ–‡æ¡£å¯¹è±¡ */ db.stus.insert({name: \u0026#34;zhubajie\u0026#34;, age: 28, gender:\u0026#34;ç”·\u0026#34;}) db.stus.insert([ {name: \u0026#34;shasen\u0026#34;, age: 38, gender:\u0026#34;ç”·\u0026#34;}, {name: \u0026#34;baigujing\u0026#34;, age: 16, gender:\u0026#34;å¥³\u0026#34;}, {name: \u0026#34;zhizhujing\u0026#34;, age: 14, gender:\u0026#34;å¥³\u0026#34;} ]) æŸ¥è¯¢æ–‡æ¡£ æŸ¥è¯¢é€‰æ‹©å™¨ è¿ç®—ç¬¦ç±»å‹ è¿ç®—ç¬¦ è¿ç®—ç¬¦å«ä¹‰ \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash; $eq ç­‰äº $lt å°äº æ¯” $lte å°äºç­‰äº $gt å¤§äº $gte å¤§äºç­‰äº è¾ƒ $in åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨æŒ‡å®šçš„é›†åˆèŒƒå›´é‡Œ $all åˆ¤æ–­å…ƒç´ æ˜¯å¦ä¸åœ¨æŒ‡å®šçš„é›†åˆèŒƒå›´é‡Œ $nin åˆ¤æ–­å…ƒç´ æ˜¯å¦ä¸åœ¨æŒ‡å®šçš„èŒƒå›´é‡Œ \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash; $ne ä¸ç­‰äº \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash; $not ä¸åŒ¹é…ç»“æœ é€»è¾‘ $or æœ‰ä¸€ä¸ªæ¡ä»¶æˆç«‹åˆ™åŒ¹é… $nor æ‰€æœ‰æ¡ä»¶éƒ½å¿…é¡»åŒ¹é… è¿ç®— $and æ‰€æœ‰æ¡ä»¶éƒ½å¿…é¡»åŒ¹é… \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash; $exists åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ å…¶ . å­æ–‡æ¡£åŒ¹é… ä»– $regex æ­£åˆ™è¡¨è¾¾å¼ ä¸€èˆ¬æŸ¥è¯¢ /* æŸ¥è¯¢ db.collection.find() -- find()ç”¨æ¥æŸ¥è¯¢æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ -- find()å¯ä»¥æ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ¡ä»¶å‚æ•° {} è¡¨ç¤ºæŸ¥è¯¢é›†åˆä¸­æ‰€æœ‰çš„æ–‡æ¡£ {å±æ€§ï¼šå€¼} æŸ¥è¯¢å±æ€§æ˜¯æŒ‡å®šçš„æ–‡æ¡£ -- find() è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„ db.collection.findOne() -- ç”¨æ¥æŸ¥è¯¢é›†åˆä¸­ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£ -- findOne() è¿”å›çš„æ˜¯ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡ db.collection.find({}).count() -- æŸ¥è¯¢æ‰€æœ‰ç»“æœçš„æ•°é‡ */ db.stus.insert({_id:\u0026#34;hello\u0026#34;, name:\u0026#34;zhubajie\u0026#34;, age:28, gender:\u0026#34;ç”·\u0026#34;}) db.stus.find({age:28}) db.stus.findOne({age:28}).name db.stus.find({}).count() æŸ¥è¯¢å…¶ä»–æ¡ä»¶ æ˜ å°„ å­—æ®µé€‰æ‹©ï¼šdb.inventory.find({}, {\u0026lsquo;item\u0026rsquo;: 1}) å­—æ®µæ’é™¤ï¼šdb.inventory.find({}, {\u0026lsquo;item\u0026rsquo;: 0}) æ•°ç»„å­å…ƒç´ é€‰æ‹©ï¼š db.inventory.find({}, {\u0026lsquo;favorites.movies\u0026rsquo;: {\u0026rsquo;$slice\u0026rsquo;: [1, 2]}, \u0026lsquo;favorites.cites\u0026rsquo;: 1}), $sliceå¯ä»¥å–ä¿©ä¸ªå…ƒç´ æ•°ç»„ï¼Œåˆ†åˆ«è¡¨ç¤ºè·³è¿‡å’Œé™åˆ¶çš„æ¡æ•° æ’åº sort(): db.orders.find().sort({\u0026lsquo;orderTime\u0026rsquo;: 1, \u0026lsquo;price\u0026rsquo;: 1}) 1: å‡åº 2: é™åº è·³è¿‡å’Œé™åˆ¶ skip(n):è·³è¿‡næ¡æ•°æ®\nlimit(n):é™åˆ¶næ¡æ•°æ®\ne.gï¼šorders.find().sort({\u0026lsquo;orderTime\u0026rsquo;: -1}).limit(5).skip(5)\næŸ¥è¯¢å”¯ä¸€å€¼ distinct()ï¼šæŸ¥è¯¢æŒ‡å®šå­—æ®µçš„å”¯ä¸€å€¼\ne.gï¼šdb.users.distinct(\u0026ldquo;age\u0026rdquo;)\nèšåˆæŸ¥è¯¢ æˆ‘ä»¬åœ¨æŸ¥è¯¢æ—¶è‚¯å®šå›ç”¨åˆ°èšåˆï¼Œåœ¨MongoDBä¸­èšåˆä¸ºaggregateï¼Œèšåˆå‡½æ•°ä¸»è¦ç”¨åˆ°$matchï¼Œ$groupï¼Œ$avgï¼Œ$projectï¼Œ$concatï¼Œå¯ä»¥åŠ \u0026quot;$match\u0026quot;ä¹Ÿå¯ä»¥ä¸åŠ $match\nè¡¨è¾¾å¼ æè¿° $sum è®¡ç®—æ€»å’Œ $avg è®¡ç®—å¹³å‡å€¼ $min è·å–é›†åˆä¸­æ‰€æœ‰æ–‡æ¡£å¯¹åº”å€¼çš„æœ€å°å€¼ $max è·å–é›†åˆä¸­æ‰€æœ‰æ–‡æ¡£å¯¹åº”å€¼çš„æœ€å¤§å€¼ $push åœ¨ç»“æœæ–‡æ¡£ä¸­æ’å…¥å€¼åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ $addToSet åœ¨æ–‡æ¡£ä¸­æ’å…¥å€¼åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä½†ä¸åˆ›å»ºå‰¯æœ¬ã€‚ $first æ ¹æ®èµ„æºæ–‡æ¡£çš„æ’åºè·å–ç¬¬ä¸€ä¸ªæ–‡æ¡£æ•°æ®ã€‚ $last æ ¹æ®èµ„æºæ–‡æ¡£çš„æ’åºè·å–æœ€åä¸€ä¸ªæ–‡æ¡£æ•°æ®ã€‚ Aggregateè¯­æ³• åŸºæœ¬æ ¼å¼ï¼š db.collection.aggregate(pipeline, options)\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•° ç±»å‹ æè¿° pipeline array ä¸€ç³»åˆ—æ•°æ®èšåˆæ“ä½œæˆ–é˜¶æ®µã€‚åœ¨ç‰ˆæœ¬2.6ä¸­æ›´æ”¹ï¼šè¯¥æ–¹æ³•ä»ç„¶å¯ä»¥å°†æµæ°´çº¿é˜¶æ®µä½œä¸ºå•ç‹¬çš„å‚æ•°æ¥å—ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ•°ç»„ä¸­çš„å…ƒç´ ï¼›ä½†æ˜¯å¦‚æœä¸å°†ç®¡é“æŒ‡å®šä¸ºæ•°ç»„ï¼Œåˆ™ä¸èƒ½æŒ‡å®šoptionså‚æ•°ã€‚ options document å¯é€‰ã€‚aggregate()ä¼ é€’ç»™èšåˆå‘½ä»¤çš„å…¶ä»–é€‰é¡¹ã€‚2.6ç‰ˆä¸­çš„æ–°å¢åŠŸèƒ½ï¼šä»…å½“å°†ç®¡é“æŒ‡å®šä¸ºæ•°ç»„æ—¶æ‰å¯ç”¨ $matchå’Œ$group ç›¸å½“äºsqlä¸­çš„whereå’Œgroup by\n{\u0026quot;$match\u0026quot;: {\u0026ldquo;å­—æ®µ\u0026rdquo;: \u0026ldquo;æ¡ä»¶\u0026rdquo;}}ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•å¸¸ç”¨æŸ¥è¯¢æ“ä½œç¬¦$gtï¼Œ$ltï¼Œ$inç­‰\n{\u0026quot;$group\u0026quot;ï¼š{\u0026quot;_id\u0026quot;: åˆ†ç»„å­—æ®µ, \u0026ldquo;æ–°çš„å­—æ®µå\u0026rdquo;: \u0026ldquo;èšåˆæ“ä½œç¬¦\u0026rdquo;}}\nå°†åˆ†ç»„å­—æ®µä¼ ç»™$groupå‡½æ•°çš„_idå­—æ®µå³å¯ åˆ†ç»„åèšåˆå¾—åˆ°ç»“æœï¼Œç±»ä¼¼äºsqlä¸­èšåˆå‡½æ•°çš„èšåˆæ“ä½œç¬¦ï¼š$sumã€$avgã€$maxã€$minã€$firstã€$last # {\u0026#34;$match\u0026#34;: {\u0026#34;å­—æ®µ\u0026#34;: \u0026#34;æ¡ä»¶\u0026#34;}}ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•å¸¸ç”¨æŸ¥è¯¢æ“ä½œç¬¦$gt, $lt, $inç­‰ # select _id job, avg(sal) avg_salary from db.emp where depno=30 group by job; db.emp.aggregate([ {\u0026#34;$match\u0026#34;: {\u0026#34;depno\u0026#34;: {\u0026#34;$eq\u0026#34;: 30}}}, {\u0026#34;$group\u0026#34;: {\u0026#34;_id\u0026#34;: \u0026#34;$job\u0026#34;, \u0026#34;avg_salary\u0026#34;: {\u0026#34;$avg\u0026#34;: \u0026#34;$sal\u0026#34;}}} ]) # select _id job, avg(sal) avg_salary from db.emp where depno=30 group by job having avg_salary \u0026gt; 2000; db.emp.aggregate([ {\u0026#34;$match\u0026#34;: {\u0026#34;depno\u0026#34;: {\u0026#34;$eq\u0026#34;: 30}}}, {\u0026#34;$group\u0026#34;: {\u0026#34;_id\u0026#34;: \u0026#34;$job\u0026#34;, \u0026#34;avg_salary\u0026#34;: {\u0026#34;$avg\u0026#34;: \u0026#34;$sal\u0026#34;}}}, {\u0026#34;$match\u0026#34;: {\u0026#34;avg_salary\u0026#34;: {\u0026#34;$gt\u0026#34;: 2000}}} ]) $project ç”¨äºæŠ•å°„ï¼Œå³è®¾å®šè¯¥é”®å€¼å¯¹æ˜¯å¦ä¿ç•™ã€‚1ä¸ºä¿ç•™ï¼Œ0ä¸ºä¸ä¿ç•™ï¼Œå¯å¯¹åŸæœ‰é”®å€¼å¯¹åšæ“ä½œåå¢åŠ è‡ªå®šä¹‰è¡¨è¾¾å¼(æŸ¥è¯¢å“ªäº›è¦æ˜¾ç¤ºçš„åˆ—)\n{\u0026#34;$project\u0026#34;: {\u0026#34;è¦ä¿ç•™çš„å­—æ®µå\u0026#34;: 1, \u0026#34;è¦å»æ‰çš„å­—æ®µå\u0026#34;: 1, \u0026#34;æ–°å¢çš„å­—æ®µå\u0026#34;: \u0026#34;è¡¨è¾¾å¼\u0026#34;}} db.emp.aggregate() # select ename, job, (sal+400) as new_sal from db.emp; db.emp.aggregate([{ $project: { \u0026#34;ename\u0026#34;: 1, \u0026#34;job\u0026#34;: 1, \u0026#34;new_sal\u0026#34;: { \u0026#34;$add\u0026#34;: [\u0026#34;$sal\u0026#34;, 400] } } }]) $sortå’Œ$limitå’Œ$skip æ’åºï¼š{\u0026quot;$sort\u0026quot;: {\u0026ldquo;å­—æ®µå\u0026rdquo;: 1, â€œå­—æ®µåâ€: -1}} #1å‡åºï¼Œ-1é™åº\né™åˆ¶ï¼š{\u0026quot;$limit\u0026quot;: n}\nè·³è¿‡ï¼š{\u0026quot;$skip\u0026quot;: n} #è·³è¿‡å¤šå°‘ä¸ªæ–‡æ¡£\n# ä¾‹1ã€å–å¹³å‡å·¥èµ„æœ€é«˜çš„å‰ä¸¤ä¸ªå·¥ä½œ db.emp.aggregate([ { \u0026#34;$group\u0026#34;: {\u0026#34;_id\u0026#34;: \u0026#34;$job\u0026#34;, \u0026#34;avg_sal\u0026#34;: {\u0026#34;$avg\u0026#34;: \u0026#34;$sal\u0026#34;}} }, { \u0026#34;$sort\u0026#34;: {\u0026#34;avg_sal\u0026#34;: -1} }, { \u0026#34;$limit\u0026#34;: 2 } ]) # ä¾‹2ã€å–å¹³å‡å·¥èµ„æœ€é«˜çš„ç¬¬äºŒä¸ªéƒ¨é—¨ db.emp.aggregate([ { \u0026#34;$group\u0026#34;: {\u0026#34;_id\u0026#34;: \u0026#34;$job\u0026#34;, \u0026#34;avg_sal\u0026#34;: {\u0026#34;$avg\u0026#34;: \u0026#34;$sal\u0026#34;}} }, { \u0026#34;$sort\u0026#34;: {\u0026#34;avg_sal\u0026#34;: -1} }, { \u0026#34;$skip\u0026#34;:1 }, { \u0026#34;$limit\u0026#34;: 1 } ]) $sample éšæœºé€‰å–nä¸ªï¼š$sample\ndb.emp.aggregate([ {\u0026#34;$sample\u0026#34;: {size: 3}} ]) ä¿®æ”¹æ–‡æ¡£ /* ä¿®æ”¹ db.collection.update(æŸ¥è¯¢æ¡ä»¶ï¼Œæ–°å¯¹è±¡) - update()é»˜è®¤æƒ…å†µä¸‹ä¼šä½¿ç”¨æ–°å¯¹è±¡æ¥æ›¿æ¢æ—§å¯¹è±¡(æ—§ç‰ˆæœ¬) - update()æ—§ç‰ˆæœ¬æ–°å¯¹è±¡ä¸å†™å…¨æˆ–æ˜¯ä¸ç”¨$setï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šæŠ¥é”™ (Invalid key \u0026#39;age\u0026#39;: update only works with $ operators and pipelines) - å¦‚æœéœ€è¦ä¿®æ”¹æŒ‡å®šçš„å±æ€§ï¼Œè€Œä¸æ˜¯æ›¿æ¢éœ€è¦ä½¿ç”¨\u0026#34;ä¿®æ”¹æ“ä½œç¬¦\u0026#34;æ¥å®Œæˆä¿®æ”¹ $set å¯ä»¥ç”¨æ¥ä¿®æ”¹æ–‡æ¡£ä¸­çš„æŒ‡å®šå±æ€§ $unset å¯ä»¥ç”¨æ¥åˆ é™¤æ–‡æ¡£ä¸­çš„æŒ‡å®šå±æ€§ - update()é»˜è®¤åªä¿®æ”¹ä¸€ä¸ª db.collection.updateMany() - åŒæ—¶ä¿®æ”¹å¤šä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collection.updateOne() - ä¿®æ”¹ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ */ db.stus.find() // æ›¿æ¢ db.stus.update({name:\u0026#34;shasen\u0026#34;}, {age: 28}) db.stus.update({name:\u0026#34;shasen\u0026#34;}, {$set: {age: 28}}) db.stus.update({_id: ObjectId(\u0026#34;60da92e09e15000095005504\u0026#34;)},{$set: {name:\u0026#34;shaheshang\u0026#34;}}) db.stus.find({_id: ObjectId(\u0026#34;60da92e09e15000095005504\u0026#34;)}) db.stus.update({_id: ObjectId(\u0026#34;60da92e09e15000095005504\u0026#34;)},{ $set: { gender: \u0026#34;ç”·\u0026#34;, address: \u0026#34;æµæ²™æ²³\u0026#34; } }) db.stus.update({_id: ObjectId(\u0026#34;60da92e09e15000095005504\u0026#34;)},{ $unset: { address:1 } }) db.stus.updateMany( {name: \u0026#34;zhubajie\u0026#34;}, { $set: { address:\u0026#34;zhulaozhuang\u0026#34; } } ) db.stus.update( {name: \u0026#34;zhubajie\u0026#34;}, { $set: { address:\u0026#34;zhulaozhuang\u0026#34; } } ) db.stus.update( {name: \u0026#34;zhubajie\u0026#34;}, { $set: { address:\u0026#34;hehehe\u0026#34; } }, { multi: true } ) db.stus.find() åˆ é™¤æ–‡æ¡£ /* åˆ é™¤ db.collection.remove() -- åˆ é™¤ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰æ–‡æ¡£(é»˜è®¤æƒ…å†µä¸‹ä¼šåˆ é™¤å¤šä¸ª) å¦‚æœremove()ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ä¸€ä¸ªtrueï¼Œåˆ™åªä¼šåˆ é™¤ä¸€ä¸ª -- å¦‚æœå€¼ä¼ é€’ä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œåˆ™ä¼šåˆ é™¤ç»“åˆä¸­çš„æ‰€æœ‰æ–‡æ¡£\tdb.collection.deleteOne() db.collection.deleteMany() -- remove()å¯ä»¥æ ¹æ®æ¡ä»¶æ¥åˆ é™¤æ–‡æ¡£ï¼Œä¼ é€’çš„æ¡ä»¶æ–¹å¼å’Œfind()ä¸€æ · db.collection.drop(); -- åˆ é™¤é›†åˆ db.dropDatabase() åˆ é™¤æ•°æ®åº“ -- æ•°æ®åº“ä¸­çš„æ•°æ®éƒ½å¹¶ä¸ä¼šåˆ é™¤ï¼Œæ‰€ä»¥åˆ é™¤çš„æ–¹æ³•å¾ˆå°‘è°ƒç”¨ ä¸€èˆ¬ä¼šåœ¨æ•°æ®ä¸­æ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œæ¥è¡¨ç¤ºæ•°æ®æ˜¯å¦è¢«åˆ é™¤ */ db.stus.remove({_id: \u0026#34;hello\u0026#34;}) db.stus.find() db.stus.insert([{age: 28}, {age: 28}]) db.stus.remove({age: 28}, true) // æ¸…ç©ºé›†åˆ(æ€§èƒ½ç•¥å·®) db.stus.remove({}) show collections; db.stus.drop() show dbs; db.dropDatabase(); æ–‡æ¡£å…³ç³» /* æ–‡æ¡£ä¹‹é—´çš„å…³ç³» ä¸€å¯¹ä¸€(one to one) -- å¤«å¦»(ä¸€ä¸ªä¸ˆå¤« å¯¹åº” ä¸€ä¸ªå¦»å­) -- åœ¨MongoDBï¼Œå¯ä»¥é€šè¿‡å†…åµŒæ–‡æ¡£çš„å½¢å¼æ¥ä½“ç°å‡ºä¸€å¯¹ä¸€çš„å…³ç³» ä¸€å¯¹å¤š(one to many) / å¤šå¯¹ä¸€(many to one) -- çˆ¶æ¯ - å­©å­ ç”¨æˆ· - è®¢å• æ–‡ç«  - è¯„è®º - ä¹Ÿå¯ä»¥é€šè¿‡å†…åµŒæ–‡æ¡£æ¥æ˜ å°„ä¸€å¯¹å¤šçš„å…³ç³» å¤šå¯¹å¤š(many to many) -- åˆ†ç±» - å•†å“ è€å¸ˆ - å­¦ç”Ÿ */ db.wifeAndHusband.insert([ { name: \u0026#34;é»„è“‰\u0026#34;, husband: { name: \u0026#34;éƒ­é–\u0026#34; } },{ name: \u0026#34;æ½˜é‡‘è²\u0026#34;, husband: { name: \u0026#34;æ­¦å¤§éƒ\u0026#34; } } ]); db.wifeAndHusband.find() // ä¸€å¯¹å¤š ç”¨æˆ·(users) å’Œ è®¢å•() db.users.insert([ { username: \u0026#34;swk\u0026#34; },{ username: \u0026#34;zbj\u0026#34; } ]) db.users.find() db.order.insert({ list: [\u0026#34;ç‰›è‚‰\u0026#34;, \u0026#34;æ¼«ç”»\u0026#34;], user_id: ObjectId(\u0026#34;60dbc477c673000085000595\u0026#34;) }) db.order.find() // æŸ¥æ‰¾ç”¨æˆ·swkçš„è®¢å• var user_id = db.users.findOne({username: \u0026#34;zbj\u0026#34;})._id db.order.find({user_id: user_id}) // å¤šå¯¹å¤š db.teachers.insert([ {name: \u0026#34;æ´ªä¸ƒå…¬\u0026#34;}, {name: \u0026#34;é»„è¯å¸ˆ\u0026#34;}, {name: \u0026#34;é¾Ÿä»™äºº\u0026#34;} ]) db.stus.insert([{ name: \u0026#34;éƒ­é–\u0026#34;, tech_ids: [ ObjectId(\u0026#34;60dbc694c67300008500059a\u0026#34;), ObjectId(\u0026#34;60dbc694c67300008500059b\u0026#34;) ] },{ name: \u0026#34;å­™æ‚Ÿç©º\u0026#34;, tech_ids: [ ObjectId(\u0026#34;60dbc694c67300008500059a\u0026#34;), ObjectId(\u0026#34;60dbc694c67300008500059b\u0026#34;), ObjectId(\u0026#34;60dbc694c67300008500059c\u0026#34;) ] } ]) db.teachers.find() db.stus.find() Test //17.å‘numbersä¸­æ’å…¥20000æ¡æ•°æ® var arr = []; for(var i = 1; i \u0026lt;= 20000; i++){ arr.push({num: i}); } db.numbers.insert(arr) //18.æŸ¥è¯¢numbersä¸­numä¸º500çš„æ–‡æ¡£ db.numbers.find({num: 500}) //19.æŸ¥è¯¢numbersä¸­numå¤§äº5000çš„æ–‡æ¡£ db.numbers.find({num: {$gt: 5000}}) //20.æŸ¥è¯¢numbersä¸­numå°äº30çš„æ–‡æ¡£ db.numbers.find({num: {$lt: 30}}) //21.æŸ¥è¯¢numbersä¸­numå¤§äº40å°äº50çš„æ–‡æ¡£ db.numbers.find({num: {$gt: 40, $lt: 50}}) //22.æŸ¥è¯¢numbersä¸­numå¤§äº19996çš„æ–‡æ¡£ db.numbers.find({num: {$gt: 19996}}) //23.æŸ¥çœ‹numbersé›†åˆä¸­çš„å‰10æ¡æ•°æ® //limit()è®¾ç½®æ˜¾ç¤ºæ•°æ®çš„ä¸Šé™ db.numbers.find({}).limit(10) //åœ¨å¼€å‘æ—¶ï¼Œæˆ‘ä»¬ç»å¯¹ä¸ä¼šæ‰§è¡Œä¸å¸¦æ¡ä»¶çš„æŸ¥è¯¢ db.numbers.find({}) //24.æŸ¥çœ‹numbersé›†åˆä¸­çš„ç¬¬11æ¡åˆ°20æ¡æ•°æ® //skip()ç”¨äºè·³è¿‡æŒ‡å®šæ•°é‡çš„æ•°æ® db.numbers.find({}).limit(10).skip(10) //25.æŸ¥çœ‹numbersé›†åˆä¸­çš„ç¬¬21æ¡åˆ°30æ¡æ•°æ® db.numbers.find({}).limit(10).skip(20) //26.å°†deptå’Œempé›†åˆå¯¼å…¥åˆ°æ•°æ®åº“ä¸­ //27.æŸ¥è¯¢å·¥èµ„å°äº2000çš„å‘˜å·¥ db.emp.find({sal: {$lt: 2000}}) //28.æŸ¥è¯¢å·¥èµ„åœ¨1000-2000ä¹‹é—´çš„å‘˜å·¥ db.emp.find({sal: {$gt: 1000, $lt: 2000}}) //29.æŸ¥è¯¢å·¥èµ„å°äº1000æˆ–å¤§äº2500çš„å‘˜å·¥ db.emp.find({ $or: [ {sal: {$lt: 1000}}, {sal: {$gt: 2500}} ] }); //30.æŸ¥è¯¢è´¢åŠ¡éƒ¨çš„æ‰€æœ‰å‘˜å·¥ var deptno = db.dep.findOne({dname: \u0026#34;è´¢åŠ¡éƒ¨\u0026#34;}).deptno db.emp.find({depno: deptno}) //31.æŸ¥è¯¢é”€å”®éƒ¨çš„æ‰€æœ‰å‘˜å·¥ var deptno = db.dep.findOne({dname: \u0026#34;é”€å”®éƒ¨\u0026#34;}).deptno db.emp.find({depno: deptno}) //32.æŸ¥è¯¢æ‰€æœ‰mgrä¸º7698çš„æ‰€æœ‰å‘˜å·¥ db.emp.find({mgr: 7698}) //33.ä¸ºæ‰€æœ‰è–ªèµ„ä½äº1000çš„å‘˜å·¥å¢åŠ å·¥èµ„400å…ƒ db.emp.updateMany({sal: {$lte: 1000}}, { $inc: { sal: 400 } } ) db.emp.find() emp:\n{ \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4ac\u0026#34;), \u0026#34;empno\u0026#34; : 7369.0, \u0026#34;ename\u0026#34; : \u0026#34;æ—å†²\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;èŒå‘˜\u0026#34;, \u0026#34;mgr\u0026#34; : 7902.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1980-12-16T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 800.0, \u0026#34;depno\u0026#34; : 20.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4ad\u0026#34;), \u0026#34;empno\u0026#34; : 7499.0, \u0026#34;ename\u0026#34; : \u0026#34;å­™äºŒå¨˜\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;é”€å”®\u0026#34;, \u0026#34;mgr\u0026#34; : 7698.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-02-19T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 1600.0, \u0026#34;comm\u0026#34; : 300.0, \u0026#34;depno\u0026#34; : 30.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4ae\u0026#34;), \u0026#34;empno\u0026#34; : 7521.0, \u0026#34;ename\u0026#34; : \u0026#34;æ‰ˆä¸‰å¨˜\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;é”€å”®\u0026#34;, \u0026#34;mgr\u0026#34; : 7698.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-02-21T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 1250.0, \u0026#34;comm\u0026#34; : 500.0, \u0026#34;depno\u0026#34; : 30.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4af\u0026#34;), \u0026#34;empno\u0026#34; : 7566.0, \u0026#34;ename\u0026#34; : \u0026#34;å¢ä¿Šä¹‰\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;ç»ç†\u0026#34;, \u0026#34;mgr\u0026#34; : 7839.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-04-01T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 2975.0, \u0026#34;depno\u0026#34; : 20.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b0\u0026#34;), \u0026#34;empno\u0026#34; : 7654.0, \u0026#34;ename\u0026#34; : \u0026#34;æ½˜é‡‘è²\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;é”€å”®\u0026#34;, \u0026#34;mgr\u0026#34; : 7698.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-09-27T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 1250.0, \u0026#34;comm\u0026#34; : 1400.0, \u0026#34;depno\u0026#34; : 30.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b1\u0026#34;), \u0026#34;empno\u0026#34; : 7698.0, \u0026#34;ename\u0026#34; : \u0026#34;è¥¿é—¨åº†\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;ç»ç†\u0026#34;, \u0026#34;mgr\u0026#34; : 7839.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-04-30T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 2850.0, \u0026#34;depno\u0026#34; : 30.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b2\u0026#34;), \u0026#34;empno\u0026#34; : 7782.0, \u0026#34;ename\u0026#34; : \u0026#34;æŸ´è¿›\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;ç»ç†\u0026#34;, \u0026#34;mgr\u0026#34; : 7839.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-06-08T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 2450.0, \u0026#34;depno\u0026#34; : 10.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b3\u0026#34;), \u0026#34;empno\u0026#34; : 7788.0, \u0026#34;ename\u0026#34; : \u0026#34;å…¬å­™èƒœ\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;åˆ†æå¸ˆ\u0026#34;, \u0026#34;mgr\u0026#34; : 7566.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1987-07-12T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 3000.0, \u0026#34;depno\u0026#34; : 20.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b4\u0026#34;), \u0026#34;empno\u0026#34; : 7839.0, \u0026#34;ename\u0026#34; : \u0026#34;å®‹æ±Ÿ\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;è‘£äº‹é•¿\u0026#34;, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-11-16T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 5000.0, \u0026#34;depno\u0026#34; : 10.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b5\u0026#34;), \u0026#34;empno\u0026#34; : 7844.0, \u0026#34;ename\u0026#34; : \u0026#34;é˜å©†æƒœ\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;é”€å”®\u0026#34;, \u0026#34;mgr\u0026#34; : 7698.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-09-07T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 1500.0, \u0026#34;comm\u0026#34; : 0.0, \u0026#34;depno\u0026#34; : 30.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b6\u0026#34;), \u0026#34;empno\u0026#34; : 7876.0, \u0026#34;ename\u0026#34; : \u0026#34;æé€µ\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;èŒå‘˜\u0026#34;, \u0026#34;mgr\u0026#34; : 7902.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1987-07-12T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 1100.0, \u0026#34;depno\u0026#34; : 20.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b7\u0026#34;), \u0026#34;empno\u0026#34; : 7900.0, \u0026#34;ename\u0026#34; : \u0026#34;æ­¦æ¾\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;èŒå‘˜\u0026#34;, \u0026#34;mgr\u0026#34; : 7782.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-12-02T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 950.0, \u0026#34;depno\u0026#34; : 10.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b8\u0026#34;), \u0026#34;empno\u0026#34; : 7902.0, \u0026#34;ename\u0026#34; : \u0026#34;å´ç”¨\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;åˆ†æå¸ˆ\u0026#34;, \u0026#34;mgr\u0026#34; : 7566.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1981-12-02T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 3000.0, \u0026#34;depno\u0026#34; : 20.0 } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f5bfc1bc86928f4de4b9\u0026#34;), \u0026#34;empno\u0026#34; : 7934.0, \u0026#34;ename\u0026#34; : \u0026#34;é²æ™ºæ·±\u0026#34;, \u0026#34;job\u0026#34; : \u0026#34;èŒå‘˜\u0026#34;, \u0026#34;mgr\u0026#34; : 7782.0, \u0026#34;hiredate\u0026#34; : ISODate(\u0026#34;1982-01-22T16:00:00Z\u0026#34;), \u0026#34;sal\u0026#34; : 1300.0, \u0026#34;depno\u0026#34; : 10.0 } dept\n{ \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f2bac1bc86928f4de49a\u0026#34;), \u0026#34;deptno\u0026#34; : 10.0, \u0026#34;dname\u0026#34; : \u0026#34;è´¢åŠ¡éƒ¨\u0026#34;, \u0026#34;loc\u0026#34; : \u0026#34;åŒ—äº¬\u0026#34; } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f2bac1bc86928f4de49b\u0026#34;), \u0026#34;deptno\u0026#34; : 20.0, \u0026#34;dname\u0026#34; : \u0026#34;åŠå…¬å®¤\u0026#34;, \u0026#34;loc\u0026#34; : \u0026#34;ä¸Šæµ·\u0026#34; } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f2bac1bc86928f4de49c\u0026#34;), \u0026#34;deptno\u0026#34; : 30.0, \u0026#34;dname\u0026#34; : \u0026#34;é”€å”®éƒ¨\u0026#34;, \u0026#34;loc\u0026#34; : \u0026#34;å¹¿å·\u0026#34; } { \u0026#34;_id\u0026#34; : ObjectId(\u0026#34;5941f2bac1bc86928f4de49d\u0026#34;), \u0026#34;deptno\u0026#34; : 40.0, \u0026#34;dname\u0026#34; : \u0026#34;è¿è¥éƒ¨\u0026#34;, \u0026#34;loc\u0026#34; : \u0026#34;æ·±åœ³\u0026#34; } æ’åºå’ŒæŠ•å½± // æŸ¥è¯¢æ–‡æ¡£æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æŒ‰ç…§_idçš„å€¼è¿›è¡Œæ’åˆ—(å‡åº) //sort()å¯ä»¥ç”¨æ¥æŒ‡å®šæ–‡æ¡£çš„æ’åºçš„è§„åˆ™ï¼Œsort()éœ€è¦ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ¥æŒ‡å®šæ’åºè§„åˆ™ 1è¡¨ç¤ºå‡åº -1è¡¨ç¤ºé™åº //limit skip sort å¯ä»¥ä»»æ„çš„é¡ºåºè¿›è¡Œè°ƒç”¨ db.emp.find({}).sort({sal: -1}) //åœ¨æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥åœ¨ç¬¬äºŒä¸ªå‚æ•°çš„ä½ç½®æ¥è®¾ç½®æŸ¥è¯¢ç»“æœçš„ æŠ•å½± db.emp.find({}, {ename: 1, _id: 0, sal: 1}); nodeæ•´åˆmongodb- Mongoose http://mongoosejs.com/\nè¿æ¥æ•°æ®åº“ /* 1. ä¸‹è½½å®‰è£…Mongoose npm i mongoose --save 2. åœ¨é¡¹ç›®ä¸­å¼•å…¥mongoose var mongoose = require(\u0026#34;mongoose\u0026#34;) 3. è¿æ¥MongoDBæ•°æ®åº“ mongoose.connect(\u0026#39;mongodb://localhost:27017/test\u0026#39;, {useMongoClient: true}); - å¦‚æœç«¯å£å·æ˜¯é»˜è®¤ç«¯å£å·(27017) åˆ™å¯ä»¥çœç•¥ä¸å†™ 4. æ–­å¼€æ•°æ®åº“è¿æ¥(ä¸€èˆ¬ä¸éœ€è¦è°ƒç”¨) - MongoDBæ•°æ®åº“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªéœ€è¦è¿æ¥ä¸€æ¬¡ï¼Œè¿æ¥ä¸€æ¬¡ä»¥åï¼Œé™¤éé¡¹ç›®åœæ­¢ï¼ŒæœåŠ¡å™¨å…³é—­ï¼Œå¦åˆ™è¿æ¥ä¸€èˆ¬ä¸ä¼šæ–­å¼€ mongoose.disconnect() - ç›‘å¬MongoDBæ•°æ®åº“çš„è¿æ¥çŠ¶æ€ - åœ¨Mongooseå¯¹è±¡ä¸­ï¼Œæœ‰ä¸€ä¸ªå±æ€§å«åšConnectionï¼Œè¯¥å¯¹è±¡è¡¨ç¤ºçš„å°±æ˜¯æ•°æ®åº“è¿æ¥ é€šè¿‡ç›‘è§†è¯¥å¯¹è±¡çš„çŠ¶æ€ï¼Œå¯ä»¥æ¥ç›‘å¬æ•°æ®åº“çš„è¿æ¥ä¸æ–­å¼€ æ•°æ®åº“è¿æ¥æˆåŠŸçš„äº‹ä»¶ mongoose.connection.once(\u0026#34;open\u0026#34;, function()); æ•°æ®åº“æ–­å¼€çš„äº‹ä»¶ mongoose.connection.once(\u0026#34;close\u0026#34;, function()); Schema Model Document */ // å¼•å…¥ var mongoose = require(\u0026#34;mongoose\u0026#34;); // è¿æ¥æ•°æ®åº“ // mongoose.connect(\u0026#34;mongodb://127.0.0.1/mongoose_test\u0026#34;, { useNewUrlParser: true } ); mongoose.connect(\u0026#39;mongodb://localhost:27017/test\u0026#39;, { useNewUrlParser: true, useUnifiedTopology: true }); mongoose.connection.once(\u0026#34;open\u0026#34;, () =\u0026gt; { console.log(\u0026#34;æ•°æ®åº“è¿æ¥æˆåŠŸ~~~~~\u0026#34;); }); mongoose.connection.once(\u0026#34;close\u0026#34;, () =\u0026gt; { console.log(\u0026#34;æ•°æ®åº“å·²ç»æ–­å¼€~~~~~\u0026#34;); }); //æ–­å¼€æ•°æ®åº“è¿æ¥ mongoose.disconnect() ä½¿ç”¨ç¤ºä¾‹ var mongoose = require(\u0026#34;mongoose\u0026#34;); mongoose.connect(\u0026#34;mongodb://localhost/mongoose_test\u0026#34;, { useNewUrlParser: true, useUnifiedTopology: true, }); // åˆ›å»ºSchema(æ¨¡å¼å¯¹è±¡) var { Schema } = mongoose var stuSchema = new Schema({ name: String, age: Number, gender: { type: String, default: \u0026#34;female\u0026#34; }, address: String }) // é€šè¿‡Schemaæ¥åˆ›å»ºModel // Modelä»£è¡¨çš„æ˜¯æ•°æ®åº“ä¸­çš„é›†åˆï¼Œé€šè¿‡Modelæ‰èƒ½å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ // mongoose.model(modelName, schema); // modelName å°±æ˜¯è¦æ˜ å°„çš„é›†åˆå mongooseä¼šè‡ªåŠ¨è½¬æ¢æˆå¤æ•° var StuModel = mongoose.model(\u0026#34;student\u0026#34;, stuSchema) // å‘æ•°æ®åº“ä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£ // StuModel.create(doc, function)); StuModel.create({ name: \u0026#34;ç™½éª¨ç²¾\u0026#34;, age: 18, address: \u0026#34;ç™½éª¨æ´\u0026#34; }, (err) =\u0026gt; { if (!err) { console.log(\u0026#34;æ’å…¥æˆåŠŸ\u0026#34;); } }); Modelä½¿ç”¨ var mongoose = require(\u0026#34;mongoose\u0026#34;); mongoose.connect(\u0026#34;mongodb://localhost/mongoose_test\u0026#34;, { useNewUrlParser: true, useUnifiedTopology: true, }); // åˆ›å»ºSchema(æ¨¡å¼å¯¹è±¡) var { Schema } = mongoose var stuSchema = new Schema({ name: String, age: Number, gender: { type: String, default: \u0026#34;female\u0026#34; }, address: String }) // é€šè¿‡Schemaæ¥åˆ›å»ºModel // Modelä»£è¡¨çš„æ˜¯æ•°æ®åº“ä¸­çš„é›†åˆï¼Œé€šè¿‡Modelæ‰èƒ½å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ // mongoose.model(modelName, schema); // modelName å°±æ˜¯è¦æ˜ å°„çš„é›†åˆå mongooseä¼šè‡ªåŠ¨è½¬æ¢æˆå¤æ•° var StuModel = mongoose.model(\u0026#34;student\u0026#34;, stuSchema) /* - æœ‰äº†Modelï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æ¥å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„æ“ä½œäº† Model.create(doc(s), [callback]) - ç”¨æ¥åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£å¹¶æ·»åŠ åˆ°æ•°æ®åº“ä¸­ - å‚æ•°ï¼š doc(s) å¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡çš„æ•°ç»„ callback å½“æ“ä½œå®Œæˆä»¥åè°ƒç”¨çš„å›è°ƒå‡½æ•° æŸ¥è¯¢çš„: Model.find(conditions, [projection], [options], [callback]) - æŸ¥è¯¢æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ Model.findById(id, [projection], [options], [callback]) - æ ¹æ®æ–‡æ¡£çš„idå±æ€§æŸ¥è¯¢æ–‡æ¡£ Model.findOne([conditions], [projection], [options], [callback]) - æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£ï¼Œæ€»ä¼šè¿”å›ä¸€ä¸ªå…·ä½“çš„æ–‡æ¡£ conditions æŸ¥è¯¢çš„æ¡ä»¶ projection æŠ•å½± éœ€è¦çš„å­—æ®µ - ä¸¤ç§æ–¹å¼ {name: 1, _id: 0} \u0026#34;name -_id\u0026#34; options æŸ¥è¯¢é€‰é¡¹(skip, limit) callback å›è°ƒå‡½æ•°ï¼ŒæŸ¥è¯¢ç»“æœä¼šé€šè¿‡å›è°ƒå‡½æ•°è¿”å› å›è°ƒå‡½æ•°å¿…é¡»ä¼ ï¼Œå¦‚æœä¸ä¼ å›è°ƒå‡½æ•°ï¼Œä¸ä¼šæŸ¥è¯¢ */ // StuModel.find({}, \u0026#34;name age\u0026#34;, { // skip: 3, // limit: 1 // }, (err, docs) =\u0026gt; { // if (!err) { // console.log(docs); // } // }) // StuModel.findOne({}, (err, docs) =\u0026gt; { // if (!err) { // console.log(docs); // } // }) // StuModel.findById(\u0026#34;60dbdbb2ecd64b4db4605b27\u0026#34;, (err, docs) =\u0026gt; { // if (!err) { // // console.log(docs); // // é€šè¿‡find()æŸ¥è¯¢çš„ç»“æœï¼Œè¿”å›çš„å¯¹è±¡ï¼Œå°±æ˜¯Documentï¼Œæ–‡æ¡£å¯¹è±¡ // // Documentå¯¹è±¡æ˜¯Modelçš„å®ä¾‹ // console.log(docs instanceof StuModel); // } // }) // StuModel.create([{ // name: \u0026#34;æ²™å’Œå°š\u0026#34;, // age: 28, // gender: \u0026#34;male\u0026#34;, // address: \u0026#34;æµæ²™æ²³\u0026#34; // }], (error) =\u0026gt; { // if (!error) { // console.log(arguments); // } // }) /* ä¿®æ”¹ Model.update(conditions, doc, [options], [callback]) Model.updateMany(conditions, doc, [options], [callback]) Model.updateOne(conditions, doc, [options], [callback]) Model.replaceOne(conditions, doc, [options], [callback]) - ç”¨æ¥ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ - å‚æ•°ï¼š conditions æŸ¥è¯¢æ¡ä»¶ doc ä¿®æ”¹åçš„å¯¹è±¡ options é…ç½®å‚æ•° callback å›è°ƒå‡½æ•° */ // ä¿®æ”¹å”åƒ§çš„å¹´é¾„ä¸º20 // StuModel.updateOne({ // name: \u0026#34;å”åƒ§\u0026#34; // }, { // $set: { // age: 20 // } // }, (err) =\u0026gt; { // if (!err) { // console.log(\u0026#34;ä¿®æ”¹æˆåŠŸ\u0026#34;); // } // }) /* åˆ é™¤ Model.remove(conditions, [callback]) Model.deleteOne(conditions, [callback]) Model.deleteMany(conditions, [callback]) */ // StuModel.deleteOne({ // name: \u0026#34;æ²™å’Œå°š\u0026#34; // }, // err =\u0026gt; { // if (!err) { // console.log(\u0026#34;åˆ é™¤æˆåŠŸ\u0026#34;); // } // }) /* Model.count(conditions, [callback]) - ç»Ÿè®¡æ–‡æ¡£çš„æ•°é‡çš„ */ StuModel.count({}, function (err, count) { if (!err) { console.log(count); } }); Documentä½¿ç”¨ /* Document å’Œ é›†åˆä¸­çš„æ–‡æ¡£ä¸€ä¸€å¯¹åº”ï¼ŒDocumentæ˜¯Modelå®ä¾‹ é€šè¿‡ModelæŸ¥è¯¢åˆ°ç»“æœéƒ½æ˜¯Document */ // åˆ›å»ºä¸€ä¸ªDocument var mongoose = require(\u0026#34;mongoose\u0026#34;); mongoose.connect(\u0026#34;mongodb://localhost/mongoose_test\u0026#34;, { useNewUrlParser: true, useUnifiedTopology: true, }); // åˆ›å»ºSchema(æ¨¡å¼å¯¹è±¡) var { Schema } = mongoose var stuSchema = new Schema({ name: String, age: Number, gender: { type: String, default: \u0026#34;female\u0026#34; }, address: String }) // é€šè¿‡Schemaæ¥åˆ›å»ºModel // Modelä»£è¡¨çš„æ˜¯æ•°æ®åº“ä¸­çš„é›†åˆï¼Œé€šè¿‡Modelæ‰èƒ½å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ // mongoose.model(modelName, schema); // modelName å°±æ˜¯è¦æ˜ å°„çš„é›†åˆå mongooseä¼šè‡ªåŠ¨è½¬æ¢æˆå¤æ•° var StuModel = mongoose.model(\u0026#34;student\u0026#34;, stuSchema) var stu = new StuModel({ name: \u0026#34;å¥”æ³¢éœ¸\u0026#34;, age: 48, gender: \u0026#34;male\u0026#34;, address: \u0026#34;ç¢§æ³¢æ½­\u0026#34; }); /* documentçš„æ–¹æ³• Model#save([options], [fn]) */ // stu.save(err =\u0026gt; { // if (!err) { // console.log(\u0026#34;ä¿å­˜æˆåŠŸ\u0026#34;); // } // }) StuModel.findOne({}, (err, doc) =\u0026gt; { if (!err) { /* update(update,[options],[callback]) -- ä¿®æ”¹å¯¹è±¡ remove([callback]) -- åˆ é™¤å¯¹è±¡ */ // console.log(doc); // doc.update({ // $set: { // age: 28 // } // }, err =\u0026gt; { // if (!err) { // console.log(\u0026#34;ä¿®æ”¹æˆåŠŸ\u0026#34;); // } // }) // doc.remove(err =\u0026gt; { // if (!err) { // console.log(\u0026#34;å¤§å¸ˆå…„å†è§\u0026#34;); // } // }) /* get(name) -è·å–æ–‡æ¡£ä¸­çš„æŒ‡å®šå±æ€§å€¼ set() id - è·å–æ–‡æ¡£çš„_idå±æ€§å€¼ toJSON() - è½¬æ¢ä¸ºä¸€ä¸ªJSONå­—ç¬¦ä¸² toObject() - å°†Documentè½¬æ¢æˆæ™®é€šçš„JSONå¯¹è±¡ */ // console.log(doc.get(\u0026#34;age\u0026#34;)); // console.log(doc.age); // doc.set(\u0026#34;name\u0026#34;, \u0026#34;çŒªğŸ–\u0026#34;) // doc.name = \u0026#34;å“ˆå“ˆå“ˆ\u0026#34; doc = doc.toObject(); delete doc.address; console.log(doc); } }) ","permalink":"https://rexhub.space/posts/nosql/mongodb/","summary":"MongoDB ç®€ä»‹ï¼š MongoDBæ˜¯ä¸ºå¿«é€Ÿå¼€å‘äº’è”ç½‘Webåº”ç”¨è€Œè®¾è®¡çš„æ•°æ®åº“ç³»ç»Ÿã€‚ MongoDBçš„è®¾è®¸ç›®æ ‡æ˜¯æç®€ã€çµæ´»ã€ä½œä¸ºWebåº”ç”¨æ ˆçš„ä¸€éƒ¨åˆ†ã€‚ MongoDBçš„æ•°æ®æ¨¡å‹æ˜¯é¢å‘æ–‡æ¡£çš„,æ‰€è°“æ–‡æ¡£æ˜¯- - -ç§ç±»ä¼¼äºJSONçš„ç»“æ„,ç®€å•ç†è§£MongoDBè¿™ä¸ªæ•°æ®åº“ä¸­å­˜çš„æ˜¯å„ç§å„æ ·çš„JSONã€‚ ( BSON ) ä¸‰ä¸ªæ¦‚å¿µ æ•°æ®åº“( database )\næ•°æ®åº“æ˜¯-ä¸ªä»“åº“,åœ¨ä»“åº“ä¸­å¯ä»¥å­˜æ”¾é›†åˆã€‚\né›†åˆ( collection )\né›†åˆç±»ä¼¼äºæ•°ç»„,åœ¨é›†åˆä¸­å¯ä»¥å­˜æ”¾æ–‡æ¡£ã€‚\næ–‡æ¡£( dotument )\næ–‡æ¡£æ•°æ®åº“ä¸­çš„æœ€å°å•ä½,æˆ‘ä»¬å­˜å‚¨å’Œæ“ä½œçš„ å†…å®¹éƒ½æ˜¯æ–‡æ¡£ã€‚\nåŸºæœ¬æŒ‡ä»¤ show dbs\næ˜¾ç¤ºå½“å‰çš„æ‰€æœ‰æ•°æ®åº“\nuse æ•°æ®åº“å\nè¿›å…¥æŒ‡å®šçš„æ•°æ®åº“ä¸­\ndb\næ˜¾ç¤ºå½“å‰æ‰€å¤„çš„æ•°æ®åº“\nshow collections\næ˜¾ç¤ºæ•°æ®åº“ä¸­æ‰€æœ‰çš„é›†åˆ\ndb.\u0026lt;collection\u0026gt;.insert(doc)\nå‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£\ndb.\u0026lt;collections\u0026gt;.find()\næŸ¥çœ‹æ•°æ®åº“å­—æ®µ\næ’å…¥æ–‡æ¡£ /* å‘æ•°æ®åº“æ’å…¥æ–‡æ¡£\tdb.\u0026lt;collection\u0026gt;.insert( \u0026lt;document or array of documents\u0026gt;ï¼Œ { wirteConcern: \u0026lt;document\u0026gt;, ordered: \u0026lt;boolean\u0026gt; } ) documents: å¿…å¡«ï¼Œè¡¨ç¤ºéœ€è¦æ’å…¥çš„æ–‡æ¡£ï¼Œå¯ä»¥æ˜¯å¤šä¸ªæ–‡æ¡£ writeConcernï¼šå¯é€‰é¡¹ï¼Œå†™ç­–ç•¥ orderedï¼šå¯é€‰ï¼Œè¡¨ç¤ºå¤šä¸ªæ–‡æ¡£æ˜¯å¦æŒ‰ç…§æ–‡æ¡£é¡ºåºå†™å…¥ -- å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ -- å½“æˆ‘ä»¬å‘é›†åˆä¸­æ’å…¥æ–‡æ¡£æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»™æ–‡æ¡£æŒ‡å®š_idå±æ€§ï¼Œåˆ™æ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºæ–‡æ¡£æ·»åŠ _idï¼Œ è¯¥å±æ€§ç”¨æ¥ä½œä¸ºæ–‡æ¡£çš„å”¯ä¸€æ ‡è¯† -- _idå¯ä»¥è‡ªå·±æŒ‡å®šï¼Œå¦‚æœæŒ‡å®šäº†æ•°æ®åº“å°±ä¸ä¼šå†æ·»åŠ äº†ï¼Œå¦‚æœè‡ªå·±æŒ‡å®š_idï¼Œä¹Ÿå¿…é¡»ç¡®ä¿ä»–çš„å”¯ä¸€æ€§ db.collection.insertOne() -- æ’å…¥ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡ db.","title":"MongodbåŸºç¡€"},{"content":"Docker æ¦‚å¿µ Dockeræ˜¯ä¸€ä¸ªç”¨æ¥è£…ç¨‹åºåŠå…¶ç¯å¢ƒçš„å®¹å™¨,å±äºLinuxå®¹å™¨çš„ ä¸€ç§å°è£…,æä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£ã€‚å®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„ Linuxå®¹å™¨è§£å†³æ–¹æ¡ˆã€‚\nç—›ç‚¹ ç¯å¢ƒé…ç½® è™šæ‹Ÿæœº èµ„æºå ç”¨å¤š å†—ä½™æ­¥éª¤å¤š å¯åŠ¨æ—¶é—´æ…¢ Dockerçš„åŸºç¡€ \u0026mdash; Linuxå®¹å™¨ å¯åŠ¨å¿« å ç”¨èµ„æºå°‘ ä½“ç§¯å° ç”¨é€” æä¾›ç»Ÿä¸€çš„ç¯å¢ƒ æä¾›å¿«é€Ÿæ‹“å±•ã€å¼¹æ€§ä¼¸ç¼©çš„äº‘æœåŠ¡ é˜²æ­¢å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹æŠŠæœåŠ¡å™¨èµ„æºå ç”¨è¿‡å¤š ç‰¹ç‚¹ æ ‡å‡†åŒ–\nè¿è¾“æ–¹å¼ï¼ˆæŠŠç¨‹åºå’Œç¯å¢ƒä»ä¸€ä¸ªæœºå™¨è¿åˆ°å¦ä¸€ä¸ªæœºå™¨ï¼‰ å­˜å‚¨æ–¹å¼ï¼ˆç¨‹åºå’Œç¯å¢ƒçš„å­˜å‚¨ï¼‰ APIæ¥å£ï¼ˆä¸éœ€è¦Tomcatç­‰åº”ç”¨çš„å‘½ä»¤äº†ï¼Œéƒ½æ ‡å‡†åŒ–äº†ï¼‰ çµæ´»ï¼šå³ä½¿æ˜¯æœ€å¤æ‚çš„åº”ç”¨ä¹Ÿå¯ä»¥é›†è£…ç®±åŒ–\nè½»é‡çº§ï¼šå®¹å™¨åˆ©ç”¨å¹¶å…±äº«ä¸»æœºå†…æ ¸\nä¾¿æºå¼ï¼šå¯ä»¥åœ¨æœ¬åœ°æ„å»º\nDockerçš„ç»„æˆã€æ¶æ„ã€é‡è¦æ¦‚å¿µ imagesï¼ˆé•œåƒï¼‰: å­˜å‚¨ï¼šè”åˆæ–‡ä»¶ç³»ç»Ÿï¼ŒUnionFS Containerï¼ˆå®¹å™¨ï¼‰ï¼š é•œåƒç±»ä¼¼äºJavaä¸­çš„ç±»ï¼Œè€Œå®¹å™¨å°±æ˜¯å®ä¾‹ å®¹å™¨çš„è¿™ä¸€å±‚æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œè€Œé•œåƒæ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ åŒä¸€ä¸ªé•œåƒå¯ä»¥ç”Ÿæˆå¤šä¸ªå®¹å™¨ç‹¬ç«‹è¿è¡Œï¼Œè€Œä»–ä»¬ä¹‹é—´æ²¡æœ‰ä»»ä½•çš„å¹²æ‰° Repositoryï¼ˆä»“åº“ï¼‰ï¼š å®˜æ–¹ä»“åº“\né˜¿é‡Œäº‘ä»“åº“\nç½‘æ˜“äº‘ä»“åº“\næ—¶é€Ÿäº‘\nDaoCloud\nå…±æœ‰ vs ç§æœ‰\nclientå’Œdaemon clientæä¾›ç»™ç”¨æˆ·ä¸€ä¸ªç»ˆç«¯ï¼Œç”¨æˆ·è¾“å…¥Dockeræä¾›çš„å‘½ä»¤æ¥ç®¡ç†æœ¬åœ°æˆ–è¿œç¨‹çš„æœåŠ¡ daemonï¼šæœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼Œæ¥å—clientå‘é€çš„å‘½ä»¤å¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œ Dockerçš„ç½‘ç»œæ¨¡å¼ Bridge æ¡¥æ¥ï¼šç‹¬ç«‹ï¼ˆç½‘å¡ç‹¬ç«‹ã€è·¯ç”±ç‹¬ç«‹ã€iptableè§„åˆ™ç‹¬ç«‹ï¼‰çš„ç½‘ç»œï¼Œä¸ä¸»æœºæ¡¥æ¥ Host ä¸»æœºï¼šä¸æ˜¯ç‹¬ç«‹çš„ç½‘ç»œï¼Œä¸ä¸»æœºä½¿ç”¨åŒä¸€ä¸ªç½‘ç»œ None æ²¡æœ‰ç½‘ç»œ ç«¯å£æ˜ å°„æŠ€æœ¯ åˆ¶ä½œè‡ªå·±çš„Dockerå®¹å™¨ï¼Œdockerfileå®æˆ˜ dockerfileä½œç”¨ï¼šæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®é•œåƒï¼Œdockeræ ¹æ®è¿™ä¸ªæ¥ç”Ÿæˆå¯¹åº”çš„é•œåƒæ–‡ä»¶\ndockerfileçš„å¥½å¤„ï¼š\nä¾¿äºç‰ˆæœ¬æ§åˆ¶ ä¾¿äºç»´æŠ¤ç¯å¢ƒ ä¾¿äºæ–°äººåˆæ­¥äº†è§£ç¨‹åº å†™è‡ªå·±çš„dockerfile\nFROM alpine:latest # alpine--æå°å‹çš„Linuxç¯å¢ƒï¼Œè¡¨ç¤ºè¿™ä¸ªé•œåƒåŸºäºè¿™ä¸ªç³»ç»Ÿ MAINTAINER imooc # æè¿°è¿™ä¸ªé•œåƒç”±è°æ¥ç»´æŠ¤ CMD echo \u0026#39;hello my dockerfile\u0026#39; # æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚æ¥å†™ å¸¸ç”¨å‘½ä»¤ docker images # æŸ¥è¯¢å½“å‰é•œåƒåˆ—è¡¨ docker pull image # æ‹‰å–é•œåƒåˆ°æœ¬åœ° docker run images image # å‰å°è¿è¡Œ docker run -d image # åå°è¿è¡Œ dè¡¨ç¤ºdetech docker ps # æŸ¥çœ‹å½“å‰åå°è¿è¡Œçš„å®¹å™¨ docker exec -it status bash # -iä»£è¡¨å®¹å™¨è¾“å…¥æœ‰æ•ˆ -tåˆ†é…ä¸€ä¸ªç»ˆç«¯ docker stop status # å…³é—­å®¹å™¨ docker run -p 8080:80 # æœ¬æœº8080ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„80ç«¯å£ -pè‡ªå·±å®šä¹‰ -Péšæœºåˆ†é…ä¸»æœºç«¯å£ netstat -na|grep 8080 # æŸ¥è¯¢ç«¯å£çŠ¶æ€ docker build -t hello_docker . #ç¼–è¯‘å½“å‰çš„Dockerfileæ–‡ä»¶ï¼Œ-tæŒ‡å®šé•œåƒåå­— systemctl stop docker # åœæ­¢dockeræœåŠ¡ ","permalink":"https://rexhub.space/posts/back/java/microservices/docker%E5%9F%BA%E7%A1%80/","summary":"Docker æ¦‚å¿µ Dockeræ˜¯ä¸€ä¸ªç”¨æ¥è£…ç¨‹åºåŠå…¶ç¯å¢ƒçš„å®¹å™¨,å±äºLinuxå®¹å™¨çš„ ä¸€ç§å°è£…,æä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£ã€‚å®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„ Linuxå®¹å™¨è§£å†³æ–¹æ¡ˆã€‚\nç—›ç‚¹ ç¯å¢ƒé…ç½® è™šæ‹Ÿæœº èµ„æºå ç”¨å¤š å†—ä½™æ­¥éª¤å¤š å¯åŠ¨æ—¶é—´æ…¢ Dockerçš„åŸºç¡€ \u0026mdash; Linuxå®¹å™¨ å¯åŠ¨å¿« å ç”¨èµ„æºå°‘ ä½“ç§¯å° ç”¨é€” æä¾›ç»Ÿä¸€çš„ç¯å¢ƒ æä¾›å¿«é€Ÿæ‹“å±•ã€å¼¹æ€§ä¼¸ç¼©çš„äº‘æœåŠ¡ é˜²æ­¢å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹æŠŠæœåŠ¡å™¨èµ„æºå ç”¨è¿‡å¤š ç‰¹ç‚¹ æ ‡å‡†åŒ–\nè¿è¾“æ–¹å¼ï¼ˆæŠŠç¨‹åºå’Œç¯å¢ƒä»ä¸€ä¸ªæœºå™¨è¿åˆ°å¦ä¸€ä¸ªæœºå™¨ï¼‰ å­˜å‚¨æ–¹å¼ï¼ˆç¨‹åºå’Œç¯å¢ƒçš„å­˜å‚¨ï¼‰ APIæ¥å£ï¼ˆä¸éœ€è¦Tomcatç­‰åº”ç”¨çš„å‘½ä»¤äº†ï¼Œéƒ½æ ‡å‡†åŒ–äº†ï¼‰ çµæ´»ï¼šå³ä½¿æ˜¯æœ€å¤æ‚çš„åº”ç”¨ä¹Ÿå¯ä»¥é›†è£…ç®±åŒ–\nè½»é‡çº§ï¼šå®¹å™¨åˆ©ç”¨å¹¶å…±äº«ä¸»æœºå†…æ ¸\nä¾¿æºå¼ï¼šå¯ä»¥åœ¨æœ¬åœ°æ„å»º\nDockerçš„ç»„æˆã€æ¶æ„ã€é‡è¦æ¦‚å¿µ imagesï¼ˆé•œåƒï¼‰: å­˜å‚¨ï¼šè”åˆæ–‡ä»¶ç³»ç»Ÿï¼ŒUnionFS Containerï¼ˆå®¹å™¨ï¼‰ï¼š é•œåƒç±»ä¼¼äºJavaä¸­çš„ç±»ï¼Œè€Œå®¹å™¨å°±æ˜¯å®ä¾‹ å®¹å™¨çš„è¿™ä¸€å±‚æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œè€Œé•œåƒæ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ åŒä¸€ä¸ªé•œåƒå¯ä»¥ç”Ÿæˆå¤šä¸ªå®¹å™¨ç‹¬ç«‹è¿è¡Œï¼Œè€Œä»–ä»¬ä¹‹é—´æ²¡æœ‰ä»»ä½•çš„å¹²æ‰° Repositoryï¼ˆä»“åº“ï¼‰ï¼š å®˜æ–¹ä»“åº“\né˜¿é‡Œäº‘ä»“åº“\nç½‘æ˜“äº‘ä»“åº“\næ—¶é€Ÿäº‘\nDaoCloud\nå…±æœ‰ vs ç§æœ‰\nclientå’Œdaemon clientæä¾›ç»™ç”¨æˆ·ä¸€ä¸ªç»ˆç«¯ï¼Œç”¨æˆ·è¾“å…¥Dockeræä¾›çš„å‘½ä»¤æ¥ç®¡ç†æœ¬åœ°æˆ–è¿œç¨‹çš„æœåŠ¡ daemonï¼šæœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼Œæ¥å—clientå‘é€çš„å‘½ä»¤å¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œ Dockerçš„ç½‘ç»œæ¨¡å¼ Bridge æ¡¥æ¥ï¼šç‹¬ç«‹ï¼ˆç½‘å¡ç‹¬ç«‹ã€è·¯ç”±ç‹¬ç«‹ã€iptableè§„åˆ™ç‹¬ç«‹ï¼‰çš„ç½‘ç»œï¼Œä¸ä¸»æœºæ¡¥æ¥ Host ä¸»æœºï¼šä¸æ˜¯ç‹¬ç«‹çš„ç½‘ç»œï¼Œä¸ä¸»æœºä½¿ç”¨åŒä¸€ä¸ªç½‘ç»œ None æ²¡æœ‰ç½‘ç»œ ç«¯å£æ˜ å°„æŠ€æœ¯ åˆ¶ä½œè‡ªå·±çš„Dockerå®¹å™¨ï¼Œdockerfileå®æˆ˜ dockerfileä½œç”¨ï¼šæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®é•œåƒï¼Œdockeræ ¹æ®è¿™ä¸ªæ¥ç”Ÿæˆå¯¹åº”çš„é•œåƒæ–‡ä»¶\ndockerfileçš„å¥½å¤„ï¼š\nä¾¿äºç‰ˆæœ¬æ§åˆ¶ ä¾¿äºç»´æŠ¤ç¯å¢ƒ ä¾¿äºæ–°äººåˆæ­¥äº†è§£ç¨‹åº å†™è‡ªå·±çš„dockerfile\nFROM alpine:latest # alpine--æå°å‹çš„Linuxç¯å¢ƒï¼Œè¡¨ç¤ºè¿™ä¸ªé•œåƒåŸºäºè¿™ä¸ªç³»ç»Ÿ MAINTAINER imooc # æè¿°è¿™ä¸ªé•œåƒç”±è°æ¥ç»´æŠ¤ CMD echo \u0026#39;hello my dockerfile\u0026#39; # æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚æ¥å†™ å¸¸ç”¨å‘½ä»¤ docker images # æŸ¥è¯¢å½“å‰é•œåƒåˆ—è¡¨ docker pull image # æ‹‰å–é•œåƒåˆ°æœ¬åœ° docker run images image # å‰å°è¿è¡Œ docker run -d image # åå°è¿è¡Œ dè¡¨ç¤ºdetech docker ps # æŸ¥çœ‹å½“å‰åå°è¿è¡Œçš„å®¹å™¨ docker exec -it status bash # -iä»£è¡¨å®¹å™¨è¾“å…¥æœ‰æ•ˆ -tåˆ†é…ä¸€ä¸ªç»ˆç«¯ docker stop status # å…³é—­å®¹å™¨ docker run -p 8080:80 # æœ¬æœº8080ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„80ç«¯å£ -pè‡ªå·±å®šä¹‰ -Péšæœºåˆ†é…ä¸»æœºç«¯å£ netstat -na|grep 8080 # æŸ¥è¯¢ç«¯å£çŠ¶æ€ docker build -t hello_docker .","title":"DockeråŸºç¡€"},{"content":"Nginx Nginxä»‹ç» ä½¿ç”¨åœºæ™¯ HTTPçš„åå‘ä»£ç†æœåŠ¡å™¨ è´Ÿè½½å‡è¡¡ ç¼“å­˜ åŠ¨æ€é™æ€èµ„æºåˆ†ç¦» ä¼˜ç‚¹ é«˜å¹¶å‘ã€é«˜æ€§èƒ½ å¯æ‰©å±•æ€§å¥½ï¼Œä½“ç°åœ¨æ¨¡å—åŒ–è®¾è®¡ é«˜å¯é æ€§ï¼Œå¯ä»¥æŒç»­ä¸æ–­æ•°åå¹´è¿è¡Œ çƒ­éƒ¨ç½²ï¼Œä¸åœæ­¢æœåŠ¡æ¥å‡çº§nginx å¼€æºã€å¯å•†ç”¨ Nginxå¸¸ç”¨å‘½ä»¤ ./nginx # å¯åŠ¨nginx ps -aux|grep nginx # æŸ¥çœ‹nginxç›¸å…³è¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥æŸ¥åˆ°nginxè¿è¡Œçš„è·¯å¾„ nginx -h # å¸®åŠ© nginx -c # è¯»å–æŒ‡å®šé…ç½®æ–‡ä»¶ nginx -s stop # å…³é—­nginx nginx -t # æ£€æŸ¥å½“å‰é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹å½“å‰é…ç½®æ–‡ä»¶è·¯å¾„ nginx -v # ç®€è¦ç‰ˆæœ¬ä¿¡æ¯ -Vè¯¦ç»†ä¿¡æ¯ nginx -s stop|quit| # -sä¿¡å· stopç«‹å³åœæ­¢ï¼Œquitä¼˜é›…åœæ­¢ï¼Œreloadé‡å¯ï¼Œreopenæ›´æ¢æ—¥å¿—æ–‡ä»¶ Nginxé…ç½®æ–‡ä»¶ è¯­æ³•\n;ç»“å°¾ {}ç»„ç»‡å¤šæ¡æŒ‡ä»¤ include å¼•å…¥ #æ³¨é‡Š $ å˜é‡ é»˜è®¤é…ç½®æ–‡ä»¶åˆ†æ\nnginx.conf\n# è¿è¡Œç”¨æˆ·ï¼Œé»˜è®¤æ˜¯nginx user nginx; # nginxè¿›ç¨‹æ•°,ä¸€èˆ¬è®¾ç½®ä¸ºå’Œcpuæ ¸æ•°ä¸€æ · worker_processes 1; # å…¨å±€é”™è¯¯æ—¥å¿—è·¯å¾„ error_log /var/log/nginx/error.log warn; # è¿›ç¨‹pidè·¯å¾„ pid /var/run/nginx.pid; events { # æœ€å¤§è¿æ¥æ•° worker_connections 1024; } # è®¾ç½®httpæœåŠ¡å™¨ http { include /etc/nginx/mime.types; default_type application/octet-stream; # è®¾ç½®æ—¥å¿—çš„æ ¼å¼ log_format main \u0026#39;$remote_addr - $remote_user [$time_local] \u0026#34;$request\u0026#34; \u0026#39; \u0026#39;$status $body_bytes_sent \u0026#34;$http_referer\u0026#34; \u0026#39; \u0026#39;\u0026#34;$http_user_agent\u0026#34; \u0026#34;$http_x_forwarded_for\u0026#34;\u0026#39;; # è®¿é—®æ—¥å¿—çš„è·¯å¾„ access_log /var/log/nginx/access.log main; # å¼€å¯é«˜æ•ˆä¼ è¾“æ¨¡å¼ sendfile on; #tcp_nopush on; # é•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ keepalive_timeout 65; #ä¼ è¾“æ—¶æ˜¯å¦å‹ç¼©ï¼Œå‹ç¼©çš„è¯éœ€è¦è§£å‹ï¼Œä½†æ˜¯ä¼ çš„å¤§å°å°±å°äº† #gzip on; #åŠ è½½å…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œä¸€å¸¦å¤š include /etc/nginx/conf.d/*.conf; } server { listen 80; //ç›‘å¬ç«¯å£ä¸º80ï¼Œå¯ä»¥è‡ªå®šä¹‰å…¶ä»–ç«¯å£ï¼Œä¹Ÿå¯ä»¥åŠ ä¸ŠIPåœ°å€ï¼Œå¦‚ï¼Œlisten 127.0.0.1:8080; server_name localhost; //å®šä¹‰ç½‘ç«™åŸŸåï¼Œå¯ä»¥å†™å¤šä¸ªï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚ #charset koi8-r; //å®šä¹‰ç½‘ç«™çš„å­—ç¬¦é›†ï¼Œä¸€èˆ¬ä¸è®¾ç½®ï¼Œè€Œæ˜¯åœ¨ç½‘é¡µä»£ç ä¸­è®¾ç½®ã€‚ #access_log logs/host.access.log main; //å®šä¹‰è®¿é—®æ—¥å¿—ï¼Œå¯ä»¥é’ˆå¯¹æ¯ä¸€ä¸ªserverï¼ˆå³æ¯ä¸€ä¸ªç«™ç‚¹ï¼‰è®¾ç½®å®ƒä»¬è‡ªå·±çš„è®¿é—®æ—¥å¿—ã€‚ ##åœ¨server{}é‡Œæœ‰å¾ˆå¤šlocationé…ç½®æ®µ location / { root html; //å®šä¹‰ç½‘ç«™æ ¹ç›®å½•ï¼Œç›®å½•å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚ index index.html index.htm; //å®šä¹‰ç«™ç‚¹çš„é»˜è®¤é¡µã€‚ } #error_page 404 /404.html; //å®šä¹‰404é¡µé¢ # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; //å½“çŠ¶æ€ç ä¸º500ã€502ã€503ã€504æ—¶ï¼Œåˆ™è®¿é—®50x.html location = /50x.html { root html; //å®šä¹‰50x.htmlæ‰€åœ¨è·¯å¾„ } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #å®šä¹‰è®¿é—®phpè„šæœ¬æ—¶ï¼Œå°†ä¼šæ‰§è¡Œæœ¬location{}éƒ¨åˆ†æŒ‡ä»¤ #location ~ \\.php$ { # proxy_pass http://127.0.0.1; //proxy_passåé¢æŒ‡å®šè¦è®¿é—®çš„urlé“¾æ¥ï¼Œç”¨proxy_passå®ç°ä»£ç†ã€‚ #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ { # root html; # fastcgi_pass 127.0.0.1:9000; //å®šä¹‰FastCGIæœåŠ¡å™¨ç›‘å¬ç«¯å£ä¸åœ°å€ï¼Œæ”¯æŒä¸¤ç§å½¢å¼ï¼Œ1 IP:Portï¼Œ 2 unix:/path/to/sockt # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; //å®šä¹‰SCRIPT_FILENAMEå˜é‡ï¼Œåé¢çš„è·¯å¾„/scriptsä¸ºä¸Šé¢çš„rootæŒ‡å®šçš„ç›®å½• # include fastcgi_params; //å¼•ç”¨prefix/conf/fastcgi_paramsæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å®šä¹‰äº†fastcgiç›¸å…³çš„å˜é‡ #} # deny access to .htaccess files, if Apache\u0026#39;s document root # concurs with nginx\u0026#39;s one # #location ~ /\\.ht { //è®¿é—®çš„urlä¸­ï¼Œä»¥/.htå¼€å¤´çš„ï¼Œå¦‚ï¼Œwww.example.com/.htaccessï¼Œä¼šè¢«æ‹’ç»ï¼Œè¿”å›403çŠ¶æ€ç ã€‚ # deny all; //è¿™é‡Œçš„allæŒ‡çš„æ˜¯æ‰€æœ‰çš„è¯·æ±‚ã€‚ #} } # another virtual host using mix of IP-, name-, and port-based configuration # #server { # listen 8000; //ç›‘å¬8000ç«¯å£ # listen somename:8080; //æŒ‡å®šip:port # server_name somename alias another.alias; //æŒ‡å®šå¤šä¸ªserver_name # location / { # root html; # index index.html index.htm; # } #} # HTTPS server # #server { # listen 443 ssl; //ç›‘å¬443ç«¯å£ï¼Œå³ssl # server_name localhost; ### ä»¥ä¸‹ä¸ºsslç›¸å…³é…ç½® # ssl_certificate cert.pem; //æŒ‡å®špemæ–‡ä»¶è·¯å¾„ # ssl_certificate_key cert.key; //æŒ‡å®škeyæ–‡ä»¶è·¯å¾„ # ssl_session_cache shared:SSL:1m; //æŒ‡å®šsession cacheå¤§å° # ssl_session_timeout 5m; //æŒ‡å®šsessionè¶…æ—¶æ—¶é—´ # ssl_protocols TLSv1 TLSv1.1 TLSv1.2; //æŒ‡å®šsslåè®® # ssl_ciphers HIGH:!aNULL:!MD5; //æŒ‡å®šsslç®—æ³• # ssl_prefer_server_ciphers on; //ä¼˜å…ˆé‡‡å–æœåŠ¡å™¨ç®—æ³• # location / { # root html; # index index.html index.htm; # } #} location ^~ /api { rewrite ^/api/(.*)$ /$1 break; proxy_pass http://localhost:8080; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $host; proxy_redirect off; } ","permalink":"https://rexhub.space/posts/back/java/microservices/nginx%E4%BD%BF%E7%94%A8/","summary":"Nginx Nginxä»‹ç» ä½¿ç”¨åœºæ™¯ HTTPçš„åå‘ä»£ç†æœåŠ¡å™¨ è´Ÿè½½å‡è¡¡ ç¼“å­˜ åŠ¨æ€é™æ€èµ„æºåˆ†ç¦» ä¼˜ç‚¹ é«˜å¹¶å‘ã€é«˜æ€§èƒ½ å¯æ‰©å±•æ€§å¥½ï¼Œä½“ç°åœ¨æ¨¡å—åŒ–è®¾è®¡ é«˜å¯é æ€§ï¼Œå¯ä»¥æŒç»­ä¸æ–­æ•°åå¹´è¿è¡Œ çƒ­éƒ¨ç½²ï¼Œä¸åœæ­¢æœåŠ¡æ¥å‡çº§nginx å¼€æºã€å¯å•†ç”¨ Nginxå¸¸ç”¨å‘½ä»¤ ./nginx # å¯åŠ¨nginx ps -aux|grep nginx # æŸ¥çœ‹nginxç›¸å…³è¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥æŸ¥åˆ°nginxè¿è¡Œçš„è·¯å¾„ nginx -h # å¸®åŠ© nginx -c # è¯»å–æŒ‡å®šé…ç½®æ–‡ä»¶ nginx -s stop # å…³é—­nginx nginx -t # æ£€æŸ¥å½“å‰é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹å½“å‰é…ç½®æ–‡ä»¶è·¯å¾„ nginx -v # ç®€è¦ç‰ˆæœ¬ä¿¡æ¯ -Vè¯¦ç»†ä¿¡æ¯ nginx -s stop|quit| # -sä¿¡å· stopç«‹å³åœæ­¢ï¼Œquitä¼˜é›…åœæ­¢ï¼Œreloadé‡å¯ï¼Œreopenæ›´æ¢æ—¥å¿—æ–‡ä»¶ Nginxé…ç½®æ–‡ä»¶ è¯­æ³•\n;ç»“å°¾ {}ç»„ç»‡å¤šæ¡æŒ‡ä»¤ include å¼•å…¥ #æ³¨é‡Š $ å˜é‡ é»˜è®¤é…ç½®æ–‡ä»¶åˆ†æ\nnginx.conf\n# è¿è¡Œç”¨æˆ·ï¼Œé»˜è®¤æ˜¯nginx user nginx; # nginxè¿›ç¨‹æ•°,ä¸€èˆ¬è®¾ç½®ä¸ºå’Œcpuæ ¸æ•°ä¸€æ · worker_processes 1; # å…¨å±€é”™è¯¯æ—¥å¿—è·¯å¾„ error_log /var/log/nginx/error.","title":"Nginxä½¿ç”¨"},{"content":"å¾®æœåŠ¡ å¾®æœåŠ¡æ¦‚è¿° å•ä½“åº”ç”¨çš„ç—›ç‚¹ éƒ¨ç½²æ•ˆç‡ä½ä¸‹ å›¢é˜Ÿå†™ä½œå¼€å‘æˆæœ¬é«˜ ç³»ç»Ÿé«˜å¯ç”¨æ€§å·® æœåŠ¡åŒ– æŠŠä¼ ç»Ÿçš„å•æœºåº”ç”¨ä¸­çš„æœ¬åœ°æ–¹æ³•è°ƒç”¨ï¼Œæ”¹é€ æˆé€šè¿‡RPCã€HTTPäº§ç”Ÿçš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ æŠŠæ¨¡å—ä»å•ä½“åº”ç”¨ä¸­æ‹†åˆ†å‡ºæ¥ï¼Œç‹¬ç«‹æˆä¸€ä¸ªæœåŠ¡éƒ¨ç½² ç”¨æˆ·æ¨¡å—å°±å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ã€ä¸Šçº¿å’Œè¿ç»´ï¼Œå¯ä»¥äº¤ç”±ä¸“é—¨çš„å›¢é˜Ÿæ¥åšï¼Œä¸ä¸»æ¨¡å—ä¸è€¦åˆ ä»å•ä½“åˆ°å¾®æœåŠ¡æ¶æ„ å¾®æœåŠ¡ ä¸€ç§æ¶æ„é£æ ¼ å¼€å‘å•ä¸ªåº”ç”¨ä½œä¸ºä¸€ç³»åˆ—å°å‹æœåŠ¡çš„å¥—ä»¶ï¼Œå…¶ä¸­æ¯ä¸ªæœåŠ¡éƒ½è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶ä¸”é€šè¿‡è½»é‡çº§çš„æœºåˆ¶å®ç°å½¼æ­¤é—´çš„é€šä¿¡ï¼Œè¿™é€šå¸¸æ˜¯HTTPèµ„æºAPI è¿™äº›æœåŠ¡æ˜¯å›´ç»•ç€ä¸šåŠ¡åŠŸèƒ½æ„å»ºçš„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å®Œå…¨è‡ªåŠ¨åŒ–çš„éƒ¨ç½²æœºåˆ¶è¿›è¡Œç‹¬ç«‹éƒ¨ç½² è¿™äº›æœåŠ¡çš„é›†ä¸­å¼ç®¡ç†åšåˆ°äº†æœ€å°åŒ–ï¼ˆä¾‹å¦‚dockerç›¸å…³æŠ€æœ¯ï¼‰ï¼Œæ¯ä¸€ç§æœåŠ¡éƒ½å¯ä»¥é€šè¿‡ä¸åŒçš„å˜æˆè¯­è¨€è¿›è¡Œç¼–å†™ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®å­˜å‚¨æŠ€æœ¯ å¾®æœåŠ¡çš„ç‰¹ç‚¹ ç»„ä»¶ä»¥æœåŠ¡å½¢å¼æ¥æä¾›\näº§å“ä¸æ˜¯é¡¹ç›®\nè½»é‡çº§é€šä¿¡ã€ç‹¬ç«‹è¿›ç¨‹\nåˆ†æ•£æ²»ç†ã€å»ä¸­å¿ƒåŒ–æ²»ç†\nå®¹é”™æ€§è®¾è®¡\nä¼šå¸¦æ¥å›¢é˜Ÿç»„ç»‡æ¶æ„çš„è°ƒæ•´\nå¾®æœåŠ¡ä¼˜ç‚¹ æœåŠ¡ç®€å•ã€ä¾¿äºå­¦ä¹ å’Œä¸Šæ‰‹ï¼Œå…ˆå¯¹æ˜“äºç»´æŠ¤ ç‹¬ç«‹éƒ¨ç½²ï¼Œçµæ´»æ‰©å±• æŠ€æœ¯æ ˆä¸°å¯Œ å¾®æœåŠ¡ç¼ºç‚¹ è¿ç»´æˆæœ¬è¿‡é«˜ æ¥å£å¯èƒ½ä¸åŒ¹é… ä»£ç å¯èƒ½é‡å¤ æ¶æ„å¤æ‚åº¦æé«˜ å¾®æœåŠ¡æœ‰ä¸¤å¤§é—¨æ´¾ Spring Cloudï¼šä¼—å¤šå­é¡¹ç›® dubboï¼šé«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æºJava RPCæ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ä»¥åŠæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç° æ ¸å¿ƒç»„ä»¶ Dubbo Spring Cloud æœåŠ¡æ³¨å†Œä¸­å¿ƒ Zookeeper Spring Cloud Netflix Eureka æœåŠ¡è°ƒç”¨æ–¹å¼ RPC REST API æœåŠ¡ç½‘å…³ æ—  Spring Cloud Netflix Zuul æ–­è·¯å™¨ ä¸å®Œå–„ Spring Cloud Netflix Hystrix åˆ†å¸ƒå¼é…ç½® æ— /ç™¾åº¦çš„disconfã€ç™¾åº¦çš„diamond Spring Cloud Config æœåŠ¡è·Ÿè¸ª æ— /äº¬ä¸œå¼€æºHydra Spring Cloud Sleuth æ¶ˆæ¯æ€»çº¿ æ—  Spring Cloud Bus æ•°æ®æµ æ—  Spring Cloud Stream æ‰¹é‡ä»»åŠ¡ æ— /å½“å½“å¼€æºElastic-Job Spring Cloud Task é€šä¿¡åè®®å¯¹æ¯” RPC vs REST æœåŠ¡æä¾›æ–¹ä¸è°ƒç”¨æ–¹æ¥å£ä¾èµ–æ–¹å¼å¤ªå¼º æœåŠ¡å¯¹å¹³å°æ•æ„Ÿï¼Œéš¾ä»¥ç®€å•æœåŠ¡ å¾®æœåŠ¡æ‹†åˆ† æœåŠ¡åŒ–æ‹†åˆ† ç¬¬ä¸€é˜¶æ®µçš„ä¸»è¦ç›®æ ‡æ˜¯å¿«é€Ÿå¼€å‘å’ŒéªŒè¯æƒ³æ³• è¿›ä¸€æ­¥å¢åŠ æ›´å¤šçš„æ–°ç‰¹æ€§æ¥å¸å¼•æ›´å¤šçš„ç›®æ ‡ç”¨æˆ· åŒæ—¶è¿›è¡Œå¼€å‘çš„äººå‘˜è¶…è¿‡10äººï¼Œè¿™ä¸ªæ—¶å€™å°±è¯¥è€ƒè™‘æœåŠ¡åŒ–æ‹†åˆ†äº† ä¸é€‚åˆæ‹†åˆ†çš„æƒ…å†µ å°å›¢é˜Ÿï¼ŒæŠ€æœ¯åŸºç¡€è¾ƒè–„å¼± æµé‡ä¸å¤Ÿï¼Œå‹åŠ›å°ï¼Œä¸šåŠ¡å˜åŒ–ä¹Ÿä¸å¤§ å¯¹å»¶è¿Ÿå¾ˆæ•æ„Ÿçš„ä½å»¶è¿Ÿé«˜å¹¶å‘ç³»ç»Ÿ æ‹†åˆ†æ–¹å¼ çºµå‘æ‹†åˆ†ï¼ŒæŒ‰ç…§ä¸šåŠ¡ç»´åº¦æ‹†åˆ† æ¨ªå‘æ‹†åˆ†ï¼ŒæŒ‰ç…§å…¬å…±é¢†åŸŸæ‹†åˆ† ç»“åˆä¸šåŠ¡ç»¼åˆåˆ†æ æœåŠ¡æ‰©å±• xè½´-æ°´å¹³å¤åˆ¶ï¼Œä½œä¸ºæ•´ä½“å¤åˆ¶å¤šä¸ªç³»ç»Ÿï¼Œé‡æ–°éƒ¨ç½²å‡ å¥—ï¼ŒåŠ ä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨ yè½´-åŠŸèƒ½è§£è€¦ï¼Œå¾®æœåŠ¡æ‹†è§£ zè½´-æ•°æ®åˆ†åŒºï¼Œæ‹†åˆ†æ•°æ®åº“ è‡ªåŠ¨æŒ‰éœ€æ‰©å±• æ ¹æ®CPUè´Ÿè½½ç¨‹åº¦ã€ç‰¹å®šæ—¶é—´ï¼ˆæ¯”å¦‚å‘¨æœ«ï¼‰ã€æ¶ˆæ¯ä¸­é—´ä»¶çš„é˜Ÿåˆ—é•¿åº¦ã€ä¸šåŠ¡å…·ä½“è§„åˆ™ã€é¢„æµ‹ç­‰æ¥å†³å®šæ˜¯å¦æ‰©å±• è‡ªåŠ¨åˆ†é…äº†ä¸€ä¸ªæ–°çš„æœåŠ¡å®ä¾‹ï¼Œæé«˜å¯ç”¨æ€§ æé«˜äº†å¯ä¼¸ç¼©æ€§ï¼ˆåŒ11ä¹‹åï¼Œè‡ªåŠ¨å‡å°‘äº†æœåŠ¡å™¨ï¼‰ å…·æœ‰æœ€ä½³ä½¿ç”¨ç‡ï¼ŒèŠ‚çº¦æˆæœ¬ å¾®æœåŠ¡é‡è¦æ¨¡å— æœåŠ¡æè¿° æ³¨å†ŒæœåŠ¡ä¸­å¿ƒ æœåŠ¡æ¡†æ¶ è´Ÿè½½å‡è¡¡ ç†”æ–­å’Œé™çº§ï¼Œå…œåº•ç­–ç•¥ ç½‘å…³ï¼šç»Ÿä¸€è½¬æ¢ï¼Œæ ¡éªŒï¼Œè¿‡æ»¤å™¨ ","permalink":"https://rexhub.space/posts/back/java/microservices/%E5%BE%AE%E6%9C%8D%E5%8A%A1/","summary":"å¾®æœåŠ¡ å¾®æœåŠ¡æ¦‚è¿° å•ä½“åº”ç”¨çš„ç—›ç‚¹ éƒ¨ç½²æ•ˆç‡ä½ä¸‹ å›¢é˜Ÿå†™ä½œå¼€å‘æˆæœ¬é«˜ ç³»ç»Ÿé«˜å¯ç”¨æ€§å·® æœåŠ¡åŒ– æŠŠä¼ ç»Ÿçš„å•æœºåº”ç”¨ä¸­çš„æœ¬åœ°æ–¹æ³•è°ƒç”¨ï¼Œæ”¹é€ æˆé€šè¿‡RPCã€HTTPäº§ç”Ÿçš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ æŠŠæ¨¡å—ä»å•ä½“åº”ç”¨ä¸­æ‹†åˆ†å‡ºæ¥ï¼Œç‹¬ç«‹æˆä¸€ä¸ªæœåŠ¡éƒ¨ç½² ç”¨æˆ·æ¨¡å—å°±å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ã€ä¸Šçº¿å’Œè¿ç»´ï¼Œå¯ä»¥äº¤ç”±ä¸“é—¨çš„å›¢é˜Ÿæ¥åšï¼Œä¸ä¸»æ¨¡å—ä¸è€¦åˆ ä»å•ä½“åˆ°å¾®æœåŠ¡æ¶æ„ å¾®æœåŠ¡ ä¸€ç§æ¶æ„é£æ ¼ å¼€å‘å•ä¸ªåº”ç”¨ä½œä¸ºä¸€ç³»åˆ—å°å‹æœåŠ¡çš„å¥—ä»¶ï¼Œå…¶ä¸­æ¯ä¸ªæœåŠ¡éƒ½è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶ä¸”é€šè¿‡è½»é‡çº§çš„æœºåˆ¶å®ç°å½¼æ­¤é—´çš„é€šä¿¡ï¼Œè¿™é€šå¸¸æ˜¯HTTPèµ„æºAPI è¿™äº›æœåŠ¡æ˜¯å›´ç»•ç€ä¸šåŠ¡åŠŸèƒ½æ„å»ºçš„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å®Œå…¨è‡ªåŠ¨åŒ–çš„éƒ¨ç½²æœºåˆ¶è¿›è¡Œç‹¬ç«‹éƒ¨ç½² è¿™äº›æœåŠ¡çš„é›†ä¸­å¼ç®¡ç†åšåˆ°äº†æœ€å°åŒ–ï¼ˆä¾‹å¦‚dockerç›¸å…³æŠ€æœ¯ï¼‰ï¼Œæ¯ä¸€ç§æœåŠ¡éƒ½å¯ä»¥é€šè¿‡ä¸åŒçš„å˜æˆè¯­è¨€è¿›è¡Œç¼–å†™ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®å­˜å‚¨æŠ€æœ¯ å¾®æœåŠ¡çš„ç‰¹ç‚¹ ç»„ä»¶ä»¥æœåŠ¡å½¢å¼æ¥æä¾›\näº§å“ä¸æ˜¯é¡¹ç›®\nè½»é‡çº§é€šä¿¡ã€ç‹¬ç«‹è¿›ç¨‹\nåˆ†æ•£æ²»ç†ã€å»ä¸­å¿ƒåŒ–æ²»ç†\nå®¹é”™æ€§è®¾è®¡\nä¼šå¸¦æ¥å›¢é˜Ÿç»„ç»‡æ¶æ„çš„è°ƒæ•´\nå¾®æœåŠ¡ä¼˜ç‚¹ æœåŠ¡ç®€å•ã€ä¾¿äºå­¦ä¹ å’Œä¸Šæ‰‹ï¼Œå…ˆå¯¹æ˜“äºç»´æŠ¤ ç‹¬ç«‹éƒ¨ç½²ï¼Œçµæ´»æ‰©å±• æŠ€æœ¯æ ˆä¸°å¯Œ å¾®æœåŠ¡ç¼ºç‚¹ è¿ç»´æˆæœ¬è¿‡é«˜ æ¥å£å¯èƒ½ä¸åŒ¹é… ä»£ç å¯èƒ½é‡å¤ æ¶æ„å¤æ‚åº¦æé«˜ å¾®æœåŠ¡æœ‰ä¸¤å¤§é—¨æ´¾ Spring Cloudï¼šä¼—å¤šå­é¡¹ç›® dubboï¼šé«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æºJava RPCæ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ä»¥åŠæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç° æ ¸å¿ƒç»„ä»¶ Dubbo Spring Cloud æœåŠ¡æ³¨å†Œä¸­å¿ƒ Zookeeper Spring Cloud Netflix Eureka æœåŠ¡è°ƒç”¨æ–¹å¼ RPC REST API æœåŠ¡ç½‘å…³ æ—  Spring Cloud Netflix Zuul æ–­è·¯å™¨ ä¸å®Œå–„ Spring Cloud Netflix Hystrix åˆ†å¸ƒå¼é…ç½® æ— /ç™¾åº¦çš„disconfã€ç™¾åº¦çš„diamond Spring Cloud Config æœåŠ¡è·Ÿè¸ª æ— /äº¬ä¸œå¼€æºHydra Spring Cloud Sleuth æ¶ˆæ¯æ€»çº¿ æ—  Spring Cloud Bus æ•°æ®æµ æ—  Spring Cloud Stream æ‰¹é‡ä»»åŠ¡ æ— /å½“å½“å¼€æºElastic-Job Spring Cloud Task é€šä¿¡åè®®å¯¹æ¯” RPC vs REST æœåŠ¡æä¾›æ–¹ä¸è°ƒç”¨æ–¹æ¥å£ä¾èµ–æ–¹å¼å¤ªå¼º æœåŠ¡å¯¹å¹³å°æ•æ„Ÿï¼Œéš¾ä»¥ç®€å•æœåŠ¡ å¾®æœåŠ¡æ‹†åˆ† æœåŠ¡åŒ–æ‹†åˆ† ç¬¬ä¸€é˜¶æ®µçš„ä¸»è¦ç›®æ ‡æ˜¯å¿«é€Ÿå¼€å‘å’ŒéªŒè¯æƒ³æ³• è¿›ä¸€æ­¥å¢åŠ æ›´å¤šçš„æ–°ç‰¹æ€§æ¥å¸å¼•æ›´å¤šçš„ç›®æ ‡ç”¨æˆ· åŒæ—¶è¿›è¡Œå¼€å‘çš„äººå‘˜è¶…è¿‡10äººï¼Œè¿™ä¸ªæ—¶å€™å°±è¯¥è€ƒè™‘æœåŠ¡åŒ–æ‹†åˆ†äº† ä¸é€‚åˆæ‹†åˆ†çš„æƒ…å†µ å°å›¢é˜Ÿï¼ŒæŠ€æœ¯åŸºç¡€è¾ƒè–„å¼± æµé‡ä¸å¤Ÿï¼Œå‹åŠ›å°ï¼Œä¸šåŠ¡å˜åŒ–ä¹Ÿä¸å¤§ å¯¹å»¶è¿Ÿå¾ˆæ•æ„Ÿçš„ä½å»¶è¿Ÿé«˜å¹¶å‘ç³»ç»Ÿ æ‹†åˆ†æ–¹å¼ çºµå‘æ‹†åˆ†ï¼ŒæŒ‰ç…§ä¸šåŠ¡ç»´åº¦æ‹†åˆ† æ¨ªå‘æ‹†åˆ†ï¼ŒæŒ‰ç…§å…¬å…±é¢†åŸŸæ‹†åˆ† ç»“åˆä¸šåŠ¡ç»¼åˆåˆ†æ æœåŠ¡æ‰©å±• xè½´-æ°´å¹³å¤åˆ¶ï¼Œä½œä¸ºæ•´ä½“å¤åˆ¶å¤šä¸ªç³»ç»Ÿï¼Œé‡æ–°éƒ¨ç½²å‡ å¥—ï¼ŒåŠ ä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨ yè½´-åŠŸèƒ½è§£è€¦ï¼Œå¾®æœåŠ¡æ‹†è§£ zè½´-æ•°æ®åˆ†åŒºï¼Œæ‹†åˆ†æ•°æ®åº“ è‡ªåŠ¨æŒ‰éœ€æ‰©å±• æ ¹æ®CPUè´Ÿè½½ç¨‹åº¦ã€ç‰¹å®šæ—¶é—´ï¼ˆæ¯”å¦‚å‘¨æœ«ï¼‰ã€æ¶ˆæ¯ä¸­é—´ä»¶çš„é˜Ÿåˆ—é•¿åº¦ã€ä¸šåŠ¡å…·ä½“è§„åˆ™ã€é¢„æµ‹ç­‰æ¥å†³å®šæ˜¯å¦æ‰©å±• è‡ªåŠ¨åˆ†é…äº†ä¸€ä¸ªæ–°çš„æœåŠ¡å®ä¾‹ï¼Œæé«˜å¯ç”¨æ€§ æé«˜äº†å¯ä¼¸ç¼©æ€§ï¼ˆåŒ11ä¹‹åï¼Œè‡ªåŠ¨å‡å°‘äº†æœåŠ¡å™¨ï¼‰ å…·æœ‰æœ€ä½³ä½¿ç”¨ç‡ï¼ŒèŠ‚çº¦æˆæœ¬ å¾®æœåŠ¡é‡è¦æ¨¡å— æœåŠ¡æè¿° æ³¨å†ŒæœåŠ¡ä¸­å¿ƒ æœåŠ¡æ¡†æ¶ è´Ÿè½½å‡è¡¡ ç†”æ–­å’Œé™çº§ï¼Œå…œåº•ç­–ç•¥ ç½‘å…³ï¼šç»Ÿä¸€è½¬æ¢ï¼Œæ ¡éªŒï¼Œè¿‡æ»¤å™¨ ","title":"å¾®æœåŠ¡"},{"content":"RabbitMQ RabbitMQç®€ä»‹ æ ¸å¿ƒæ€æƒ³ æ¥å—å¹¶è½¬å‘æ¶ˆæ¯ã€‚\nproducer: P queue: queue_name Consumer: C æ¶ˆæ¯é˜Ÿåˆ—ï¼š ä¸šåŠ¡æ— å…³ FIFO å®¹ç¾ æ€§èƒ½ ç‰¹ç‚¹ï¼š å¼€æºã€è·¨è¯­è¨€ Erlangè¯­è¨€ç¼–å†™ åº”ç”¨å¹¿æ³› ç¤¾åŒºæ´»è·ƒã€APIä¸°å¯Œ AMBQåè®® Advanced Message Queue Protocol RabbitMQæ ¸å¿ƒæ¦‚å¿µ Serverï¼šæœåŠ¡ connectionï¼šä¸Serverå»ºç«‹è¿æ¥ channelï¼šä¿¡é“ï¼Œå‡ ä¹æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨ä¿¡é“ä¸Šè¿›è¡Œï¼Œå®¢æˆ·ç«¯å¯ä»¥å»ºç«‹å¤šä¸ªä¿¡é“ messageï¼šæ¶ˆæ¯ï¼Œæœ‰propertieså’Œbodyç»„æˆ virtual hostï¼šè™šæ‹Ÿä¸»æœºï¼Œé¡¶å±‚éš”ç¦»ã€‚åŒä¸€ä¸ªè™šæ‹Ÿä¸»æœºä¸‹ï¼Œä¸èƒ½æœ‰é‡å¤çš„äº¤æ¢æœºå’Œqueue Exchangeï¼šäº¤æ¢æœºï¼Œæ¥æ”¶ç”Ÿäº§è€…çš„æ¶ˆæ¯çš„ï¼Œç„¶åæ ¹æ®æŒ‡å®šçš„è·¯ç”±å™¨å»æŠŠæ¶ˆæ¯è½¬å‘åˆ°é”ç»‘å®šçš„é˜Ÿåˆ—ä¸Š bindingï¼šç»‘å®šäº¤æ¢æœºå’Œé˜Ÿåˆ— routing keyï¼šè·¯ç”±é”®ï¼Œè·¯ç”±è§„åˆ™ï¼Œè™šæ‹Ÿæœºå¯ä»¥ç”¨å®ƒæ¥ç¡®å®šè¿™ä¸ªæ¶ˆæ¯å¦‚ä½•è¿›è¡Œä¸€ä¸ªè·¯ç”± queueï¼šé˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…åªéœ€è¦ç›‘å¬é˜Ÿåˆ—æ¥æ¶ˆè´¹ä¿¡æ¯ï¼Œä¸éœ€è¦å…³æ³¨æ¶ˆæ¯æ¥è‡ªäºå“ªä¸ªExchange Exchangeå’ŒMessage Queueå­˜åœ¨ç€ç»‘å®šçš„å…³ç³»ï¼Œä¸€ä¸ªExchangeå¯ä»¥ç»‘å®šå¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ— æ¶ˆæ¯æµè½¬è¿‡ç¨‹ RabbitMQå¸¸ç”¨å‘½ä»¤ systemctl start rabbitmq-server # å¯åŠ¨rabbitmq rabbitmqctl status # æŸ¥çœ‹çŠ¶æ€ RabbitMQåå°ç®¡ç† http://1.117.91.88:15672/#/connections rabbitmq management\nRabbitMQåº”ç”¨ ç¬¬ä¸€ä¸ªjavaåº”ç”¨ Hello world å¯¼å…¥ä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.rabbitmq\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;amqp-client\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.8.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.slf4j\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;slf4j-nop\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.7.29\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; Send.java\npackage helloworld; import com.rabbitmq.client.Channel; import com.rabbitmq.client.Connection; import com.rabbitmq.client.ConnectionFactory; import java.io.IOException; import java.util.concurrent.TimeoutException; /** * @Description: Hello worldå‘é€ç±»ï¼Œè¿æ¥åˆ°RabbitMQæœåŠ¡ç«¯ï¼Œ * ç„¶åå‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œç„¶åé€€å‡ºã€‚ * @Author: Rex * @Create: 2021-06-16 12:54 */ public class Send { private final static String QUEUE_NAME = \u0026#34;hello\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { // åˆ›å»ºè¿æ¥å·¥å‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®RabbitMQåœ°å€ factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); // å»ºç«‹è¿æ¥ Connection conn = factory.newConnection(); // è·å¾—ä¿¡é“ Channel channel = conn.createChannel(); // å£°æ˜é˜Ÿåˆ— channel.queueDeclare(QUEUE_NAME, false, false, false, null); // å‘å¸ƒæ¶ˆæ¯ String message = \u0026#34;Hello rex!\u0026#34;; channel.basicPublish(\u0026#34;\u0026#34;, QUEUE_NAME, null, message.getBytes(\u0026#34;UTF-8\u0026#34;)); System.out.println(\u0026#34;å‘é€äº†æ¶ˆæ¯ï¼š\u0026#34; + message); // å…³é—­è¿æ¥ channel.close(); conn.close(); } } Resv.java\npackage helloworld; import com.rabbitmq.client.*; import java.io.IOException; import java.util.concurrent.TimeoutException; /** * @Description: æ¥å—æ¶ˆæ¯ï¼Œå¹¶æ‰“å°ï¼ŒæŒç»­è¿è¡Œ * @Author: Rex * @Create: 2021-06-16 13:11 */ public class Recv { private final static String QUEUE_NAME = \u0026#34;hello\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { // åˆ›å»ºè¿æ¥å·¥å‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®RabbitMQåœ°å€ factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); // å»ºç«‹è¿æ¥ Connection conn = factory.newConnection(); // è·å¾—ä¿¡é“ Channel channel = conn.createChannel(); // å£°æ˜é˜Ÿåˆ— channel.queueDeclare(QUEUE_NAME, false, false, false, null); // æ¥å—æ¶ˆæ¯ channel.basicConsume(QUEUE_NAME, true, new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, \u0026#34;UTF-8\u0026#34;); System.out.println(\u0026#34;æ¥æ”¶åˆ°äº†æ¶ˆæ¯ï¼š\u0026#34; + message); } }); } } æ§åˆ¶å°\nSend å‘é€äº†æ¶ˆæ¯ï¼šHello rex! Recv æ¥æ”¶åˆ°äº†æ¶ˆæ¯ï¼šHello rex! å¤šä¸ªæ¶ˆè´¹è€…å¹³å‡åˆ†é… NewTask.java\npackage workqueues; import com.rabbitmq.client.*; import java.io.IOException; import java.util.concurrent.TimeoutException; /** * @Description: æ¶ˆè´¹è€…ï¼Œæ¥å—å‰é¢çš„æ‰¹é‡æ¶ˆæ¯ * @Author: Rex * @Create: 2021-06-16 14:23 */ public class Worker { private final static String TASK_QUEUE_NAME = \u0026#34;task_queue\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { // åˆ›å»ºè¿æ¥å·¥å‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®RabbitMQåœ°å€ factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); // å»ºç«‹è¿æ¥ Connection conn = factory.newConnection(); // è·å¾—ä¿¡é“ Channel channel = conn.createChannel(); // å£°æ˜é˜Ÿåˆ— channel.basicQos(1); channel.queueDeclare(TASK_QUEUE_NAME, true, false, false, null); System.out.println(\u0026#34;å¼€å§‹æ¥æ”¶æ¶ˆæ¯\u0026#34;); channel.basicConsume(TASK_QUEUE_NAME, false, new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, \u0026#34;UTF-8\u0026#34;); System.out.println(\u0026#34;æ”¶åˆ°äº†æ¶ˆæ¯ï¼š\u0026#34; + message); try { doWork(message); } finally { System.out.println(\u0026#34;å®Œæˆæ¶ˆæ¯å¤„ç†\u0026#34;); channel.basicAck(envelope.getDeliveryTag(), false); } } }); } private static void doWork(String task){ char[] chars = task.toCharArray(); for (char ch : chars) { if (ch == \u0026#39;.\u0026#39;){ try { Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } } } } } Worker\npackage workqueues; import com.rabbitmq.client.*; import java.io.IOException; import java.util.concurrent.TimeoutException; /** * @Description: æ¶ˆè´¹è€…ï¼Œæ¥å—å‰é¢çš„æ‰¹é‡æ¶ˆæ¯ * @Author: Rex * @Create: 2021-06-16 14:23 */ public class Worker { private final static String TASK_QUEUE_NAME = \u0026#34;task_queue\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { // åˆ›å»ºè¿æ¥å·¥å‚ ConnectionFactory factory = new ConnectionFactory(); // è®¾ç½®RabbitMQåœ°å€ factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); // å»ºç«‹è¿æ¥ Connection conn = factory.newConnection(); // è·å¾—ä¿¡é“ Channel channel = conn.createChannel(); // å£°æ˜é˜Ÿåˆ— channel.basicQos(1); channel.queueDeclare(TASK_QUEUE_NAME, true, false, false, null); System.out.println(\u0026#34;å¼€å§‹æ¥æ”¶æ¶ˆæ¯\u0026#34;); channel.basicConsume(TASK_QUEUE_NAME, false, new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, \u0026#34;UTF-8\u0026#34;); System.out.println(\u0026#34;æ”¶åˆ°äº†æ¶ˆæ¯ï¼š\u0026#34; + message); try { doWork(message); } finally { System.out.println(\u0026#34;å®Œæˆæ¶ˆæ¯å¤„ç†\u0026#34;); channel.basicAck(envelope.getDeliveryTag(), false); } } }); } private static void doWork(String task){ char[] chars = task.toCharArray(); for (char ch : chars) { if (ch == \u0026#39;.\u0026#39;){ try { Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } } } } } æ§åˆ¶å°\nNewTask å‘é€äº†æ¶ˆæ¯ï¼šmessage 0... å‘é€äº†æ¶ˆæ¯ï¼šmessage 1 å‘é€äº†æ¶ˆæ¯ï¼šmessage 2... å‘é€äº†æ¶ˆæ¯ï¼šmessage 3 å‘é€äº†æ¶ˆæ¯ï¼šmessage 4... å‘é€äº†æ¶ˆæ¯ï¼šmessage 5 å‘é€äº†æ¶ˆæ¯ï¼šmessage 6... å‘é€äº†æ¶ˆæ¯ï¼šmessage 7 å‘é€äº†æ¶ˆæ¯ï¼šmessage 8... å‘é€äº†æ¶ˆæ¯ï¼šmessage 9 Worker(1) å¼€å§‹æ¥æ”¶æ¶ˆæ¯ æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 0... å®Œæˆæ¶ˆæ¯å¤„ç† æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 5 å®Œæˆæ¶ˆæ¯å¤„ç† æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 7 å®Œæˆæ¶ˆæ¯å¤„ç† æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 8... å®Œæˆæ¶ˆæ¯å¤„ç† Worker(2) å¼€å§‹æ¥æ”¶æ¶ˆæ¯ æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 1 å®Œæˆæ¶ˆæ¯å¤„ç† æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 3 å®Œæˆæ¶ˆæ¯å¤„ç† æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 4... å®Œæˆæ¶ˆæ¯å¤„ç† æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 9 å®Œæˆæ¶ˆæ¯å¤„ç† Worker(3) å¼€å§‹æ¥æ”¶æ¶ˆæ¯ æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 2... å®Œæˆæ¶ˆæ¯å¤„ç† æ”¶åˆ°äº†æ¶ˆæ¯ï¼šmessage 6... å®Œæˆæ¶ˆæ¯å¤„ç† äº¤æ¢æœº äº¤æ¢æœºå·¥ä½œæ¨¡å¼ fanout\nå¹¿æ’­ï¼Œè¿™ç§æ¨¡å¼åªéœ€è¦å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœºä¸Šå³å¯ï¼Œæ˜¯ä¸éœ€è¦è®¾ç½®è·¯ç”±é”®çš„\nEmitLog.java\npackage fanout; import com.rabbitmq.client.BuiltinExchangeType; import com.rabbitmq.client.Channel; import com.rabbitmq.client.Connection; import com.rabbitmq.client.ConnectionFactory; import java.io.IOException; import java.nio.charset.StandardCharsets; import java.util.concurrent.Exchanger; import java.util.concurrent.TimeoutException; /** * @Description: å‘é€æ—¥å¿—ä¿¡æ¯ * @Author: Rex * @Create: 2021-06-17 15:58 */ public class EmitLog { private static final String EXCHANGE_NAME = \u0026#34;logs\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); Connection conn = factory.newConnection(); Channel channel = conn.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.FANOUT.getType()); String message = \u0026#34;info: Hello World!\u0026#34;; channel.basicPublish(EXCHANGE_NAME, \u0026#34;\u0026#34;, null, message.getBytes(StandardCharsets.UTF_8)); System.out.println(\u0026#34;å‘é€äº†æ¶ˆæ¯ï¼š\u0026#34; + message); channel.close(); conn.close(); } } ReceiveLogs.java\npackage fanout; import com.rabbitmq.client.*; import java.io.IOException; import java.nio.charset.StandardCharsets; import java.util.concurrent.TimeoutException; /** * @Description: æ¥å—æ—¥å¿—æ¶ˆæ¯ * @Author: Rex * @Create: 2021-06-17 16:07 */ public class ReceiveLogs { private static final String EXCHANGE_NAME = \u0026#34;logs\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); Connection conn = factory.newConnection(); Channel channel = conn.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.FANOUT.getType()); // ä¸´æ—¶é˜Ÿåˆ— String queueName = channel.queueDeclare().getQueue(); // å°†é˜Ÿåˆ—ç»‘å®šåœ¨äº¤æ¢æœºä¸Š channel.queueBind(queueName, EXCHANGE_NAME, \u0026#34;\u0026#34;); System.out.println(\u0026#34;å¼€å§‹æ¥å—æ¶ˆæ¯\u0026#34;); DefaultConsumer consumer = new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, StandardCharsets.UTF_8); System.out.println(\u0026#34;æ”¶åˆ°æ¶ˆæ¯ï¼š\u0026#34; + message); } }; channel.basicConsume(queueName, true, consumer); } } æ§åˆ¶å°\nEmitLog å‘é€äº†æ¶ˆæ¯ï¼šinfo: Hello World! ReceiveLogs å¼€å§‹æ¥å—æ¶ˆæ¯ æ”¶åˆ°æ¶ˆæ¯ï¼šinfo: Hello World! ReceiveLogs(2) å¼€å§‹æ¥å—æ¶ˆæ¯ æ”¶åˆ°æ¶ˆæ¯ï¼šinfo: Hello World! ReceiveLogs(3) å¼€å§‹æ¥å—æ¶ˆæ¯ æ”¶åˆ°æ¶ˆæ¯ï¼šinfo: Hello World! direct\næ ¹æ®RoutingKeyåŒ¹é…æ¶ˆæ¯è·¯ç”±åˆ°æŒ‡å®šçš„é˜Ÿåˆ—\nEmitLogDirect\npackage direct; import com.rabbitmq.client.BuiltinExchangeType; import com.rabbitmq.client.Channel; import com.rabbitmq.client.Connection; import com.rabbitmq.client.ConnectionFactory; import java.io.IOException; import java.nio.charset.StandardCharsets; import java.util.concurrent.TimeoutException; /** * @Description: directç±»å‹çš„äº¤æ¢æœºï¼Œå‘é€æ¶ˆæ¯ * @Author: Rex * @Create: 2021-06-17 16:31 */ public class EmitLogDirect { private static final String EXCHANGE_NAME = \u0026#34;direct_logs\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); Connection conn = factory.newConnection(); Channel channel = conn.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT.getType()); String message = \u0026#34;info: Hello World!\u0026#34;; channel.basicPublish(EXCHANGE_NAME, \u0026#34;info\u0026#34;, null, message.getBytes(StandardCharsets.UTF_8)); System.out.println(\u0026#34;å‘é€äº†æ¶ˆæ¯ï¼Œ\u0026#34; + \u0026#34;ç­‰çº§ä¸ºinfoï¼Œæ¶ˆæ¯å†…å®¹ï¼š\u0026#34;+ message); message = \u0026#34;warning: Hello World!\u0026#34;; channel.basicPublish(EXCHANGE_NAME, \u0026#34;warning\u0026#34;, null, message.getBytes(StandardCharsets.UTF_8)); System.out.println(\u0026#34;å‘é€äº†æ¶ˆæ¯ï¼Œ\u0026#34; + \u0026#34;ç­‰çº§ä¸ºwarningï¼Œæ¶ˆæ¯å†…å®¹ï¼š\u0026#34;+ message); message = \u0026#34;error: Hello World!\u0026#34;; channel.basicPublish(EXCHANGE_NAME, \u0026#34;error\u0026#34;, null, message.getBytes(StandardCharsets.UTF_8)); System.out.println(\u0026#34;å‘é€äº†æ¶ˆæ¯ï¼Œ\u0026#34; + \u0026#34;ç­‰çº§ä¸ºerrorï¼Œæ¶ˆæ¯å†…å®¹ï¼š\u0026#34;+ message); channel.close(); conn.close(); } } ReceiveLogsDirect1.java\npackage direct; import com.rabbitmq.client.*; import java.io.IOException; import java.nio.charset.StandardCharsets; import java.util.concurrent.TimeoutException; /** * @Description: æ¥å—3ä¸ªç±»å‹ç­‰çº§çš„æ—¥å¿— * @Author: Rex * @Create: 2021-06-17 16:37 */ public class ReceiveLogsDirect1 { private static final String EXCHANGE_NAME = \u0026#34;direct_logs\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); Connection conn = factory.newConnection(); Channel channel = conn.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT.getType()); // ç”Ÿæˆä¸€ä¸ªéšæœºçš„ä¸´æ—¶çš„é˜Ÿåˆ— String queueName = channel.queueDeclare().getQueue(); // ä¸€ä¸ªäº¤æ¢æœºåŒæ—¶ç»‘å®š3ä¸ªå¯¹åˆ— channel.queueBind(queueName, EXCHANGE_NAME, \u0026#34;info\u0026#34;); channel.queueBind(queueName, EXCHANGE_NAME, \u0026#34;warning\u0026#34;); channel.queueBind(queueName, EXCHANGE_NAME, \u0026#34;error\u0026#34;); System.out.println(\u0026#34;å¼€å§‹æ¥å—æ¶ˆæ¯\u0026#34;); DefaultConsumer consumer = new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, StandardCharsets.UTF_8); System.out.println(\u0026#34;æ”¶åˆ°æ¶ˆæ¯ï¼š\u0026#34; + message); } }; channel.basicConsume(queueName, true, consumer); } } ReceiveLogsDirect2.java\npackage direct; import com.rabbitmq.client.*; import java.io.IOException; import java.nio.charset.StandardCharsets; import java.util.concurrent.TimeoutException; /** * @Description: æ¥å—1ä¸ªç±»å‹ç­‰çº§çš„æ—¥å¿— * @Author: Rex * @Create: 2021-06-17 16:37 */ public class ReceiveLogsDirect2 { private static final String EXCHANGE_NAME = \u0026#34;direct_logs\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); Connection conn = factory.newConnection(); Channel channel = conn.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT.getType()); // ç”Ÿæˆä¸€ä¸ªéšæœºçš„ä¸´æ—¶çš„é˜Ÿåˆ— String queueName = channel.queueDeclare().getQueue(); // ä¸€ä¸ªäº¤æ¢æœºåªç»‘å®š1ä¸ªå¯¹åˆ— channel.queueBind(queueName, EXCHANGE_NAME, \u0026#34;error\u0026#34;); System.out.println(\u0026#34;å¼€å§‹æ¥å—æ¶ˆæ¯\u0026#34;); DefaultConsumer consumer = new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, StandardCharsets.UTF_8); System.out.println(\u0026#34;æ”¶åˆ°æ¶ˆæ¯ï¼š\u0026#34; + message); } }; channel.basicConsume(queueName, true, consumer); } } æ§åˆ¶å°\nEmitLogDirect: å‘é€äº†æ¶ˆæ¯ï¼Œç­‰çº§ä¸ºinfoï¼Œæ¶ˆæ¯å†…å®¹ï¼šinfo: Hello World! å‘é€äº†æ¶ˆæ¯ï¼Œç­‰çº§ä¸ºwarningï¼Œæ¶ˆæ¯å†…å®¹ï¼šwarning: Hello World! å‘é€äº†æ¶ˆæ¯ï¼Œç­‰çº§ä¸ºerrorï¼Œæ¶ˆæ¯å†…å®¹ï¼šerror: Hello World! ReceiveLogsDirect1: å¼€å§‹æ¥å—æ¶ˆæ¯ æ”¶åˆ°æ¶ˆæ¯ï¼šinfo: Hello World! æ”¶åˆ°æ¶ˆæ¯ï¼šwarning: Hello World! æ”¶åˆ°æ¶ˆæ¯ï¼šerror: Hello World! ReceiveLogsDirect2: å¼€å§‹æ¥å—æ¶ˆæ¯ æ”¶åˆ°æ¶ˆæ¯ï¼šerror: Hello World! topic\nç”Ÿäº§è€…æŒ‡å®šRoutingKeyæ¶ˆæ¯æ ¹æ®æ¶ˆè´¹ç«¯æŒ‡å®šçš„é˜Ÿåˆ—é€šè¿‡æ¨¡ç³ŠåŒ¹é…çš„æ–¹å¼è¿›è¡Œç›¸åº”è½¬å‘\n*å¯ä»¥ä»£æ›¿ä¸€ä¸ªå•è¯ #å¯ä»¥ä»£æ›¿é›¶ä¸ªæˆ–å¤šä¸ªå•è¯ EmitLogTopic.java\npackage topic; import com.rabbitmq.client.BuiltinExchangeType; import com.rabbitmq.client.Channel; import com.rabbitmq.client.Connection; import com.rabbitmq.client.ConnectionFactory; import java.io.IOException; import java.nio.charset.StandardCharsets; import java.util.concurrent.TimeoutException; /** * @Description: Topicæ¨¡å¼äº¤æ¢æœºï¼Œå‘é€æ¶ˆæ¯ * @Author: Rex * @Create: 2021-06-18 11:23 */ public class EmitLogTopic { private static final String EXCHANGE_NAME = \u0026#34;topic_logs\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); Connection conn = factory.newConnection(); Channel channel = conn.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC.getType()); String message = \u0026#34;Animal world!\u0026#34;; String[] routingKeys = new String[9]; routingKeys[0] = \u0026#34;quick.orange.rabbit\u0026#34;; routingKeys[1] = \u0026#34;lazy.orange.elephant\u0026#34;; routingKeys[2] = \u0026#34;quick.orange.fox\u0026#34;; routingKeys[3] = \u0026#34;lazy.brown.fox\u0026#34;; routingKeys[4] = \u0026#34;lazy.pink.rabbit\u0026#34;; routingKeys[5] = \u0026#34;quick.brown.fox\u0026#34;; routingKeys[6] = \u0026#34;orange\u0026#34;; routingKeys[7] = \u0026#34;quick.orange.male.rabbit\u0026#34;; routingKeys[8] = \u0026#34;lazy.orange.male.rabbit\u0026#34;; for (int i = 0; i \u0026lt; routingKeys.length; i++) { channel.basicPublish(EXCHANGE_NAME, routingKeys[i], null, message.getBytes(StandardCharsets.UTF_8)); System.out.println(\u0026#34;å‘é€äº†ï¼š\u0026#34; + message + \u0026#34;routingKeyï¼š\u0026#34; + routingKeys[i]); } channel.close(); conn.close(); } } ReceiveLogsTopic1.java\npackage topic; import com.rabbitmq.client.*; import java.io.IOException; import java.nio.charset.StandardCharsets; import java.util.concurrent.TimeoutException; /** * @Description: ç‰¹å®šè·¯ç”±é”® * @Author: Rex * @Create: 2021-06-18 11:48 */ public class ReceiveLogsTopic1 { private static final String EXCHANGE_NAME = \u0026#34;topic_logs\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); Connection conn = factory.newConnection(); Channel channel = conn.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC.getType()); // ç”Ÿæˆä¸€ä¸ªéšæœºçš„ä¸´æ—¶çš„é˜Ÿåˆ— String queueName = channel.queueDeclare().getQueue(); String routingKey = \u0026#34;*.orange.*\u0026#34;; channel.queueBind(queueName, EXCHANGE_NAME, routingKey); System.out.println(\u0026#34;å¼€å§‹æ¥å—æ¶ˆæ¯\u0026#34;); DefaultConsumer consumer = new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, StandardCharsets.UTF_8); System.out.println(\u0026#34;æ”¶åˆ°æ¶ˆæ¯ï¼š\u0026#34; + message + \u0026#34; routingKey: \u0026#34; + envelope.getRoutingKey()); } }; channel.basicConsume(queueName, true, consumer); } } ReveiveLogsTopic2.java\npackage topic; import com.rabbitmq.client.*; import java.io.IOException; import java.nio.charset.StandardCharsets; import java.util.concurrent.TimeoutException; /** * @Description: ç‰¹å®šè·¯ç”±é”® * @Author: Rex * @Create: 2021-06-18 11:48 */ public class ReceiveLogsTopic1 { private static final String EXCHANGE_NAME = \u0026#34;topic_logs\u0026#34;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(\u0026#34;1.117.91.88\u0026#34;); factory.setUsername(\u0026#34;admin\u0026#34;); factory.setPassword(\u0026#34;admin\u0026#34;); Connection conn = factory.newConnection(); Channel channel = conn.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC.getType()); // ç”Ÿæˆä¸€ä¸ªéšæœºçš„ä¸´æ—¶çš„é˜Ÿåˆ— String queueName = channel.queueDeclare().getQueue(); String routingKey = \u0026#34;*.orange.*\u0026#34;; channel.queueBind(queueName, EXCHANGE_NAME, routingKey); System.out.println(\u0026#34;å¼€å§‹æ¥å—æ¶ˆæ¯\u0026#34;); DefaultConsumer consumer = new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, StandardCharsets.UTF_8); System.out.println(\u0026#34;æ”¶åˆ°æ¶ˆæ¯ï¼š\u0026#34; + message + \u0026#34; routingKey: \u0026#34; + envelope.getRoutingKey()); } }; channel.basicConsume(queueName, true, consumer); } } æ§åˆ¶å°\nEmitLogTopic å‘é€äº†ï¼šAnimal world!routingKeyï¼šquick.orange.rabbit å‘é€äº†ï¼šAnimal world!routingKeyï¼šlazy.orange.elephant å‘é€äº†ï¼šAnimal world!routingKeyï¼šquick.orange.fox å‘é€äº†ï¼šAnimal world!routingKeyï¼šlazy.brown.fox å‘é€äº†ï¼šAnimal world!routingKeyï¼šlazy.pink.rabbit å‘é€äº†ï¼šAnimal world!routingKeyï¼šquick.brown.fox å‘é€äº†ï¼šAnimal world!routingKeyï¼šorange å‘é€äº†ï¼šAnimal world!routingKeyï¼šquick.orange.male.rabbit å‘é€äº†ï¼šAnimal world!routingKeyï¼šlazy.orange.male.rabbit ReceiveLogsTopic1 å¼€å§‹æ¥å—æ¶ˆæ¯ æ”¶åˆ°æ¶ˆæ¯ï¼šAnimal world! routingKey: quick.orange.rabbit æ”¶åˆ°æ¶ˆæ¯ï¼šAnimal world! routingKey: lazy.orange.elephant æ”¶åˆ°æ¶ˆæ¯ï¼šAnimal world! routingKey: quick.orange.fox ReceiveLogsTopic2 å¼€å§‹æ¥å—æ¶ˆæ¯ æ”¶åˆ°æ¶ˆæ¯ï¼šAnimal world! routingKey: quick.orange.rabbit æ”¶åˆ°æ¶ˆæ¯ï¼šAnimal world! routingKey: lazy.orange.elephant æ”¶åˆ°æ¶ˆæ¯ï¼šAnimal world! routingKey: lazy.brown.fox æ”¶åˆ°æ¶ˆæ¯ï¼šAnimal world! routingKey: lazy.pink.rabbit æ”¶åˆ°æ¶ˆæ¯ï¼šAnimal world! routingKey: lazy.orange.male.rabbit headersï¼ˆä¸å¸¸ç”¨ï¼‰\næ ¹æ®å‘é€æ¶ˆæ¯å†…å®¹ä¸­çš„headerså±æ€§æ¥åŒ¹é…\nSpringBootæ•´åˆRabbitMQ å¼•å…¥ä¾èµ–æ–‡ä»¶\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-amqp \u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; ç¼–å†™application.propertise\nconsumer\nserver.port=8081 spring.application.name=consumer spring.rabbitmq.addresses=1.117.91.88:5672 spring.rabbitmq.username=admin spring.rabbitmq.password=admin spring.rabbitmq.virtual-host=/ spring.rabbitmq.connection-timeout=15000 producer\nserver.port=8080 spring.application.name=producer spring.rabbitmq.addresses=1.117.91.88:5672 spring.rabbitmq.username=admin spring.rabbitmq.password=admin spring.rabbitmq.virtual-host=/ spring.rabbitmq.connection-timeout=15000 ç”Ÿäº§è€…ä¸­ç¼–å†™é…ç½®æ–‡ä»¶\npackage com.imooc.springbootrabbitmqproducer; import org.springframework.amqp.core.Binding; import org.springframework.amqp.core.BindingBuilder; import org.springframework.amqp.core.Queue; import org.springframework.amqp.core.TopicExchange; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; /** * @Description: rabbitmqé…ç½®ç±» * @Author: Rex * @Create: 2021-06-19 9:58 */ @Configuration public class TopicRabbitConfig { @Bean public Queue queue1(){ return new Queue(\u0026#34;queue1\u0026#34;); } @Bean public Queue queue2(){ return new Queue(\u0026#34;queue2\u0026#34;); } @Bean TopicExchange exchange(){ return new TopicExchange(\u0026#34;bootExchange\u0026#34;); } @Bean Binding bindingExchangeMessage1(Queue queue1, TopicExchange exchange){ return BindingBuilder.bind(queue1).to(exchange).with(\u0026#34;dog.red\u0026#34;); } @Bean Binding bindingExchangeMessage2(Queue queue2, TopicExchange exchange){ return BindingBuilder.bind(queue2).to(exchange).with(\u0026#34;dog.#\u0026#34;); } } ç”Ÿäº§è€…å‘é€æ¶ˆæ¯\npackage com.imooc.springbootrabbitmqproducer; import org.springframework.amqp.core.AmqpTemplate; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Component; /** * @Description: å‘é€æ¶ˆæ¯ * @Author: Rex * @Create: 2021-06-19 10:06 */ @Component public class MessageSender { @Autowired private AmqpTemplate rabbitmqTemplate; public void send1(){ String message = \u0026#34;This is message 1, routing key is dog.red\u0026#34;; System.out.println(\u0026#34;å‘é€äº†ï¼š\u0026#34; + message); this.rabbitmqTemplate.convertAndSend(\u0026#34;bootExchange\u0026#34;, \u0026#34;dog.red\u0026#34;, message); } public void send2(){ String message = \u0026#34;This is message 1, routing key is dog.black\u0026#34;; System.out.println(\u0026#34;å‘é€äº†ï¼š\u0026#34; + message); this.rabbitmqTemplate.convertAndSend(\u0026#34;bootExchange\u0026#34;, \u0026#34;dog.black\u0026#34;, message); } } æ¶ˆè´¹è€…æ¥å—æ¶ˆæ¯\nReceiver1.java\npackage com.imooc.springbootrabbitmqconsumer; import org.springframework.amqp.rabbit.annotation.RabbitHandler; import org.springframework.amqp.rabbit.annotation.RabbitListener; import org.springframework.stereotype.Component; /** * @Description: æ¥æ”¶è€…1 * @Author: Rex * @Create: 2021-06-19 10:11 */ @Component @RabbitListener(queues = \u0026#34;queue1\u0026#34;) public class Receiver1 { @RabbitHandler public void process(String message){ System.out.println(\u0026#34;Receiver1ï¼š\u0026#34; + message); } } Receiver2.java\npackage com.imooc.springbootrabbitmqconsumer; import org.springframework.amqp.rabbit.annotation.RabbitHandler; import org.springframework.amqp.rabbit.annotation.RabbitListener; import org.springframework.stereotype.Component; /** * @Description: æ¥æ”¶è€…2 * @Author: Rex * @Create: 2021-06-19 10:11 */ @Component @RabbitListener(queues = \u0026#34;queue2\u0026#34;) public class Receiver2 { @RabbitHandler public void process(String message){ System.out.println(\u0026#34;Receiver2ï¼š\u0026#34; + message); } } ç”Ÿäº§è€…å‘é€æ¶ˆæ¯\npackage com.imooc.springbootrabbitmqproducer; import org.junit.jupiter.api.Test; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.test.context.SpringBootTest; @SpringBootTest class SpringBootRabbitmqProducerApplicationTests { @Autowired private MessageSender messageSender; @Test public void send1(){ messageSender.send1(); } @Test public void send2(){ messageSender.send2(); } } ç»“æœ\nç”Ÿäº§è€…ï¼š\n2021-06-19 10:19:00.888 INFO 20912 --- [ main] ringBootRabbitmqProducerApplicationTests : Starting SpringBootRabbitmqProducerApplicationTests on LAPTOP-LRX with PID 20912 (started by Rex in G:\\Webå¼€å‘\\åç«¯\\code\\spring-boot-rabbitmq-producer) 2021-06-19 10:19:00.891 INFO 20912 --- [ main] ringBootRabbitmqProducerApplicationTests : No active profile set, falling back to default profiles: default 2021-06-19 10:19:05.283 INFO 20912 --- [ main] ringBootRabbitmqProducerApplicationTests : Started SpringBootRabbitmqProducerApplicationTests in 5.244 seconds (JVM running for 8.205) å‘é€äº†ï¼šThis is message 1, routing key is dog.red 2021-06-19 10:19:05.814 INFO 20912 --- [ main] o.s.a.r.c.CachingConnectionFactory : Attempting to connect to: [1.117.91.88:5672] 2021-06-19 10:19:06.059 INFO 20912 --- [ main] o.s.a.r.c.CachingConnectionFactory : Created new connection: rabbitConnectionFactory#7072bc39:0/SimpleConnection@ff6077 [delegate=amqp://admin@1.117.91.88:5672/, localPort= 10788] å‘é€äº†ï¼šThis is message 1, routing key is dog.black æ¶ˆè´¹è€…\n2021-06-19 10:18:35.322 INFO 30312 --- [ main] .s.SpringBootRabbitmqConsumerApplication : Starting SpringBootRabbitmqConsumerApplication on LAPTOP-LRX with PID 30312 (started by Rex in G:\\Webå¼€å‘\\åç«¯\\code\\spring-boot-rabbitmq-consumer) 2021-06-19 10:18:35.328 INFO 30312 --- [ main] .s.SpringBootRabbitmqConsumerApplication : No active profile set, falling back to default profiles: default 2021-06-19 10:18:37.160 INFO 30312 --- [ main] o.s.a.r.c.CachingConnectionFactory : Attempting to connect to: [1.117.91.88:5672] 2021-06-19 10:18:37.299 INFO 30312 --- [ main] o.s.a.r.c.CachingConnectionFactory : Created new connection: rabbitConnectionFactory#21a21c64:0/SimpleConnection@7c098bb3 [delegate=amqp://admin@1.117.91.88:5672/, localPort= 7674] Receiver1ï¼šThis is message 1, routing key is dog.red Receiver2ï¼šThis is message 1, routing key is dog.red Receiver2ï¼šThis is message 1, routing key is dog.black 2021-06-19 10:18:37.602 INFO 30312 --- [ main] .s.SpringBootRabbitmqConsumerApplication : Started SpringBootRabbitmqConsumerApplication in 3.042 seconds (JVM running for 6.02) Receiver1ï¼šThis is message 1, routing key is dog.red Receiver2ï¼šThis is message 1, routing key is dog.red Receiver2ï¼šThis is message 1, routing key is dog.black @RabbitListener å½“@RabbitListeneræ³¨è§£æ ‡æ³¨åœ¨æ–¹æ³•ä¸Šï¼Œç›‘å¬åˆ°é˜Ÿåˆ— debug ä¸­æœ‰æ¶ˆæ¯æ—¶åˆ™ä¼šè¿›è¡Œæ¥æ”¶å¹¶å¤„ç†ã€‚ å½“@RabbitListeneræ ‡æ³¨åœ¨ç±»ä¸Šé¢æ—¶ï¼Œéœ€é…åˆ@RabbitHandleræ³¨è§£ä¸€èµ·ä½¿ç”¨ã€‚ @RabbitHandler ï¼ˆ@RabbitHandleæ³¨è§£ç”¨äºè¡¨ç¤ºæ”¶åˆ°æŸé˜Ÿåˆ—å¯¹åº”ç±»å‹çš„æ¶ˆæ¯æ—¶ï¼Œè¦æ‰§è¡Œçš„å†…å®¹ã€‚ï¼‰\nå½“æœ‰æ”¶åˆ°æŸé˜Ÿåˆ—queueé‡Œé¢çš„æ¶ˆæ¯çš„æ—¶å€™ï¼Œå°±äº¤ç»™æœ‰@RabbitHandleræ³¨è§£çš„æ–¹æ³•å¤„ç†ï¼Œå…·ä½“ä½¿ç”¨å“ªä¸ªæ–¹æ³•å¤„ç†ï¼Œæ ¹æ® MessageConverter è½¬æ¢åçš„å‚æ•°ç±»å‹ã€‚RabbitMQæ”¯æŒä»»ä½•ç±»å‹çš„æ•°æ®æ¶ˆæ¯ã€‚\n","permalink":"https://rexhub.space/posts/back/java/microservices/rabbitmq/","summary":"RabbitMQ RabbitMQç®€ä»‹ æ ¸å¿ƒæ€æƒ³ æ¥å—å¹¶è½¬å‘æ¶ˆæ¯ã€‚\nproducer: P queue: queue_name Consumer: C æ¶ˆæ¯é˜Ÿåˆ—ï¼š ä¸šåŠ¡æ— å…³ FIFO å®¹ç¾ æ€§èƒ½ ç‰¹ç‚¹ï¼š å¼€æºã€è·¨è¯­è¨€ Erlangè¯­è¨€ç¼–å†™ åº”ç”¨å¹¿æ³› ç¤¾åŒºæ´»è·ƒã€APIä¸°å¯Œ AMBQåè®® Advanced Message Queue Protocol RabbitMQæ ¸å¿ƒæ¦‚å¿µ Serverï¼šæœåŠ¡ connectionï¼šä¸Serverå»ºç«‹è¿æ¥ channelï¼šä¿¡é“ï¼Œå‡ ä¹æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨ä¿¡é“ä¸Šè¿›è¡Œï¼Œå®¢æˆ·ç«¯å¯ä»¥å»ºç«‹å¤šä¸ªä¿¡é“ messageï¼šæ¶ˆæ¯ï¼Œæœ‰propertieså’Œbodyç»„æˆ virtual hostï¼šè™šæ‹Ÿä¸»æœºï¼Œé¡¶å±‚éš”ç¦»ã€‚åŒä¸€ä¸ªè™šæ‹Ÿä¸»æœºä¸‹ï¼Œä¸èƒ½æœ‰é‡å¤çš„äº¤æ¢æœºå’Œqueue Exchangeï¼šäº¤æ¢æœºï¼Œæ¥æ”¶ç”Ÿäº§è€…çš„æ¶ˆæ¯çš„ï¼Œç„¶åæ ¹æ®æŒ‡å®šçš„è·¯ç”±å™¨å»æŠŠæ¶ˆæ¯è½¬å‘åˆ°é”ç»‘å®šçš„é˜Ÿåˆ—ä¸Š bindingï¼šç»‘å®šäº¤æ¢æœºå’Œé˜Ÿåˆ— routing keyï¼šè·¯ç”±é”®ï¼Œè·¯ç”±è§„åˆ™ï¼Œè™šæ‹Ÿæœºå¯ä»¥ç”¨å®ƒæ¥ç¡®å®šè¿™ä¸ªæ¶ˆæ¯å¦‚ä½•è¿›è¡Œä¸€ä¸ªè·¯ç”± queueï¼šé˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…åªéœ€è¦ç›‘å¬é˜Ÿåˆ—æ¥æ¶ˆè´¹ä¿¡æ¯ï¼Œä¸éœ€è¦å…³æ³¨æ¶ˆæ¯æ¥è‡ªäºå“ªä¸ªExchange Exchangeå’ŒMessage Queueå­˜åœ¨ç€ç»‘å®šçš„å…³ç³»ï¼Œä¸€ä¸ªExchangeå¯ä»¥ç»‘å®šå¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ— æ¶ˆæ¯æµè½¬è¿‡ç¨‹ RabbitMQå¸¸ç”¨å‘½ä»¤ systemctl start rabbitmq-server # å¯åŠ¨rabbitmq rabbitmqctl status # æŸ¥çœ‹çŠ¶æ€ RabbitMQåå°ç®¡ç† http://1.117.91.88:15672/#/connections rabbitmq management\nRabbitMQåº”ç”¨ ç¬¬ä¸€ä¸ªjavaåº”ç”¨ Hello world å¯¼å…¥ä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.rabbitmq\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;amqp-client\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.8.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.slf4j\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;slf4j-nop\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.7.29\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; Send.java","title":"Rabbitmqä½¿ç”¨"},{"content":"CSS3 CSSæ–°å¢é€‰æ‹©å™¨ å±æ€§é€‰æ‹©å™¨ é€‰æ‹©å™¨ ç®€ä»‹ E[attr] é€‰æ‹©å…·æœ‰attrå±æ€§çš„Eå…ƒç´  E[attr=\u0026ldquo;val\u0026rdquo;] é€‰æ‹©å…·æœ‰attrå±æ€§ä¸”å±æ€§å€¼ç­‰äºEçš„å…ƒç´  E[attr^=\u0026ldquo;val\u0026rdquo;] åŒ¹é…å…·æœ‰attrå±æ€§ä¸”å€¼ä»¥valå¼€å¤´çš„Eå…ƒç´  E[attr$=\u0026ldquo;val\u0026rdquo;] åŒ¹é…å…·æœ‰attrå±æ€§ä¸”å€¼ä»¥valç»“å°¾çš„Eå…ƒç´  E[attr*=\u0026ldquo;val\u0026rdquo;] åŒ¹é…å…·æœ‰attrå±æ€§ä¸”å€¼ä¸­å«æœ‰valçš„Eå…ƒç´  å±æ€§é€‰æ‹©å™¨çš„æƒé‡ä¸º10\nç»“æ„ä¼ªç±»é€‰æ‹©å™¨ é€‰æ‹©ç¬¦ ç®€ä»‹ E:first-child åŒ¹é…çˆ¶å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ E E:last-child åŒ¹é…çˆ¶å…ƒç´ ä¸­æœ€åä¸€ä¸ªEå…ƒç´  E:nth-child(n) åŒ¹é…çˆ¶å…ƒç´ ä¸­çš„ç¬¬nä¸ªå­å…ƒç´ E E:first-of-type æŒ‡å®šç±»å‹Eçš„ç¬¬ä¸€ä¸ª E:last-of-type æŒ‡å®šç±»å‹Eçš„æœ€åä¸€ä¸ª E:nth-of-type(n) æŒ‡å®šç±»å‹Eçš„ç¬¬nä¸ª nth-child(n)\nnå¯ä»¥æ˜¯æ•°å­—ï¼Œå…³é”®å­—å’Œå…¬å¼ nå¦‚æœæ˜¯æ˜¯æ•°å­—ï¼Œå°±æ˜¯é€‰æ‹©ç¬¬nä¸ªå­å…ƒç´ ï¼Œé‡Œé¢æ•°å­—ä»1å¼€å§‹ nå¯ä»¥æ˜¯å…³é”®å­—ï¼ševenå¶æ•°ï¼Œoddå¥‡æ•° ä¼ªå…ƒç´ é€‰æ‹©å™¨ â€‹\tä¼ªå…ƒç´ é€‰æ‹©å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨CSSåˆ›å»ºæ–°æ ‡ç­¾å…ƒç´ ï¼Œè€Œä¸éœ€è¦HTMLæ ‡ç­¾ï¼Œä»è€Œç®€åŒ–HTMLç»“æ„\né€‰æ‹©å™¨ ç®€ä»‹ ::before åœ¨å…ƒç´ å†…éƒ¨çš„å‰é¢æ’å…¥å†…å®¹ ::after åœ¨å…ƒç´ å†…éƒ¨çš„åé¢æ’å…¥å†…å®¹ æ³¨æ„ï¼š\nbeforeå’Œafteråˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯å±äºè¡Œå†…å…ƒç´  æ–°åˆ›å»ºçš„è¿™ä¸ªå…ƒç´ åœ¨æ–‡æ¡£æ ‘ä¸­æ˜¯æ‰¾ä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¸ºä¼ªå…ƒç´  è¯­æ³•ï¼šelement::before{} beforeå’Œafterå¿…é¡»æœ‰contentå±æ€§ beforeåœ¨çˆ¶å…ƒç´ å†…å®¹çš„å‰é¢åˆ›å»ºå…ƒç´ ï¼Œafteråœ¨çˆ¶å…ƒç´ å†…å®¹çš„åé¢æ’å…¥å…ƒç´  ä¼ªå…ƒç´ é€‰æ‹©å™¨å’Œæ ‡ç­¾é€‰æ‹©å™¨ä¸€æ ·ï¼Œæƒé‡ä¸º1 CSS3ç›’å­æ¨¡å‹ box-sizing: content-box ç›’å­å¤§å°ä¸ºwidth+padding+border(ä»¥å‰é»˜è®¤çš„) border-box ç›’å­å¤§å°width å…¶ä»–ç‰¹æ€§ï¼ˆäº†è§£ï¼‰ filter CSSå±æ€§å°†æ¨¡ç³Šæˆ–é¢œè‰²åç§»ç­‰å›¾å½¢æ•ˆæœåº”ç”¨äºå…ƒç´ ã€‚\nfilter: å‡½æ•°(); ä¾‹å¦‚filter:blur(5px); bluræ¨¡ç³Šå¤„ç†æ•°å€¼è¶Šå¤§è¶Šæ¨¡ç³Š calc()æ­¤CSSå‡½æ•°è®©ä½ åœ¨å£°æ˜CSSå±æ€§å€¼æ—¶æ‰§è¡Œä¸€äº›è®¡ç®—ã€‚\nwidth:calc(100%-80px); CSSè¿‡æ¸¡ transition:è¦è¿‡æ¸¡çš„å±æ€§ èŠ±è´¹æ—¶é—´ è¿åŠ¨æ›²çº¿ ä½•æ—¶å¼€å§‹;\nå±æ€§ï¼šæƒ³è¦å˜åŒ–çš„CSSå±æ€§ï¼Œå®½åº¦é«˜åº¦ èƒŒæ™¯é¢œè‰² å†…å¤–è¾¹è·éƒ½å¯ä»¥ã€‚å¦‚æœæƒ³è¦æ‰€æœ‰çš„å±æ€§éƒ½å˜åŒ–è¿‡æ¸¡ï¼Œå†™ä¸€ä¸ªallå°±å¯ä»¥ã€‚\nèŠ±è´¹æ—¶é—´ï¼šå•ä½æ˜¯ç§’ï¼ˆå¿…é¡»å†™å•ä½ï¼‰æ¯”å¦‚0.5s\nè¿åŠ¨æ›²çº¿ï¼šé»˜è®¤æ˜¯easeï¼ˆå¯ä»¥çœç•¥ï¼‰\nlinear:åŒ€é€Ÿ\nease:é€æ¸æ…¢ä¸‹æ¥\nease-in:åŠ é€Ÿ\nease-out:å‡é€Ÿ\nease-in-out:å…ˆåŠ é€Ÿåå‡é€Ÿ\nä½•æ—¶å¼€å§‹ï¼šå•ä½æ˜¯ç§’ï¼ˆå¿…é¡»å†™å•ä½ï¼‰å¯ä»¥è®¾ç½®å»¶è¿Ÿè§¦å‘æ—¶é—´ é»˜è®¤æ˜¯0sï¼ˆå¯ä»¥çœç•¥ï¼‰\nè°åšè¿‡æ¸¡ç»™è°åŠ \n2Dè½¬æ¢ è½¬æ¢(transform)æ˜¯CSS3ä¸­å…·æœ‰é¢ è¦†æ€§çš„ç‰¹å¾ä¹‹ä¸€ï¼Œå¯ä»¥å®ç°å…ƒç´ çš„ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰æ•ˆæœ\nç§»åŠ¨ï¼štranslate æ—‹è½¬ï¼šrotate ç¼©æ”¾ï¼šscale 2Dè½¬æ¢æ˜¯æ”¹å˜åœ¨äºŒç»´å¹³é¢ä¸Šçš„ä½ç½®å’Œå½¢çŠ¶çš„ä¸€ç§æŠ€æœ¯\ntranslate: å¹³ç§»å…ƒç´ \ntransform: translate(x, y) | translateX(x) | translateY(y)\nå®šä¹‰2Dè½¬æ¢ä¸­çš„ç§»åŠ¨ï¼Œæ²¿ç€Xå’ŒYè½´ç§»åŠ¨å…ƒç´  translateæœ€å¤§çš„ä¼˜ç‚¹ï¼šä¸ä¼šå½±å“åˆ°å…¶ä»–å…ƒç´ çš„ä½ç½® translateä¸­çš„ç™¾åˆ†æ¯”å•ä½æ˜¯ç›¸å¯¹äºè‡ªèº«å…ƒç´ çš„translateï¼š(50%, 50%); å¯¹è¡Œå†…æ ‡ç­¾æ²¡æœ‰æ•ˆæœ rotateæ—‹è½¬ï¼š æ—‹è½¬å…ƒç´ \ntransform: rotate(xdeg)\ntransform-origin è®¾ç½®å…ƒç´ ä¸­å¿ƒç‚¹\ntransform-origin: x y;\nå‚æ•°xå’Œyç”¨ç©ºæ ¼éš”å¼€ x yé»˜è®¤è½¬æ¢çš„ä¸­å¿ƒç‚¹æ˜¯å…ƒç´ çš„ä¸­å¿ƒç‚¹ï¼ˆ50%, 50%ï¼‰ ç»™x yè®¾ç½®åƒç´ æˆ–æ–¹ä½åè¯ï¼ˆtop bottom left right centerï¼‰ 2Dè½¬æ¢ä¹‹ç¼©æ”¾scale æ§åˆ¶å…ƒç´ çš„æ”¾å¤§ä¸ç¼©å°\ntransform: scale(x, y)\næ³¨æ„å…¶ä¸­çš„xå’Œyç”¨é€—å·åˆ†éš” transform: scale(1, 1)ï¼šå®½å’Œé«˜éƒ½æ”¾å¤§ä¸€å€ï¼Œç›¸å¯¹äºæ²¡æœ‰æ”¾å¤§ transform: scale(2, 2)ï¼šå®½å’Œé«˜éƒ½æ”¾å¤§äº†2å€ transform: scale(2)ï¼šåªå†™ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°åˆ™å’Œç¬¬ä¸€ä¸ªå‚æ•°ä¸€æ ·ï¼Œç›¸å½“äºscale(2,2) transformï¼šscale(0.5, 0.5)ï¼šç¼©å° scaleç¼©æ”¾æœ€å¤§çš„ä¼˜åŠ¿ï¼šå¯ä»¥è®¾ç½®è½¬æ¢ä¸­å¿ƒç‚¹ç¼©æ”¾ï¼Œé»˜è®¤ä»¥ä¸­å¿ƒç‚¹ç¼©æ”¾çš„ï¼Œè€Œä¸”ä¸å½±å“å…¶ä»–ç›’å­ 2Dè½¬æ¢ç»¼åˆå†™æ³• åŒæ—¶ä½¿ç”¨å¤šä¸ªè½¬æ¢ï¼Œå…¶æ ¼å¼ä¸ºï¼štransform: translate() rotate() scale() \u0026hellip;ç­‰ å…¶é¡ºåºå›å½±å“è½¬æ¢çš„æ•ˆæœã€‚ï¼ˆå…ˆæ—‹è½¬ä¼šæ”¹å˜åæ ‡è½´æ–¹å‘ï¼‰ å½“æˆ‘ä»¬åŒæ—¶æœ‰ä½ç§»å’Œå…¶ä»–å±æ€§çš„æ—¶å€™ï¼Œè®°å¾—è¦å°†ä½ç§»æ”¾åˆ°æœ€å‰ åŠ¨ç”» åŠ¨ç”»ï¼ˆanimationï¼‰æ˜¯CSS3ä¸­å…·æœ‰é¢ è¦†æ€§çš„ç‰¹å¾ä¹‹ä¸€ï¼Œå¯é€šè¿‡è®¾ç½®å¤šä¸ªèŠ‚ç‚¹æ¥ç²¾ç¡®æ§åˆ¶ä¸€ä¸ªæˆ–ä¸€ç»„åŠ¨ç”»ï¼Œå¸¸ç”¨æ¥å®ç°å¤æ‚çš„åŠ¨ç”»æ•ˆæœã€‚\nç›¸æ¯”è¾ƒè¿‡æ¸¡ï¼ŒåŠ¨ç”»å¯ä»¥å®ç°æ›´å¤šå˜åŒ–ï¼Œæ›´å¤šæ§åˆ¶ï¼Œè¿ç»­è‡ªåŠ¨æ’­æ”¾ã€‚\nåŸºæœ¬ä½¿ç”¨ @keyframes move { /* å¼€å§‹çŠ¶æ€ */ 0% { transform: translateX(0px); } /* ç»“æŸçŠ¶æ€ */ 100% { transform: translateX(100px); } } div { width: 200px; height: 200px; background-color: pink; /* è°ƒç”¨åŠ¨ç”» */ animation-name: move; /* æŒç»­æ—¶é—´ */ animation-duration: 1s; } åŠ¨ç”»åºåˆ— å¯ä»¥åšå¤šä¸ªçŠ¶æ€çš„å˜åŒ– keyframeå…³é”®å¸§ é‡Œé¢çš„ç™¾åˆ†æ¯”è¦æ˜¯æ•´æ•° é‡Œé¢çš„ç™¾åˆ†æ¯”å°±æ˜¯æ€»çš„æ—¶é—´ åŠ¨ç”»å¸¸ç”¨å±æ€§ å±æ€§ æè¿° @keyframes è§„å®šåŠ¨ç”» animation æ‰€æœ‰åŠ¨ç”»å±æ€§çš„ç®€å†™å±æ€§ï¼Œé™¤äº†animation-play-stateå±æ€§ã€‚ animation-name è§„å®š@keyframesåŠ¨ç”»çš„åç§°ã€‚ï¼ˆå¿…é¡»çš„ï¼‰ animation-duration è§„å®šåŠ¨ç”»å®Œæˆä¸€ä¸ªå‘¨æœŸæ‰€èŠ±è´¹çš„ç§’æˆ–æ¯«ç§’ï¼Œé»˜è®¤æ˜¯0ã€‚ï¼ˆå¿…é¡»çš„ï¼‰ animation-timing-function è§„å®šåŠ¨ç”»çš„é€Ÿåº¦æ›²çº¿ï¼Œé»˜è®¤æ˜¯â€œeaseâ€ã€‚ animation-delay è§„å®šåŠ¨ç”»ä½•æ—¶å¼€å§‹ï¼Œé»˜è®¤æ˜¯0ã€‚ animation-iteration-count è§„å®šåŠ¨ç”»æ’­æ”¾çš„æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯1ï¼Œè¿˜æœ‰infinite animation-direction è§„å®šåŠ¨ç”»æ˜¯å¦åœ¨ä¸‹ä¸€å‘¨æœŸé€†å‘æ’­æ”¾ï¼Œé»˜è®¤æ˜¯\u0026quot;normal\u0026quot;ï¼Œalternateé€†æ’­æ”¾ animation-play-state è§„å®šåŠ¨ç”»æ˜¯å¦æ­£åœ¨è¿è¡Œæˆ–æš‚åœã€‚é»˜è®¤æ˜¯\u0026quot;running\u0026quot;ï¼Œè¿˜æœ‰\u0026quot;pause\u0026quot;ã€‚ animation-fill-mode è§„å®šåŠ¨ç”»ç»“æŸåçŠ¶æ€ï¼Œä¿æŒforwardså›åˆ°èµ·å§‹backwards ","permalink":"https://rexhub.space/posts/front/css3/","summary":"CSS3 CSSæ–°å¢é€‰æ‹©å™¨ å±æ€§é€‰æ‹©å™¨ é€‰æ‹©å™¨ ç®€ä»‹ E[attr] é€‰æ‹©å…·æœ‰attrå±æ€§çš„Eå…ƒç´  E[attr=\u0026ldquo;val\u0026rdquo;] é€‰æ‹©å…·æœ‰attrå±æ€§ä¸”å±æ€§å€¼ç­‰äºEçš„å…ƒç´  E[attr^=\u0026ldquo;val\u0026rdquo;] åŒ¹é…å…·æœ‰attrå±æ€§ä¸”å€¼ä»¥valå¼€å¤´çš„Eå…ƒç´  E[attr$=\u0026ldquo;val\u0026rdquo;] åŒ¹é…å…·æœ‰attrå±æ€§ä¸”å€¼ä»¥valç»“å°¾çš„Eå…ƒç´  E[attr*=\u0026ldquo;val\u0026rdquo;] åŒ¹é…å…·æœ‰attrå±æ€§ä¸”å€¼ä¸­å«æœ‰valçš„Eå…ƒç´  å±æ€§é€‰æ‹©å™¨çš„æƒé‡ä¸º10\nç»“æ„ä¼ªç±»é€‰æ‹©å™¨ é€‰æ‹©ç¬¦ ç®€ä»‹ E:first-child åŒ¹é…çˆ¶å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ E E:last-child åŒ¹é…çˆ¶å…ƒç´ ä¸­æœ€åä¸€ä¸ªEå…ƒç´  E:nth-child(n) åŒ¹é…çˆ¶å…ƒç´ ä¸­çš„ç¬¬nä¸ªå­å…ƒç´ E E:first-of-type æŒ‡å®šç±»å‹Eçš„ç¬¬ä¸€ä¸ª E:last-of-type æŒ‡å®šç±»å‹Eçš„æœ€åä¸€ä¸ª E:nth-of-type(n) æŒ‡å®šç±»å‹Eçš„ç¬¬nä¸ª nth-child(n)\nnå¯ä»¥æ˜¯æ•°å­—ï¼Œå…³é”®å­—å’Œå…¬å¼ nå¦‚æœæ˜¯æ˜¯æ•°å­—ï¼Œå°±æ˜¯é€‰æ‹©ç¬¬nä¸ªå­å…ƒç´ ï¼Œé‡Œé¢æ•°å­—ä»1å¼€å§‹ nå¯ä»¥æ˜¯å…³é”®å­—ï¼ševenå¶æ•°ï¼Œoddå¥‡æ•° ä¼ªå…ƒç´ é€‰æ‹©å™¨ â€‹\tä¼ªå…ƒç´ é€‰æ‹©å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨CSSåˆ›å»ºæ–°æ ‡ç­¾å…ƒç´ ï¼Œè€Œä¸éœ€è¦HTMLæ ‡ç­¾ï¼Œä»è€Œç®€åŒ–HTMLç»“æ„\né€‰æ‹©å™¨ ç®€ä»‹ ::before åœ¨å…ƒç´ å†…éƒ¨çš„å‰é¢æ’å…¥å†…å®¹ ::after åœ¨å…ƒç´ å†…éƒ¨çš„åé¢æ’å…¥å†…å®¹ æ³¨æ„ï¼š\nbeforeå’Œafteråˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯å±äºè¡Œå†…å…ƒç´  æ–°åˆ›å»ºçš„è¿™ä¸ªå…ƒç´ åœ¨æ–‡æ¡£æ ‘ä¸­æ˜¯æ‰¾ä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¸ºä¼ªå…ƒç´  è¯­æ³•ï¼šelement::before{} beforeå’Œafterå¿…é¡»æœ‰contentå±æ€§ beforeåœ¨çˆ¶å…ƒç´ å†…å®¹çš„å‰é¢åˆ›å»ºå…ƒç´ ï¼Œafteråœ¨çˆ¶å…ƒç´ å†…å®¹çš„åé¢æ’å…¥å…ƒç´  ä¼ªå…ƒç´ é€‰æ‹©å™¨å’Œæ ‡ç­¾é€‰æ‹©å™¨ä¸€æ ·ï¼Œæƒé‡ä¸º1 CSS3ç›’å­æ¨¡å‹ box-sizing: content-box ç›’å­å¤§å°ä¸ºwidth+padding+border(ä»¥å‰é»˜è®¤çš„) border-box ç›’å­å¤§å°width å…¶ä»–ç‰¹æ€§ï¼ˆäº†è§£ï¼‰ filter CSSå±æ€§å°†æ¨¡ç³Šæˆ–é¢œè‰²åç§»ç­‰å›¾å½¢æ•ˆæœåº”ç”¨äºå…ƒç´ ã€‚\nfilter: å‡½æ•°(); ä¾‹å¦‚filter:blur(5px); bluræ¨¡ç³Šå¤„ç†æ•°å€¼è¶Šå¤§è¶Šæ¨¡ç³Š calc()æ­¤CSSå‡½æ•°è®©ä½ åœ¨å£°æ˜CSSå±æ€§å€¼æ—¶æ‰§è¡Œä¸€äº›è®¡ç®—ã€‚\nwidth:calc(100%-80px); CSSè¿‡æ¸¡ transition:è¦è¿‡æ¸¡çš„å±æ€§ èŠ±è´¹æ—¶é—´ è¿åŠ¨æ›²çº¿ ä½•æ—¶å¼€å§‹;","title":"CSS3"},{"content":"Nginxçš„å®‰è£… Linuxå®‰è£… ç™»å½•rootè´¦å· æ‰§è¡Œyum install yum-utils è¿è¡Œvim /etc/yum.repos.d/nginx.repo [nginx-stable] name=nginx stable repo baseurl=http://nginx.org/packages/centos/7/$basearch/ gpgcheck=1 enabled=1 gpgkey=https://nginx.org/keys/nginx_signing.key module_hotfixes=true [nginx-mainline] name=nginx mainline repo baseurl=http://nginx.org/packages/mainline/centos/7/$basearch/ gpgcheck=1 enabled=0 gpgkey=https://nginx.org/keys/nginx_signing.key module_hotfixes=true ç„¶åæŸ¥çœ‹æº yum list | grep nginx çœ‹åˆ°å­˜åœ¨ç¨³å®šç‰ˆçš„æºï¼Œç¡®è®¤æ— è¯¯ã€‚ è¿è¡Œå®‰è£…å‘½ä»¤ yum install nginx 1:1.16.1-1.el7.ngx è¿‡ç¨‹ä¸­è¾“å…¥yï¼Œç¡®è®¤ æŸ¥çœ‹ç‰ˆæœ¬ï¼Œè‹¥å‡ºç°ç‰ˆæœ¬å·ï¼Œåˆ™å®‰è£…æˆåŠŸ ç”¨whereis nginxå¯ä»¥æŸ¥çœ‹åˆ°ç›®å½•ï¼š nginx: /usr/sbin/nginx /usr/lib64/nginx /etc/nginx /usr/share/nginx /usr/share/man/man8/nginx.8.gz MacOSçš„å®‰è£… å®‰è£…homebrewï¼Œç„¶ånginxä½¿ç”¨å®‰è£…brewï¼š $ brew install nginx ç¬”è®°ï¼š\nnginxçš„é…ç½®æ–‡ä»¶ä½äºä¸­/usr/local/etc/nginx/nginx.confã€‚ è¦ç¼–è¾‘é…ç½®æ–‡ä»¶æˆ–è¿è¡Œnginxï¼Œæ‚¨éœ€è¦ä½¿ç”¨sudoï¼š sudo nano /usr/local/etc/nginx/nginx.confå’Œ sudo nginx \u0026hellip;\nWindowsä¸‹çš„å®‰è£… ä¸æ¨èï¼Œnginxä¸é€‚åˆè¿è¡Œåœ¨Windowsä¸Šï¼ŒåŠŸèƒ½ä¸å®Œæ•´ï¼Œæˆ‘ä»¬å°½é‡è¿è¡Œåœ¨linuxä¸Šã€‚\n","permalink":"https://rexhub.space/posts/back/java/microservices/nginx%E7%9A%84%E5%AE%89%E8%A3%85/","summary":"Nginxçš„å®‰è£… Linuxå®‰è£… ç™»å½•rootè´¦å· æ‰§è¡Œyum install yum-utils è¿è¡Œvim /etc/yum.repos.d/nginx.repo [nginx-stable] name=nginx stable repo baseurl=http://nginx.org/packages/centos/7/$basearch/ gpgcheck=1 enabled=1 gpgkey=https://nginx.org/keys/nginx_signing.key module_hotfixes=true [nginx-mainline] name=nginx mainline repo baseurl=http://nginx.org/packages/mainline/centos/7/$basearch/ gpgcheck=1 enabled=0 gpgkey=https://nginx.org/keys/nginx_signing.key module_hotfixes=true ç„¶åæŸ¥çœ‹æº yum list | grep nginx çœ‹åˆ°å­˜åœ¨ç¨³å®šç‰ˆçš„æºï¼Œç¡®è®¤æ— è¯¯ã€‚ è¿è¡Œå®‰è£…å‘½ä»¤ yum install nginx 1:1.16.1-1.el7.ngx è¿‡ç¨‹ä¸­è¾“å…¥yï¼Œç¡®è®¤ æŸ¥çœ‹ç‰ˆæœ¬ï¼Œè‹¥å‡ºç°ç‰ˆæœ¬å·ï¼Œåˆ™å®‰è£…æˆåŠŸ ç”¨whereis nginxå¯ä»¥æŸ¥çœ‹åˆ°ç›®å½•ï¼š nginx: /usr/sbin/nginx /usr/lib64/nginx /etc/nginx /usr/share/nginx /usr/share/man/man8/nginx.8.gz MacOSçš„å®‰è£… å®‰è£…homebrewï¼Œç„¶ånginxä½¿ç”¨å®‰è£…brewï¼š $ brew install nginx ç¬”è®°ï¼š\nnginxçš„é…ç½®æ–‡ä»¶ä½äºä¸­/usr/local/etc/nginx/nginx.confã€‚ è¦ç¼–è¾‘é…ç½®æ–‡ä»¶æˆ–è¿è¡Œnginxï¼Œæ‚¨éœ€è¦ä½¿ç”¨sudoï¼š sudo nano /usr/local/etc/nginx/nginx.confå’Œ sudo nginx \u0026hellip;\nWindowsä¸‹çš„å®‰è£… ä¸æ¨èï¼Œnginxä¸é€‚åˆè¿è¡Œåœ¨Windowsä¸Šï¼ŒåŠŸèƒ½ä¸å®Œæ•´ï¼Œæˆ‘ä»¬å°½é‡è¿è¡Œåœ¨linuxä¸Šã€‚","title":"Nginxçš„å…¥é—¨"},{"content":"Dockerçš„å®‰è£… åœ¨Cent OSå®‰è£…docker å…ˆæœ‰ä¸€ä¸ªCent OS 7.6ç³»ç»Ÿ è¿™ä¸ªå¾ˆé‡è¦ï¼Œä¸åŒç‰ˆæœ¬æŒ‰ç…§çš„æ—¶å€™æ˜¯ä¸ä¸€æ ·çš„ã€‚æŸ¥çœ‹CentOSç‰ˆæœ¬ cat /etc/redhat-release\nç”¨rootè´¦æˆ·ç™»å½•è¿›å» é…ç½®å›½å†…yumæº wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo yum clean all yum makecache\nå¸è½½æ—§ç‰ˆæœ¬ è¾ƒæ—§çš„Dockerç‰ˆæœ¬ç§°ä¸ºdockeræˆ–docker-engineã€‚å¦‚æœå·²å®‰è£…è¿™äº›ç¨‹åºï¼Œè¯·å¸è½½å®ƒä»¬ä»¥åŠç›¸å…³çš„ä¾èµ–é¡¹ã€‚ å¦‚æœyumæŠ¥å‘Šæœªå®‰è£…è¿™äº›è½¯ä»¶åŒ…ï¼Œä¹Ÿæ²¡é—®é¢˜ã€‚\ndocker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine æ›´æ–°yum yum check-update yum update\nå®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ… yum install -y yum-utils \\ device-mapper-persistent-data \\ lvm2 ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®ç¨³å®šçš„å­˜å‚¨åº“ã€‚ sudo yum-config-manager \u0026ndash;add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\næŸ¥çœ‹dockerç‰ˆæœ¬ yum list docker-ce \u0026ndash;showduplicates | sort -r\nå®‰è£…æŒ‡å®šçš„ç‰ˆæœ¬ yum install docker-ce-18.09.0 docker-ce-cli-18.09.0 containerd.io\nDocker æ˜¯æœåŠ¡å™¨\u0026mdash;-å®¢æˆ·ç«¯æ¶æ„ã€‚å‘½ä»¤è¡Œè¿è¡Œdockerå‘½ä»¤çš„æ—¶å€™ï¼Œéœ€è¦æœ¬æœºæœ‰ Docker æœåŠ¡ã€‚ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨ systemctl start docker\nå®‰è£…å®Œæˆåï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚ docker version æˆ–è€… docker info\n","permalink":"https://rexhub.space/posts/back/java/microservices/docker%E7%9A%84%E5%AE%89%E8%A3%85/","summary":"Dockerçš„å®‰è£… åœ¨Cent OSå®‰è£…docker å…ˆæœ‰ä¸€ä¸ªCent OS 7.6ç³»ç»Ÿ è¿™ä¸ªå¾ˆé‡è¦ï¼Œä¸åŒç‰ˆæœ¬æŒ‰ç…§çš„æ—¶å€™æ˜¯ä¸ä¸€æ ·çš„ã€‚æŸ¥çœ‹CentOSç‰ˆæœ¬ cat /etc/redhat-release\nç”¨rootè´¦æˆ·ç™»å½•è¿›å» é…ç½®å›½å†…yumæº wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo yum clean all yum makecache\nå¸è½½æ—§ç‰ˆæœ¬ è¾ƒæ—§çš„Dockerç‰ˆæœ¬ç§°ä¸ºdockeræˆ–docker-engineã€‚å¦‚æœå·²å®‰è£…è¿™äº›ç¨‹åºï¼Œè¯·å¸è½½å®ƒä»¬ä»¥åŠç›¸å…³çš„ä¾èµ–é¡¹ã€‚ å¦‚æœyumæŠ¥å‘Šæœªå®‰è£…è¿™äº›è½¯ä»¶åŒ…ï¼Œä¹Ÿæ²¡é—®é¢˜ã€‚\ndocker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine æ›´æ–°yum yum check-update yum update\nå®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ… yum install -y yum-utils \\ device-mapper-persistent-data \\ lvm2 ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®ç¨³å®šçš„å­˜å‚¨åº“ã€‚ sudo yum-config-manager \u0026ndash;add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\næŸ¥çœ‹dockerç‰ˆæœ¬ yum list docker-ce \u0026ndash;showduplicates | sort -r\nå®‰è£…æŒ‡å®šçš„ç‰ˆæœ¬ yum install docker-ce-18.09.0 docker-ce-cli-18.09.0 containerd.io\nDocker æ˜¯æœåŠ¡å™¨\u0026mdash;-å®¢æˆ·ç«¯æ¶æ„ã€‚å‘½ä»¤è¡Œè¿è¡Œdockerå‘½ä»¤çš„æ—¶å€™ï¼Œéœ€è¦æœ¬æœºæœ‰ Docker æœåŠ¡ã€‚ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨ systemctl start docker","title":"Dockerçš„å®‰è£…"},{"content":"åˆ†å¸ƒå¼ å®šä¹‰ï¼š åˆ©ç”¨ç‰©ç†æ¶æ„å½¢æˆå¤šä¸ªè‡ªæ²»çš„å¤„ç†å…ƒç´ ï¼Œä¸å…±äº«ä¸»å†…å­˜, ä½†æ˜¯é€šè¿‡å‘é€ä¿¡æ¯åˆä½œã€‚\u0026mdash; Leslie Lamport\nå®é™…é¡¹ç›®çš„æ¼”è¿›è¿‡ç¨‹ ä¸€ä¸ªé¡¹ç›®ï¼Œå¤§è€Œå…¨ å¤šå°æœºå™¨ï¼Œéƒ¨ç½²åŒæ ·çš„åº”ç”¨ åˆ†å¸ƒå¼ï¼šæƒé™ç³»ç»Ÿã€å‘˜å·¥ç³»ç»Ÿã€è¯·å‡ç³»ç»Ÿ åˆ†å¸ƒå¼çš„ä½œç”¨ ä¸ºä»€ä¹ˆéœ€è¦åˆ†å¸ƒå¼ è§£å†³å•ä½“åº”ç”¨çš„é—®é¢˜ åº”ç”¨ä»£ç è€¦åˆä¸¥é‡ï¼ŒåŠŸèƒ½æ‰©å±•éš¾ æ–°éœ€æ±‚å¼€å‘äº¤äº’å‘¨æœŸé•¿ï¼Œæµ‹è¯•å·¥ç¨‹é‡å¤§ æ–°åŠ å…¥çš„å¼€å‘åŒäº‹éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½å±æ€§ç³»ç»Ÿ å‡çº§ç»´æŠ¤å›°éš¾ï¼ˆæ”¹åŠ¨ä»»ä½•ä¸€ç‚¹åœ°æ–¹éƒ½è¦å‡çº§æ•´ä¸ªç³»ç»Ÿï¼‰ ç³»ç»Ÿæ€§èƒ½æå‡è‰°éš¾ï¼Œå¯ç”¨æ€§ä½ï¼Œä¸ç¨³å®š åˆ†å¸ƒå¼çš„å¥½å¤„ å¢å¤§ç³»ç»Ÿå®¹é‡ åŠ å¼ºç³»ç»Ÿå¯ç”¨ å› ä¸ºæ¨¡å—åŒ–ï¼Œæ‰€ä»¥ç³»ç»Ÿæ¨¡å—é‡ç”¨åº¦é«˜ å› ä¸ºè½¯ä»¶æœåŠ¡æ¨¡å—è¢«æ‹†åˆ†ï¼Œå¼€å‘å’Œå‘å¸ƒé€Ÿåº¦å¯ä»¥å¹¶è¡Œå˜å¾—æ›´å— ç³»ç»Ÿæ‹“å±•æ€§æ›´é«˜ å›¢é˜Ÿåä½œæµç¨‹ä¹Ÿä¼šå¾—åˆ°æ”¹å–„ æŠ€æœ¯å‡çº§ åˆ†å¸ƒå¼å’Œå•ä½“ç»“æ„çš„å¯¹æ¯” ä¼ ç»Ÿå•ä½“ç»“æ„ åˆ†å¸ƒå¼æ¶æ„ æ–°äººçš„å­¦ä¹ æˆæœ¬ ä¸šåŠ¡é€»è¾‘æˆæœ¬é«˜ æ¶æ„é€»è¾‘æˆæœ¬é«˜ éƒ¨ç½²ã€è¿ç»´ å®¹æ˜“ å‘å¸ƒé¢‘ç¹ï¼Œå‘å¸ƒé¡ºåºå¤æ‚ã€è¿ç»´éš¾ éš”ç¦»æ€§ ä¸€æŸä¿±æŸï¼Œæ®ƒåŠé±¼å¡˜ æ•…éšœå½±å“èŒƒå›´å° æ¶æ„è®¾è®¡ éš¾åº¦ä½ éš¾åº¦æŒ‡æ•°çº§ä¸Šå‡ ç³»ç»Ÿæ€§èƒ½ å“åº”å¿«ã€ååé‡å° å“åº”æ…¢ã€ååé‡å¤§ æµ‹è¯•æˆæœ¬ ä½ å¾ˆé«˜ æŠ€æœ¯å¤šæ ·æ€§ æŠ€æœ¯å•ä¸€ä¸”å°é—­ æŠ€æœ¯å¤šæ ·ä¸”å¼€æ”¾ ç³»ç»Ÿæ‰©å±•æ€§ æ‰©å±•æ€§å·® æ‰©å±•æ€§å¾ˆå¥½ ç³»ç»Ÿç®¡ç†æˆæœ¬ æˆæœ¬ä½ æˆæœ¬é«˜ CAPå®šç† CAPç†è®ºï¼šä¸‰è€…ä¸å¯å…¼å¾—\nCï¼šï¼ˆConsistencyï¼Œä¸€è‡´æ€§ï¼‰ï¼šè¯»æ“ä½œæ˜¯å¦æ€»èƒ½è¯»åˆ°å‰ä¸€ä¸ªå†™æ“ä½œçš„ç»“æœ Aï¼šï¼ˆAvailbiltyï¼Œå¯ç”¨æ€§ï¼‰ï¼šéæ•…éšœèŠ‚ç‚¹åº”è¯¥åœ¨åˆç†çš„æ—¶é—´å†…åšå‡ºåˆç†çš„å“åº”ï¼Œä½†æ˜¯å¯èƒ½ä¸æ˜¯æœ€æ–°çš„æ•°æ® Pï¼šï¼ˆPartition toleranceï¼Œåˆ†åŒºå®¹é”™æ€§ï¼‰ï¼šå½“å‡ºç°ç½‘ç»œåˆ†åŒºç°è±¡åï¼Œç³»ç»Ÿèƒ½å¤Ÿç»§ç»­è¿è¡Œ åˆ†åŒºå®¹é”™ï¼ˆPï¼‰\nä¸€è‡´æ€§ï¼ˆCï¼‰\nå¯ç”¨æ€§(A)\nCAPçš„é€‰å–\nç«è½¦ç¥¨ C é“¶è¡Œè½¬è´¦ A é›†ç¾¤ã€åˆ†å¸ƒå¼ã€å¾®æœåŠ¡çš„åŒºåˆ« é›†ç¾¤ä¸åˆ†å¸ƒå¼ é›†ç¾¤ï¼šä¸€ä¸ªä¸šæ‹†åˆ†å¤šä¸ªå­ä¸šåŠ¡ï¼Œéƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Š åˆ†å¸ƒå¼ï¼šåŒä¸€ä¸ªä¸šåŠ¡ï¼Œéƒ¨ç½²åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Š é›†ç¾¤å’Œå¾®æœåŠ¡ é›†ç¾¤ï¼šåˆ†æ•£å‹åŠ› å¾®æœåŠ¡ï¼šåˆ†æ•£èƒ½åŠ› åˆ†å¸ƒå¼å’Œå¾®æœåŠ¡ åˆ†å¸ƒå¼ï¼šç³»ç»Ÿéƒ¨ç½²æ–¹å¼ï¼Œéƒ¨ç½²è§’åº¦ï¼ˆåï¼‰ å¾®æœåŠ¡ï¼šæ¶æ„è®¾è®¡æ–¹å¼ï¼Œé€»è¾‘è§’åº¦ï¼ˆå…ˆï¼‰ ","permalink":"https://rexhub.space/posts/back/java/microservices/%E5%88%86%E5%B8%83%E5%BC%8F/","summary":"åˆ†å¸ƒå¼ å®šä¹‰ï¼š åˆ©ç”¨ç‰©ç†æ¶æ„å½¢æˆå¤šä¸ªè‡ªæ²»çš„å¤„ç†å…ƒç´ ï¼Œä¸å…±äº«ä¸»å†…å­˜, ä½†æ˜¯é€šè¿‡å‘é€ä¿¡æ¯åˆä½œã€‚\u0026mdash; Leslie Lamport\nå®é™…é¡¹ç›®çš„æ¼”è¿›è¿‡ç¨‹ ä¸€ä¸ªé¡¹ç›®ï¼Œå¤§è€Œå…¨ å¤šå°æœºå™¨ï¼Œéƒ¨ç½²åŒæ ·çš„åº”ç”¨ åˆ†å¸ƒå¼ï¼šæƒé™ç³»ç»Ÿã€å‘˜å·¥ç³»ç»Ÿã€è¯·å‡ç³»ç»Ÿ åˆ†å¸ƒå¼çš„ä½œç”¨ ä¸ºä»€ä¹ˆéœ€è¦åˆ†å¸ƒå¼ è§£å†³å•ä½“åº”ç”¨çš„é—®é¢˜ åº”ç”¨ä»£ç è€¦åˆä¸¥é‡ï¼ŒåŠŸèƒ½æ‰©å±•éš¾ æ–°éœ€æ±‚å¼€å‘äº¤äº’å‘¨æœŸé•¿ï¼Œæµ‹è¯•å·¥ç¨‹é‡å¤§ æ–°åŠ å…¥çš„å¼€å‘åŒäº‹éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½å±æ€§ç³»ç»Ÿ å‡çº§ç»´æŠ¤å›°éš¾ï¼ˆæ”¹åŠ¨ä»»ä½•ä¸€ç‚¹åœ°æ–¹éƒ½è¦å‡çº§æ•´ä¸ªç³»ç»Ÿï¼‰ ç³»ç»Ÿæ€§èƒ½æå‡è‰°éš¾ï¼Œå¯ç”¨æ€§ä½ï¼Œä¸ç¨³å®š åˆ†å¸ƒå¼çš„å¥½å¤„ å¢å¤§ç³»ç»Ÿå®¹é‡ åŠ å¼ºç³»ç»Ÿå¯ç”¨ å› ä¸ºæ¨¡å—åŒ–ï¼Œæ‰€ä»¥ç³»ç»Ÿæ¨¡å—é‡ç”¨åº¦é«˜ å› ä¸ºè½¯ä»¶æœåŠ¡æ¨¡å—è¢«æ‹†åˆ†ï¼Œå¼€å‘å’Œå‘å¸ƒé€Ÿåº¦å¯ä»¥å¹¶è¡Œå˜å¾—æ›´å— ç³»ç»Ÿæ‹“å±•æ€§æ›´é«˜ å›¢é˜Ÿåä½œæµç¨‹ä¹Ÿä¼šå¾—åˆ°æ”¹å–„ æŠ€æœ¯å‡çº§ åˆ†å¸ƒå¼å’Œå•ä½“ç»“æ„çš„å¯¹æ¯” ä¼ ç»Ÿå•ä½“ç»“æ„ åˆ†å¸ƒå¼æ¶æ„ æ–°äººçš„å­¦ä¹ æˆæœ¬ ä¸šåŠ¡é€»è¾‘æˆæœ¬é«˜ æ¶æ„é€»è¾‘æˆæœ¬é«˜ éƒ¨ç½²ã€è¿ç»´ å®¹æ˜“ å‘å¸ƒé¢‘ç¹ï¼Œå‘å¸ƒé¡ºåºå¤æ‚ã€è¿ç»´éš¾ éš”ç¦»æ€§ ä¸€æŸä¿±æŸï¼Œæ®ƒåŠé±¼å¡˜ æ•…éšœå½±å“èŒƒå›´å° æ¶æ„è®¾è®¡ éš¾åº¦ä½ éš¾åº¦æŒ‡æ•°çº§ä¸Šå‡ ç³»ç»Ÿæ€§èƒ½ å“åº”å¿«ã€ååé‡å° å“åº”æ…¢ã€ååé‡å¤§ æµ‹è¯•æˆæœ¬ ä½ å¾ˆé«˜ æŠ€æœ¯å¤šæ ·æ€§ æŠ€æœ¯å•ä¸€ä¸”å°é—­ æŠ€æœ¯å¤šæ ·ä¸”å¼€æ”¾ ç³»ç»Ÿæ‰©å±•æ€§ æ‰©å±•æ€§å·® æ‰©å±•æ€§å¾ˆå¥½ ç³»ç»Ÿç®¡ç†æˆæœ¬ æˆæœ¬ä½ æˆæœ¬é«˜ CAPå®šç† CAPç†è®ºï¼šä¸‰è€…ä¸å¯å…¼å¾—\nCï¼šï¼ˆConsistencyï¼Œä¸€è‡´æ€§ï¼‰ï¼šè¯»æ“ä½œæ˜¯å¦æ€»èƒ½è¯»åˆ°å‰ä¸€ä¸ªå†™æ“ä½œçš„ç»“æœ Aï¼šï¼ˆAvailbiltyï¼Œå¯ç”¨æ€§ï¼‰ï¼šéæ•…éšœèŠ‚ç‚¹åº”è¯¥åœ¨åˆç†çš„æ—¶é—´å†…åšå‡ºåˆç†çš„å“åº”ï¼Œä½†æ˜¯å¯èƒ½ä¸æ˜¯æœ€æ–°çš„æ•°æ® Pï¼šï¼ˆPartition toleranceï¼Œåˆ†åŒºå®¹é”™æ€§ï¼‰ï¼šå½“å‡ºç°ç½‘ç»œåˆ†åŒºç°è±¡åï¼Œç³»ç»Ÿèƒ½å¤Ÿç»§ç»­è¿è¡Œ åˆ†åŒºå®¹é”™ï¼ˆPï¼‰\nä¸€è‡´æ€§ï¼ˆCï¼‰\nå¯ç”¨æ€§(A)\nCAPçš„é€‰å–\nç«è½¦ç¥¨ C é“¶è¡Œè½¬è´¦ A é›†ç¾¤ã€åˆ†å¸ƒå¼ã€å¾®æœåŠ¡çš„åŒºåˆ« é›†ç¾¤ä¸åˆ†å¸ƒå¼ é›†ç¾¤ï¼šä¸€ä¸ªä¸šæ‹†åˆ†å¤šä¸ªå­ä¸šåŠ¡ï¼Œéƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Š åˆ†å¸ƒå¼ï¼šåŒä¸€ä¸ªä¸šåŠ¡ï¼Œéƒ¨ç½²åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Š é›†ç¾¤å’Œå¾®æœåŠ¡ é›†ç¾¤ï¼šåˆ†æ•£å‹åŠ› å¾®æœåŠ¡ï¼šåˆ†æ•£èƒ½åŠ› åˆ†å¸ƒå¼å’Œå¾®æœåŠ¡ åˆ†å¸ƒå¼ï¼šç³»ç»Ÿéƒ¨ç½²æ–¹å¼ï¼Œéƒ¨ç½²è§’åº¦ï¼ˆåï¼‰ å¾®æœåŠ¡ï¼šæ¶æ„è®¾è®¡æ–¹å¼ï¼Œé€»è¾‘è§’åº¦ï¼ˆå…ˆï¼‰ ","title":"åˆ†å¸ƒå¼"},{"content":"ThreadLocalè¯¦è§£ ä½¿ç”¨åœºæ™¯ï¼š æ¯ä¸ªçº¿ç¨‹éœ€è¦ä¸€ä¸ªç‹¬äº«çš„å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å·¥å…·ç±»ï¼Œå…¸å‹éœ€è¦ä½¿ç”¨çš„ç±»æœ‰SimpleDateFormatå’ŒRandomï¼‰\næ¯ä¸ªThreadå†…æœ‰è‡ªå·±çš„å®ä¾‹å‰¯æœ¬ï¼Œä¸å…±äº« æ¯”å–»ï¼šæ•™æåªæœ‰ä¸€æœ¬ï¼Œä¸€èµ·åšç¬”è®°æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å¤å°åæ²¡æœ‰é—®é¢˜ï¼ŒThreadLocalç›¸å½“äºç”Ÿæˆäº†ä¸€ä¸ªå‰¯æœ¬ é‡å†™initialValueæ–¹æ³•\npackage treadlocal; import java.text.SimpleDateFormat; import java.util.Date; import java.util.concurrent.ExecutorService; import java.util.concurrent.Executors; /** * @Description: åˆ©ç”¨ThreadLocalï¼Œç»™æ¯ä¸ªçº¿ç¨‹åˆ†é…è‡ªå·±çš„dateFormatå¯¹è±¡ï¼Œä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œé«˜æ•ˆåˆ©ç”¨å†…å­˜ * @Author: Rex * @Create: 2021-06-09 14:43 */ public class ThreadLocalNormalUsage05 { public static ExecutorService executor = Executors.newFixedThreadPool(10); public static void main(String[] args) throws InterruptedException { for (int i = 0; i \u0026lt; 1000; i++) { int finalI = i; executor.submit(new Thread(new Runnable() { @Override public void run() { String date = new ThreadLocalNormalUsage05().date(finalI); System.out.println(Thread.currentThread().getName ()+\u0026#34;:\u0026#34;+date); } })); } executor.shutdown(); } public String date(int seconds){ // å‚æ•°çš„å•ä½æ˜¯æ¯«ç§’ï¼Œä»1970.1.1 00:00:00 GMT+è®¡æ—¶ Date date = new Date(1000 * seconds); SimpleDateFormat sdf = ThreadSafeFormatter.threadLocal.get(); return sdf.format(date); } } class ThreadSafeFormatter { public static ThreadLocal\u0026lt;SimpleDateFormat\u0026gt; dateFormatThreadLocal = new ThreadLocal\u0026lt;SimpleDateFormat\u0026gt;(){ @Override protected SimpleDateFormat initialValue() { return new SimpleDateFormat(\u0026#34;yyyy-MM-dd hh:mm:ss\u0026#34;); } }; public static ThreadLocal\u0026lt;SimpleDateFormat\u0026gt; threadLocal = ThreadLocal.withInitial(()-\u0026gt;new SimpleDateFormat(\u0026#34;yyyy-MM-dd hh:mm:ss\u0026#34;)); } æ¯ä¸ªçº¿ç¨‹å†…éœ€è¦ä¿å­˜å…¨å±€å˜é‡ï¼ˆä¾‹å¦‚è·å–ç”¨æˆ·ä¿¡æ¯ï¼‰ï¼Œå¯ä»¥è®©ä¸åŒæ–¹æ³•ç›´æ¥ä½¿ç”¨ï¼Œé¿å…å‚æ•°ä¼ é€’çš„éº»çƒ¦\næ‰‹åŠ¨è°ƒç”¨setæ–¹æ³•\npackage treadlocal; /** * @Description: æ¼”ç¤ºThreadLocalç”¨æ³•2ï¼šé¿å…ä¼ é€’å‚æ•°çš„éº»çƒ¦ * @Author: Rex * @Create: 2021-06-09 19:49 */ public class ThreadLocalNormalUsage06 { public static void main(String[] args) { new Service1().process(); } } class UserContextHolder{ public static ThreadLocal\u0026lt;User\u0026gt; holder = new ThreadLocal\u0026lt;\u0026gt;(); } class Service1 { public void process(){ User user = new User(\u0026#34;è¶…å“¥\u0026#34;); UserContextHolder.holder.set(user); new Service2().process(); } } class Service2 { public void process(){ User user = UserContextHolder.holder.get(); System.out.println(\u0026#34;service2æ‹¿åˆ°ç”¨æˆ·åï¼š\u0026#34; + user.name); new Service3().process(); } } class Service3 { public void process(){ User user = UserContextHolder.holder.get(); System.out.println(\u0026#34;service3æ‹¿åˆ°ç”¨æˆ·åï¼š\u0026#34; + user.name); } } class User { String name; public User(String name) { this.name = name; } } /** ç»“æœï¼š service2æ‹¿åˆ°ç”¨æˆ·åï¼šè¶…å“¥ service3æ‹¿åˆ°ç”¨æˆ·åï¼šè¶…å“¥ */ ThreadLocalçš„ä¸¤å¤§ä½œç”¨ è®©æŸä¸ªéœ€è¦ç”¨åˆ°çš„å¯¹è±¡åœ¨çº¿ç¨‹é—´éš”ç¦»(æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç‹¬ç«‹çš„å¯¹è±¡) åœ¨ä»»ä½•æ–¹æ³•ä¸­éƒ½å¯ä»¥è½»æ¾è·å–åˆ°è¯¥å¯¹è±¡ initialValue åœ¨ThreadLocalç¬¬ä¸€æ¬¡getçš„æ—¶å€™æŠŠå¯¹è±¡ç»™åˆå§‹åŒ–å‡ºæ¥ï¼Œå¯¹è±¡çš„åˆå§‹åŒ–æ—¶æœºå¯ä»¥ç”±æˆ‘ä»¬æ§åˆ¶ set å¦‚æœéœ€è¦ä¿å­˜åˆ°ThreadLocalé‡Œçš„å¯¹è±¡çš„ç”Ÿæˆæ—¶æœºä¸ç”±æˆ‘ä»¬éšæ„æ§åˆ¶ï¼Œä¾‹å¦‚æ‹¦æˆªå™¨ç”Ÿæˆçš„ç”¨æˆ·ä¿¡æ¯ ç”¨ThreadLocal.setç›´æ¥æ”¾åˆ°æˆ‘ä»¬çš„ThreadLocalä¸­å»ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ ThreadLocalçš„å¥½å¤„ï¼š è¾¾åˆ°çº¿ç¨‹å®‰å…¨\nä¸éœ€è¦åŠ é”ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡\næ›´é«˜æ•ˆåœ°åˆ©ç”¨å†…å­˜ã€èŠ‚çœå¼€é”€\nç›¸æ¯”äºæ¯ä¸ªä»»åŠ¡éƒ½æ–°å»ºä¸€ä¸ªSimpleDateFormatï¼Œæ˜¾ç„¶ç”¨ThreadLocalå¯ä»¥èŠ‚çœå†…å­˜å’Œå¼€é”€ å…å»ä¼ å‚çš„ç¹ç\nä¸éœ€è¦æ¯æ¬¡éƒ½ä¼ åŒæ ·çš„å‚æ•°\nThreadLocalä½¿å¾—ä»£ç è€¦åˆåº¦ä½ï¼Œæ›´ä¼˜é›…\nä¸»è¦æ–¹æ³•ï¼š T initialValue(): åˆå§‹åŒ– è¯¥æ–¹æ³•ä¼šè¿”å›å½“å‰çº¿ç¨‹å¯¹åº”çš„\u0026quot;åˆå§‹å€¼\u0026quot;ï¼Œè¿™æ˜¯ä¸€ä¸ªå»¶è¿ŸåŠ è½½çš„æ–¹æ³•ï¼Œåªæœ‰åœ¨è°ƒç”¨getçš„æ—¶å€™ï¼Œæ‰ä¼šè§¦å‘ å½“çº¿ç¨‹ç¬¬ä¸€æ¬¡ä½¿ç”¨getæ–¹æ³•è®¿é—®å˜é‡ï¼Œå°†è°ƒç”¨æ­¤æ–¹æ³• æ¯ä¸ªçº¿ç¨‹æœ€å¤šè°ƒç”¨ä¸€æ¬¡æ­¤æ–¹æ³•ï¼Œä½†å¦‚æœå·²ç»è°ƒç”¨äº†remove()åï¼Œåœ¨è°ƒç”¨get()ï¼Œåˆ™å¯ä»¥å†æ¬¡è°ƒç”¨æ­¤æ–¹æ³• å¦‚æœä¸é‡å†™æ­¤æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šæ”¾å›nullã€‚ä¸€èˆ¬ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„æ–¹æ³•æ¥é‡å†™initialValue()æ–¹æ³• void set(T t)ï¼šä¸ºè¿™ä¸ªçº¿ç¨‹è®¾ç½®ä¸€ä¸ªæ–°å€¼ T get()ï¼šå¾—åˆ°è¿™ä¸ªçº¿ç¨‹å¯¹åº”çš„valueã€‚å¦‚æœæ˜¯é¦–æ¬¡è°ƒç”¨get()ï¼Œåˆ™ä¼šè°ƒç”¨initializeæ¥å¾—åˆ°è¿™ä¸ªå€¼ void remove()ï¼šåˆ é™¤å¯¹åº”è¿™ä¸ªçº¿ç¨‹çš„å€¼ æºç åˆ†æ getæ–¹æ³•:\nsetæ–¹æ³•ï¼š\ngetæ–¹æ³•æ˜¯å…ˆå–å‡ºå½“å‰çº¿ç¨‹çš„ThreadLocal\nç„¶åè°ƒç”¨map.getEntryæ–¹æ³•ï¼ŒæŠŠæœ¬ThreadLocalçš„å¼•ç”¨ä½œä¸ºå‚æ•°ä¼ å…¥\nå–å‡ºmapä¸­å±äºThreadLocalçš„value\næ³¨æ„ï¼šè¿™ä¸ªmapä»¥åŠmapä¸­çš„keyå’Œvalueéƒ½æ˜¯ä¿å­˜åœ¨çº¿ç¨‹ä¸­çš„ï¼Œè€Œä¸æ˜¯ä¿å­˜åœ¨ThreadLocal\ninitialValueæ–¹æ³•\næ²¡æœ‰é»˜è®¤å®ç° å¦‚æœè¦ç”¨initialValue()æ–¹æ³•ï¼Œéœ€è¦è‡ªå·±å®ç° é€šå¸¸ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼å®ç° removeæ–¹æ³•\nThreadLocalMap\nThreadLocalMap ç±»ï¼Œ ä¹Ÿå°±æ˜¯Thread.threadLocals\nThreadLocalMapç±»æ˜¯æ¯ä¸ªçº¿ç¨‹Threadç±»é‡Œé¢çš„å˜é‡ï¼Œé‡Œé¢æœ€é‡è¦çš„æ˜¯ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„Entry[] tableï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªmapï¼Œé”®å€¼å¯¹ï¼š\né”®ï¼šè¿™ä¸ªThreadLocal å€¼ï¼šå®é™…éœ€è¦çš„æˆå‘˜å˜é‡ï¼Œæ¯”å¦‚useræˆ–è€…simpleDateFormatå¯¹è±¡ å†²çªï¼š\nHashMap\nThreadLocalMapè¿™é‡Œé‡‡ç”¨çš„æ˜¯çº¿æ€§æ¢æµ‹æ³•ï¼Œä¹Ÿå°±æ˜¯å¦‚æœå‘ç”Ÿå†²çªï¼Œå°±ç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªç©ºä½ç½®ï¼Œè€Œä¸æ˜¯é“¾è¡¨æ‹‰é“¾\nä½¿ç”¨æ³¨æ„ç‚¹ å†…å­˜æ³„éœ²ï¼ˆOOMï¼‰ ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼šæŸä¸ªå¯¹è±¡ä¸å†æœ‰ç”¨ï¼Œä½†æ˜¯å ç”¨çš„å†…å­˜å´ä¸èƒ½è¢«å›æ”¶ keyçš„æ³„éœ²ï¼šThreadLocalMapä¸­çš„Entryç»§æ‰¿è‡ªWeakReferenceï¼Œæ˜¯å¼±å¼•ç”¨ valueçš„æ³„éœ² ThreadLocalMapçš„æ¯ä¸ªEntryéƒ½æ˜¯ä¸€ä¸ªå¯¹keyçš„å¼±å¼•ç”¨ï¼ŒåŒæ—¶ï¼Œæ¯ä¸ªEntryéƒ½åŒ…å«äº†ä¸€ä¸ªå¯¹valueçš„å¼ºå¼•ç”¨ æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“çº¿ç¨‹ç»ˆæ­¢ï¼Œä¿å­˜åœ¨ThreadLocalé‡Œçš„valueä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•å¼ºå¼•ç”¨äº† ä½†æ˜¯ï¼Œå¦‚æœçº¿ç¨‹ä¸ç»ˆæ­¢ï¼ˆæ¯”å¦‚çº¿ç¨‹éœ€è¦ä¿æŒå¾ˆä¹…ï¼‰ï¼Œé‚£ä¹ˆkeyå¯¹åº”çš„valueå°±ä¸èƒ½è¢«å›æ”¶ï¼Œå› ä¸ºæœ‰ä»¥ä¸‹çš„è°ƒç”¨é“¾ï¼šThread -\u0026gt; ThreadLocalMap -\u0026gt; Entry(keyä¸ºnull) -\u0026gt; value å› ä¸ºvalueå’ŒThreadè¿˜å­˜åœ¨è¿™ä¸ªå¼ºå¼•ç”¨é“¾è·¯ï¼Œæ‰€ä»¥å¯¼è‡´valueæ— æ³•å›æ”¶ï¼Œå°±å¯èƒ½ä¼šå‡ºç°OOM æ‰«ækeyä¸ºnullçš„Entryï¼Œå¹¶æŠŠå¯¹åº”çš„valueè®¾ç½®ä¸ºnull å¦‚æœä¸€ä¸ªThreadLocalä¸è¢«ä½¿ç”¨ï¼Œå°±å¯èƒ½å¯¼è‡´valueçš„å†…å­˜æ³„éœ² å¦‚ä½•é¿å…ï¼ˆé˜¿é‡Œè§„çº¦ï¼‰ï¼š è°ƒç”¨removeæ–¹æ³•ï¼Œå°±ä¼šåˆ é™¤å¯¹åº”çš„Entryå¯¹è±¡ï¼Œå¯ä»¥é¿å…å†…å­˜æ³„éœ²ï¼Œæ‰€ä»¥ä½¿ç”¨å®ŒThreadLocalä¹‹åï¼Œåº”è¯¥è°ƒç”¨removeæ–¹æ³• ç©ºæŒ‡é’ˆå¼‚å¸¸(NPE) åŒ…è£…ç±»ä¸èƒ½ç”¨åŸºæœ¬æ•°æ®ç±»å‹å»æ¥å— ","permalink":"https://rexhub.space/posts/back/java/threadpool/threadlocal%E8%AF%A6%E8%A7%A3/","summary":"ThreadLocalè¯¦è§£ ä½¿ç”¨åœºæ™¯ï¼š æ¯ä¸ªçº¿ç¨‹éœ€è¦ä¸€ä¸ªç‹¬äº«çš„å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å·¥å…·ç±»ï¼Œå…¸å‹éœ€è¦ä½¿ç”¨çš„ç±»æœ‰SimpleDateFormatå’ŒRandomï¼‰\næ¯ä¸ªThreadå†…æœ‰è‡ªå·±çš„å®ä¾‹å‰¯æœ¬ï¼Œä¸å…±äº« æ¯”å–»ï¼šæ•™æåªæœ‰ä¸€æœ¬ï¼Œä¸€èµ·åšç¬”è®°æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å¤å°åæ²¡æœ‰é—®é¢˜ï¼ŒThreadLocalç›¸å½“äºç”Ÿæˆäº†ä¸€ä¸ªå‰¯æœ¬ é‡å†™initialValueæ–¹æ³•\npackage treadlocal; import java.text.SimpleDateFormat; import java.util.Date; import java.util.concurrent.ExecutorService; import java.util.concurrent.Executors; /** * @Description: åˆ©ç”¨ThreadLocalï¼Œç»™æ¯ä¸ªçº¿ç¨‹åˆ†é…è‡ªå·±çš„dateFormatå¯¹è±¡ï¼Œä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œé«˜æ•ˆåˆ©ç”¨å†…å­˜ * @Author: Rex * @Create: 2021-06-09 14:43 */ public class ThreadLocalNormalUsage05 { public static ExecutorService executor = Executors.newFixedThreadPool(10); public static void main(String[] args) throws InterruptedException { for (int i = 0; i \u0026lt; 1000; i++) { int finalI = i; executor.submit(new Thread(new Runnable() { @Override public void run() { String date = new ThreadLocalNormalUsage05().","title":"Threadlocalè¯¦è§£"},{"content":"å…³äºReentrantLockå’ŒCondition ReentrantLockæ˜¯Javaä¸­ä¸€ç§å¸¸è§çš„â€œé”â€ï¼Œé”æ˜¯ä»€ä¹ˆï¼Ÿ å¹¶å‘ç¼–ç¨‹çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´æœ‰ä¸€ä¸ªä¸šåŠ¡æ˜¯è¯»å†™æ“ä½œï¼Œé‚£å¤šä¸ªçº¿ç¨‹æ‰§è¡Œè¿™ä¸ªä¸šåŠ¡å°±ä¼šé€ æˆå·²ç»å†™å…¥çš„æ•°æ®åˆå†™ä¸€éï¼Œå°±ä¼šé€ æˆæ•°æ®é”™ä¹±ã€‚\næ‰€ä»¥éœ€è¦å¼•å…¥é”ï¼Œè¿›è¡Œæ•°æ®åŒæ­¥ï¼Œå¼ºåˆ¶ä½¿å¾—è¯¥ä¸šåŠ¡æ‰§è¡Œçš„æ—¶å€™åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œï¼Œä»è€Œä¿è¯ä¸ä¼šæ’å…¥å¤šæ¡é‡å¤æ•°æ®ã€‚\nä¸€äº›å…±äº«èµ„æºä¹Ÿæ˜¯éœ€è¦åŠ é”ï¼Œä»è€Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚\nä½¿ç”¨Conditionå®ç°çº¿ç¨‹ç­‰å¾…å’Œå”¤é†’ é€šå¸¸åœ¨å¼€å‘å¹¶å‘ç¨‹åºçš„æ—¶å€™ï¼Œä¼šç¢°åˆ°éœ€è¦åœæ­¢æ­£åœ¨æ‰§è¡Œä¸šåŠ¡Aï¼Œæ¥æ‰§è¡Œå¦ä¸€ä¸ªä¸šåŠ¡Bï¼Œå½“ä¸šåŠ¡Bæ‰§è¡Œå®Œæˆåä¸šåŠ¡Aç»§ç»­æ‰§è¡Œã€‚ReentrantLocké€šè¿‡Condtionç­‰å¾…/å”¤é†’è¿™æ ·çš„æœºåˆ¶ã€‚\n","permalink":"https://rexhub.space/posts/back/java/threadpool/%E5%85%B3%E4%BA%8Ereentrantlock%E5%92%8Ccondition/","summary":"å…³äºReentrantLockå’ŒCondition ReentrantLockæ˜¯Javaä¸­ä¸€ç§å¸¸è§çš„â€œé”â€ï¼Œé”æ˜¯ä»€ä¹ˆï¼Ÿ å¹¶å‘ç¼–ç¨‹çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´æœ‰ä¸€ä¸ªä¸šåŠ¡æ˜¯è¯»å†™æ“ä½œï¼Œé‚£å¤šä¸ªçº¿ç¨‹æ‰§è¡Œè¿™ä¸ªä¸šåŠ¡å°±ä¼šé€ æˆå·²ç»å†™å…¥çš„æ•°æ®åˆå†™ä¸€éï¼Œå°±ä¼šé€ æˆæ•°æ®é”™ä¹±ã€‚\næ‰€ä»¥éœ€è¦å¼•å…¥é”ï¼Œè¿›è¡Œæ•°æ®åŒæ­¥ï¼Œå¼ºåˆ¶ä½¿å¾—è¯¥ä¸šåŠ¡æ‰§è¡Œçš„æ—¶å€™åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œï¼Œä»è€Œä¿è¯ä¸ä¼šæ’å…¥å¤šæ¡é‡å¤æ•°æ®ã€‚\nä¸€äº›å…±äº«èµ„æºä¹Ÿæ˜¯éœ€è¦åŠ é”ï¼Œä»è€Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚\nä½¿ç”¨Conditionå®ç°çº¿ç¨‹ç­‰å¾…å’Œå”¤é†’ é€šå¸¸åœ¨å¼€å‘å¹¶å‘ç¨‹åºçš„æ—¶å€™ï¼Œä¼šç¢°åˆ°éœ€è¦åœæ­¢æ­£åœ¨æ‰§è¡Œä¸šåŠ¡Aï¼Œæ¥æ‰§è¡Œå¦ä¸€ä¸ªä¸šåŠ¡Bï¼Œå½“ä¸šåŠ¡Bæ‰§è¡Œå®Œæˆåä¸šåŠ¡Aç»§ç»­æ‰§è¡Œã€‚ReentrantLocké€šè¿‡Condtionç­‰å¾…/å”¤é†’è¿™æ ·çš„æœºåˆ¶ã€‚","title":"å…³äºreentrantlockå’Œcondition"},{"content":"å®ˆæŠ¤çº¿ç¨‹ ä¸¤ç±»çº¿ç¨‹ï¼š User Thread ç”¨æˆ·çº¿ç¨‹ Daemon Thread å®ˆæŠ¤çº¿ç¨‹ åˆ†ç±»æ ‡å‡†æ˜¯çº¿ç¨‹æ˜¯å¦ä¼šé˜»æ­¢JVMçš„åœæ­¢ï¼Œåªè¦å½“å‰JVMå®ä¾‹ä¸­å°šå­˜åœ¨ä»»ä½•ä¸€ä¸ªéå®ˆæŠ¤çº¿ç¨‹æ²¡æœ‰ç»“æŸï¼Œå®ˆæŠ¤çº¿ç¨‹å°±å…¨éƒ¨ç»§ç»­å·¥ä½œï¼›åªæœ‰å½“æœ€åä¸€ä¸ªéå®ˆæŠ¤çº¿ç¨‹ç»“æŸæ—¶ï¼Œæ‰€æœ‰å®ˆæŠ¤çº¿ç¨‹æ‰ä¼šéšç€JVMä¸€åŒç»“æŸå·¥ä½œã€‚ï¼ˆéå®ˆæŠ¤çº¿ç¨‹ç­‰åŒäºç”¨æˆ·çº¿ç¨‹ï¼‰\nJVMåœæ­¢çš„æƒ…å†µ å·²è°ƒç”¨System.exit()æ–¹æ³• æ‰€æœ‰éå®ˆæŠ¤ç¨‹åºçº¿ç¨‹éƒ½å·²ç»“æŸ è€Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸ä¼šè°ƒç”¨System.exit()æ–¹æ³•ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†çš„Javaç¨‹åºçš„ç»“æŸéƒ½æ˜¯ç”±äºæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹éƒ½ç»“æŸè€Œå¯¼è‡´çš„ã€‚\næ‰€ä»¥å¯ä»¥è®¤ä¸ºï¼Œä»»ä½•ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹éƒ½æ˜¯æ•´ä¸ªJVMä¸­æ‰€æœ‰ç”¨æˆ·çº¿ç¨‹ï¼ˆéå®ˆæŠ¤çº¿ç¨‹ï¼‰çš„ç®¡å®¶ã€‚Daemonçš„ä½œç”¨æ˜¯ä¸ºå…¶ä»–çº¿ç¨‹çš„è¿è¡Œæä¾›ä¾¿åˆ©æœåŠ¡ï¼Œå®ˆæŠ¤çº¿ç¨‹æœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯ GC (åƒåœ¾å›æ”¶å™¨)ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆç§°èŒçš„å®ˆæŠ¤è€…ã€‚\nå®ˆæŠ¤çº¿ç¨‹çš„ç‰¹æ€§ çº¿ç¨‹ç±»å‹é»˜è®¤ç»§æ‰¿è‡ªçˆ¶çº¿ç¨‹ å®ˆæŠ¤çº¿ç¨‹åˆ›å»ºçš„çº¿ç¨‹ä¸ºé»˜è®¤æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼ŒåŒæ ·ï¼Œç”¨æˆ·çº¿ç¨‹åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤ä¸ºç”¨æˆ·çº¿ç¨‹ã€‚éå®ˆæŠ¤çº¿ç¨‹å¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ï¼Œéœ€è¦è°ƒç”¨Thread.setDaemonæ¥è®¾ç½®å®ƒï¼ˆThreadç±»ç”¨å¸ƒå°”å€¼daemonå±æ€§æ¥è¡¨ç¤ºçº¿ç¨‹æ˜¯å¦æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼‰ï¼Œå¹¶ä¸”ï¼Œè¯¥æ–¹æ³•å¿…é¡»åœ¨startä¹‹å‰è°ƒç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡º IllegalThreadStateException å¼‚å¸¸ã€‚ è¢«è°å¯åŠ¨ é€šå¸¸ç”±JVMå¯åŠ¨ï¼Œè€Œä¸æ˜¯ç”±ç”¨æˆ·å»å¯åŠ¨ã€‚å½“JVMå¯åŠ¨æ—¶ï¼Œé€šå¸¸ä¼šæœ‰ä¸€ä¸ªéå®ˆæŠ¤çº¿ç¨‹ï¼ˆé€šå¸¸ä¸ºæ‰§è¡Œmainå‡½æ•°çš„çº¿ç¨‹ï¼‰ã€‚\nä¸å½±å“JVMé€€å‡º å½“åªå‰©ä¸‹å®ˆæŠ¤çº¿ç¨‹æ—¶ï¼ŒJVMå°±ä¼šé€€å‡ºï¼Œå› ä¸ºå¦‚æœåªå‰©ä¸‹å®ˆæŠ¤çº¿ç¨‹ï¼Œå°±æ²¡å¿…è¦ç»§ç»­è¿è¡Œç¨‹åºäº†ã€‚\nå®ˆæŠ¤çº¿ç¨‹æ²¡ç»“æŸå¹¶ä¸ä¼šå½±å“JVMçš„æ­£å¸¸åœæ­¢:å‡è®¾æ‰€æœ‰ç”¨æˆ·çº¿ç¨‹éƒ½ç»“æŸäº†ï¼Œé‚£ä¹ˆå°±ç®—æœ‰5ä¸ªå®ˆæŠ¤çº¿ç¨‹æ­£åœ¨è¿è¡Œï¼ŒJVMä¹Ÿä¼šæ­£å¸¸åœæ­¢ï¼š\nå®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹çš„åŒºåˆ« è™šæ‹Ÿæœºçš„ç¦»å¼€ï¼šå¦‚æœ User Threadå·²ç»å…¨éƒ¨é€€å‡ºè¿è¡Œäº†ï¼Œåªå‰©ä¸‹Daemon Threadå­˜åœ¨äº†ï¼Œè™šæ‹Ÿæœºä¹Ÿå°±é€€å‡ºäº†ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰äº†â€œè¢«å®ˆæŠ¤è€…â€ï¼ŒDaemonä¹Ÿå°±æ²¡æœ‰å·¥ä½œå¯åšäº†ï¼Œä¹Ÿå°±æ²¡æœ‰ç»§ç»­è¿è¡Œç¨‹åºçš„å¿…è¦äº†ã€‚ è¿™å°±æ˜¯å®ˆæŠ¤çº¿ç¨‹çš„ä½œç”¨ï¼šå‘Šè¯‰JVMä¸éœ€è¦ç­‰å¾…å®ƒé€€å‡º,å½“JVMä¸­æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹çš„æ—¶å€™ï¼ŒJVMå°±å¯ä»¥æ­£å¸¸çš„é€€å‡ºäº†ã€‚ æˆ‘ä»¬æ˜¯å¦éœ€è¦ç»™çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ æˆ‘ä»¬é€šå¸¸ä¸åº”æŠŠè‡ªå·±çš„çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œå› ä¸ºè®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹æ˜¯å¾ˆå±é™©çš„ã€‚æ¯”å¦‚çº¿ç¨‹æ­£åœ¨è®¿é—®å¦‚æ–‡ä»¶ã€æ•°æ®åº“çš„æ—¶å€™ï¼Œæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹éƒ½ç»“æŸäº†ï¼Œé‚£ä¹ˆå®ˆæŠ¤çº¿ç¨‹ä¼šåœ¨ä»»ä½•æ—¶å€™ç”šè‡³åœ¨ä¸€ä¸ªæ“ä½œçš„ä¸­é—´å‘ç”Ÿä¸­æ–­ï¼Œæ‰€ä»¥å®ˆæŠ¤çº¿ç¨‹æ°¸è¿œä¸åº”è¯¥å»è®¿é—®å›ºæœ‰èµ„æºã€‚\n","permalink":"https://rexhub.space/posts/back/java/threadpool/%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B/","summary":"å®ˆæŠ¤çº¿ç¨‹ ä¸¤ç±»çº¿ç¨‹ï¼š User Thread ç”¨æˆ·çº¿ç¨‹ Daemon Thread å®ˆæŠ¤çº¿ç¨‹ åˆ†ç±»æ ‡å‡†æ˜¯çº¿ç¨‹æ˜¯å¦ä¼šé˜»æ­¢JVMçš„åœæ­¢ï¼Œåªè¦å½“å‰JVMå®ä¾‹ä¸­å°šå­˜åœ¨ä»»ä½•ä¸€ä¸ªéå®ˆæŠ¤çº¿ç¨‹æ²¡æœ‰ç»“æŸï¼Œå®ˆæŠ¤çº¿ç¨‹å°±å…¨éƒ¨ç»§ç»­å·¥ä½œï¼›åªæœ‰å½“æœ€åä¸€ä¸ªéå®ˆæŠ¤çº¿ç¨‹ç»“æŸæ—¶ï¼Œæ‰€æœ‰å®ˆæŠ¤çº¿ç¨‹æ‰ä¼šéšç€JVMä¸€åŒç»“æŸå·¥ä½œã€‚ï¼ˆéå®ˆæŠ¤çº¿ç¨‹ç­‰åŒäºç”¨æˆ·çº¿ç¨‹ï¼‰\nJVMåœæ­¢çš„æƒ…å†µ å·²è°ƒç”¨System.exit()æ–¹æ³• æ‰€æœ‰éå®ˆæŠ¤ç¨‹åºçº¿ç¨‹éƒ½å·²ç»“æŸ è€Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸ä¼šè°ƒç”¨System.exit()æ–¹æ³•ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†çš„Javaç¨‹åºçš„ç»“æŸéƒ½æ˜¯ç”±äºæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹éƒ½ç»“æŸè€Œå¯¼è‡´çš„ã€‚\næ‰€ä»¥å¯ä»¥è®¤ä¸ºï¼Œä»»ä½•ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹éƒ½æ˜¯æ•´ä¸ªJVMä¸­æ‰€æœ‰ç”¨æˆ·çº¿ç¨‹ï¼ˆéå®ˆæŠ¤çº¿ç¨‹ï¼‰çš„ç®¡å®¶ã€‚Daemonçš„ä½œç”¨æ˜¯ä¸ºå…¶ä»–çº¿ç¨‹çš„è¿è¡Œæä¾›ä¾¿åˆ©æœåŠ¡ï¼Œå®ˆæŠ¤çº¿ç¨‹æœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯ GC (åƒåœ¾å›æ”¶å™¨)ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆç§°èŒçš„å®ˆæŠ¤è€…ã€‚\nå®ˆæŠ¤çº¿ç¨‹çš„ç‰¹æ€§ çº¿ç¨‹ç±»å‹é»˜è®¤ç»§æ‰¿è‡ªçˆ¶çº¿ç¨‹ å®ˆæŠ¤çº¿ç¨‹åˆ›å»ºçš„çº¿ç¨‹ä¸ºé»˜è®¤æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼ŒåŒæ ·ï¼Œç”¨æˆ·çº¿ç¨‹åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤ä¸ºç”¨æˆ·çº¿ç¨‹ã€‚éå®ˆæŠ¤çº¿ç¨‹å¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ï¼Œéœ€è¦è°ƒç”¨Thread.setDaemonæ¥è®¾ç½®å®ƒï¼ˆThreadç±»ç”¨å¸ƒå°”å€¼daemonå±æ€§æ¥è¡¨ç¤ºçº¿ç¨‹æ˜¯å¦æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼‰ï¼Œå¹¶ä¸”ï¼Œè¯¥æ–¹æ³•å¿…é¡»åœ¨startä¹‹å‰è°ƒç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡º IllegalThreadStateException å¼‚å¸¸ã€‚ è¢«è°å¯åŠ¨ é€šå¸¸ç”±JVMå¯åŠ¨ï¼Œè€Œä¸æ˜¯ç”±ç”¨æˆ·å»å¯åŠ¨ã€‚å½“JVMå¯åŠ¨æ—¶ï¼Œé€šå¸¸ä¼šæœ‰ä¸€ä¸ªéå®ˆæŠ¤çº¿ç¨‹ï¼ˆé€šå¸¸ä¸ºæ‰§è¡Œmainå‡½æ•°çš„çº¿ç¨‹ï¼‰ã€‚\nä¸å½±å“JVMé€€å‡º å½“åªå‰©ä¸‹å®ˆæŠ¤çº¿ç¨‹æ—¶ï¼ŒJVMå°±ä¼šé€€å‡ºï¼Œå› ä¸ºå¦‚æœåªå‰©ä¸‹å®ˆæŠ¤çº¿ç¨‹ï¼Œå°±æ²¡å¿…è¦ç»§ç»­è¿è¡Œç¨‹åºäº†ã€‚\nå®ˆæŠ¤çº¿ç¨‹æ²¡ç»“æŸå¹¶ä¸ä¼šå½±å“JVMçš„æ­£å¸¸åœæ­¢:å‡è®¾æ‰€æœ‰ç”¨æˆ·çº¿ç¨‹éƒ½ç»“æŸäº†ï¼Œé‚£ä¹ˆå°±ç®—æœ‰5ä¸ªå®ˆæŠ¤çº¿ç¨‹æ­£åœ¨è¿è¡Œï¼ŒJVMä¹Ÿä¼šæ­£å¸¸åœæ­¢ï¼š\nå®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹çš„åŒºåˆ« è™šæ‹Ÿæœºçš„ç¦»å¼€ï¼šå¦‚æœ User Threadå·²ç»å…¨éƒ¨é€€å‡ºè¿è¡Œäº†ï¼Œåªå‰©ä¸‹Daemon Threadå­˜åœ¨äº†ï¼Œè™šæ‹Ÿæœºä¹Ÿå°±é€€å‡ºäº†ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰äº†â€œè¢«å®ˆæŠ¤è€…â€ï¼ŒDaemonä¹Ÿå°±æ²¡æœ‰å·¥ä½œå¯åšäº†ï¼Œä¹Ÿå°±æ²¡æœ‰ç»§ç»­è¿è¡Œç¨‹åºçš„å¿…è¦äº†ã€‚ è¿™å°±æ˜¯å®ˆæŠ¤çº¿ç¨‹çš„ä½œç”¨ï¼šå‘Šè¯‰JVMä¸éœ€è¦ç­‰å¾…å®ƒé€€å‡º,å½“JVMä¸­æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹çš„æ—¶å€™ï¼ŒJVMå°±å¯ä»¥æ­£å¸¸çš„é€€å‡ºäº†ã€‚ æˆ‘ä»¬æ˜¯å¦éœ€è¦ç»™çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ æˆ‘ä»¬é€šå¸¸ä¸åº”æŠŠè‡ªå·±çš„çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œå› ä¸ºè®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹æ˜¯å¾ˆå±é™©çš„ã€‚æ¯”å¦‚çº¿ç¨‹æ­£åœ¨è®¿é—®å¦‚æ–‡ä»¶ã€æ•°æ®åº“çš„æ—¶å€™ï¼Œæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹éƒ½ç»“æŸäº†ï¼Œé‚£ä¹ˆå®ˆæŠ¤çº¿ç¨‹ä¼šåœ¨ä»»ä½•æ—¶å€™ç”šè‡³åœ¨ä¸€ä¸ªæ“ä½œçš„ä¸­é—´å‘ç”Ÿä¸­æ–­ï¼Œæ‰€ä»¥å®ˆæŠ¤çº¿ç¨‹æ°¸è¿œä¸åº”è¯¥å»è®¿é—®å›ºæœ‰èµ„æºã€‚","title":"å®ˆæŠ¤çº¿ç¨‹"},{"content":"çº¿ç¨‹æ±  çº¿ç¨‹æ± ä»‹ç» è½¯ä»¶ä¸­çš„æ± å¯ä»¥ç†è§£ä¸ºè®¡åˆ’ç»æµ\nä¼˜ç‚¹ï¼š\nå¤ç”¨çº¿ç¨‹ æ§åˆ¶èµ„æºæ€»é‡ å¥½å¤„ï¼š\nåŠ å¿«å“åº”é€Ÿåº¦ åˆç†åˆ©ç”¨CPUå’Œå†…å­˜ ç»Ÿä¸€ç®¡ç† é€‚ç”¨åœºåˆ\næœåŠ¡å™¨æ¥æ”¶åˆ°å¤§é‡è¯·æ±‚æ—¶ï¼Œä½¿ç”¨çº¿ç¨‹æ± æŠ€æœ¯æ˜¯éå¸¸åˆé€‚çš„ï¼Œå®ƒå¯ä»¥å¤§å¤§å‡å°‘çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯æ¬¡æ•°ï¼Œæé«˜æœåŠ¡å™¨çš„å·¥ä½œæ•ˆç‡ å®é™…ä¸Šï¼Œåœ¨å¼€å‘ä¸­ï¼Œå¦‚æœéœ€è¦åˆ›å»º5ä¸ªä»¥ä¸Šçš„çº¿ç¨‹ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± æ¥ç®¡ç† åˆ›å»ºå’Œåœæ­¢çº¿ç¨‹æ±  çº¿ç¨‹æ± æ„é€ æ–¹æ³•çš„å‚æ•° å‚æ•°å ç±»å‹ å«ä¹‰ corePoolSize int æ ¸å¿ƒçº¿ç¨‹æ•° maxPoolSize int æœ€å¤§çº¿ç¨‹æ•° keepAliveTime long ä¿æŒå­˜æ´»æ—¶é—´ workQueue BlockingQueue ä»»åŠ¡å­˜å‚¨é˜Ÿåˆ— threadFactory ThreadFactory å½“çº¿ç¨‹æ± éœ€è¦æ–°çš„çº¿ç¨‹çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨threadFactoryæ¥ç”Ÿæˆæ–°çš„çº¿ç¨‹ Handler RejectedExecutionHandler ç”±äºçº¿ç¨‹æ± æ— æ³•æ¥å—ä½ æ‰€æäº¤çš„ä»»åŠ¡çš„æ‹’ç»ç­–ç•¥ æ·»åŠ çº¿ç¨‹è§„åˆ™ å¦‚æœçº¿ç¨‹æ•°å°äºcorePoolSizeï¼Œåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥è¿è¡Œæ–°ä»»åŠ¡ã€‚ å¦‚æœçº¿ç¨‹æ•°ç­‰äºï¼ˆæˆ–å¤§äºï¼‰corePoolSizeä½†å°‘äºmaxmumPoolSizeï¼Œåˆ™å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ã€‚ å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œå¹¶ä¸”çº¿ç¨‹æ•°å°äºmaxPoolSizeï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ã€‚ å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œå¹¶ä¸”çº¿ç¨‹æ•°å¤§äºæˆ–ç­‰äºmaxPoolSizeï¼Œåˆ™æ‹’ç»ã€‚ æ˜¯å¦éœ€è¦å¢åŠ çº¿ç¨‹çš„åˆ¤æ–­é¡ºåºæ˜¯ï¼š\ncorePoolSize workQueue maxPoolSize å¢å‡çº¿ç¨‹çš„ç‰¹ç‚¹ é€šè¿‡è®¾ç½®corePoolSizeå’ŒmaximumPoolSizeç›¸åŒï¼Œå°±å¯ä»¥åˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ±  çº¿ç¨‹æ± å¸Œæœ›ä¿æŒè¾ƒå°‘çš„çº¿ç¨‹æ•°ï¼Œå¹¶ä¸”åªæœ‰åœ¨è´Ÿè½½å˜å¾—å¾ˆå¤§æ—¶æ‰å¢åŠ å®ƒ ä¸¾ä¾‹ï¼š\nçº¿ç¨‹æ± ï¼šæ ¸å¿ƒæ± å¤§å°ä¸º5ï¼Œæœ€å¤§æ± å¤§å°ä¸º10ï¼Œé˜Ÿåˆ—ä¸º100 å› ä¸ºçº¿ç¨‹ä¸­çš„è¯·æ±‚æœ€å¤šä¼šåˆ›å»º5ä¸ªï¼Œç„¶åä»»åŠ¡å°†è¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°è¾¾åˆ°100ã€‚å½“é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œå°†åˆ›å»ºæœ€æ–°çš„çº¿ç¨‹maxPoolSizeï¼Œæœ€å¤šåˆ°10ä¸ªçº¿ç¨‹ï¼Œå¦‚æœå†æ¥ä»»åŠ¡ï¼Œå°±æ‹’ç» keepAliveTime\nå¦‚æœçº¿ç¨‹æ± å½“å‰çš„çº¿ç¨‹æ•°å¤šäºcorePoolSizeï¼Œé‚£ä¹ˆå¦‚æœå¤šä½™çš„çº¿ç¨‹ç©ºé—²æ—¶é—´è¶…è¿‡keepAliveTimeï¼Œä»–ä»¬å°±ä¼šè¢«ç»ˆæ­¢ ThreadFactory\né»˜è®¤ä½¿ç”¨Executors.defaultThreadFactory() åˆ›å»ºå‡ºæ¥çš„éƒ½åœ¨åŒä¸€ä¸ªçº¿ç¨‹ç»„ å¦‚æœè‡ªå·±æŒ‡å®šThreadFactoryï¼Œé‚£ä¹ˆå°±å¯ä»¥æ”¹å˜çº¿ç¨‹åã€çº¿ç¨‹ç»„ã€ä¼˜å…ˆçº§ã€æ˜¯å¦æ˜¯å®ˆæŠ¤çº¿ç¨‹ç­‰ã€‚ å·¥ä½œé˜Ÿåˆ—\næœ‰3ç§æœ€å¸¸è§çš„é˜Ÿåˆ—ç±»å‹ï¼š\nç›´æ¥äº¤æ¥ï¼šSynchronousQueue\né€‚ç”¨äºä»»åŠ¡ä¸å¤šçš„æƒ…å†µï¼Œåªä½œä¸ºä¸­è½¬\nå†…éƒ¨æ²¡æœ‰å®¹é‡ï¼ŒmaxPoolSizeéœ€è¦è®¾ç½®çš„å¤§ä¸€ç‚¹\næ— ç•Œé˜Ÿåˆ—ï¼šLinkedBlockingQueue\nå¯ä»¥é˜²æ­¢æµè§ˆçªå¢\nä½†æ˜¯å¦‚æœå¤„ç†çš„é€Ÿåº¦è·Ÿä¸ä¸Šä»»åŠ¡æäº¤çš„é€Ÿåº¦ï¼Œé˜Ÿåˆ—é‡Œçš„ä¸œè¥¿ä¼šè¶Šæ¥è¶Šå¤šé€ æˆå†…å­˜æµªè´¹æˆ–OOM(Out of Memory)å¼‚å¸¸\nä¸ä¼šè¢«å¡æ»¡ï¼ŒmaxPoolSizeæ— æ•ˆ\næœ‰ç•Œé˜Ÿåˆ—ï¼šArrayBlockingQueue\nå¯ä»¥è®¾ç½®maxPoolSizeï¼Œæ§åˆ¶é˜Ÿåˆ—å®¹é‡\nè‡ªåŠ¨åˆ›å»ºï¼ˆå³ç›´æ¥è°ƒç”¨JDKå°è£…å¥½çš„æ„é€ æ–¹æ³•ï¼‰VSè‡ªåŠ¨åˆ›å»º æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹å¯ä»¥æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œé¿å…èµ„æºè€—å°½çš„é£é™© è‡ªåŠ¨åˆ›å»ºï¼š\nnewFixedThreadPool\nå› ä¸ºé»˜è®¤ä½¿ç”¨çš„æ˜¯LinkedBlockingQueueï¼Œå®¹æ˜“é€ æˆå¤§é‡å†…å­˜å ç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´OOMé”™è¯¯\nnewSingleThreadExecutor\nå½“è¯·æ±‚å †ç§¯çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå ç”¨å¤§é‡çš„å†…å­˜\nnewCachedThreadPool\nå¯ç¼“å­˜çº¿ç¨‹æ±  ç‰¹ç‚¹ï¼šå…·æœ‰è‡ªåŠ¨å›æ”¶å¤šä½™çº¿ç¨‹çš„åŠŸèƒ½ å¼Šç«¯åœ¨äºç¬¬äºŒä¸ªå‚æ•°maxmumPoolSizeè¢«è®¾ç½®ä¸ºäº†Integer.MAX_VALUEï¼Œè¿™å¯èƒ½ä¼šåˆ›å»ºæ•°é‡éå¸¸å¤šçš„çº¿ç¨‹ï¼Œç”šè‡³å¯¼è‡´OOM newScheduledThreadPool\næ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§æ‰§è¡Œä»»åŠ¡ workStealingPool(jdk1.8)\né€‚åˆäºæœ‰å­ä»»åŠ¡çš„ï¼Œå¦‚æ ‘çš„éå† çªƒå–(stealing) æ­£ç¡®çš„åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹æ³•\næ ¹æ®ä¸šåŠ¡åœºæ™¯ï¼Œè®¾ç½®çº¿ç¨‹æ± å‚æ•° æ¯”å¦‚ï¼šå†…å­˜æœ‰å¤šå¤§ï¼Œç»™çº¿ç¨‹å–ä»€ä¹ˆåå­—ç­‰ç­‰ çº¿ç¨‹æ•°é‡çš„è®¾ç½®ï¼š\nCPUå¯†é›†å‹ï¼ˆå¤§é‡åŠ å¯†ã€è®¡ç®—hashç­‰ï¼‰ï¼šæœ€ä½³çº¿ç¨‹æ•°ä¸ºCPUæ ¸å¿ƒæ•°çš„1-2å€å·¦å³ã€‚\nè€—æ—¶IOå‹ï¼ˆè¯»å†™æ•°æ®åº“ã€æ–‡ä»¶ã€ç½‘ç»œè¯»å†™ç­‰ï¼‰ï¼šæœ€ä½³çº¿ç¨‹æ•°ä¸€èˆ¬ä¼šå¤§äºCPUæ ¸å¿ƒæ•°å¾ˆå¤šå€ï¼ˆå¦‚10å€ï¼‰\nå‚è€ƒBrain Geoetzæ¨èçš„è®¡ç®—æ–¹æ³•ï¼š\nçº¿ç¨‹æ•° = CPUæ ¸å¿ƒæ•° Ã— (1 + å¹³å‡ç­‰å¾…æ—¶é—´/å¹³å‡å·¥ä½œæ—¶é—´)\norå‹æµ‹\nParameter FIXEDTHREADPOOL CACHEDTHREADPOLL sCHEDULEDtHREADPOOL SINGLETHREADED corePoolSize constructor-arg 0 constructor-arg 1 maxPoolSize same as corePoolSize Integer.MAX_VALUE Integer.MAX_VALUE 1 keepAliveTime 0 seconds 60 seconds 0 seconds 0 seconds åœæ­¢çº¿ç¨‹æ± çš„æ­£ç¡®åšæ³• shutdownï¼šåˆå§‹åŒ–æ•´ä¸ªå…³é—­è¿‡ç¨‹ï¼Œå¹¶ä¸ä¼šé©¬ä¸Šå…³é—­ isShutdownï¼šåˆ¤æ–­æ˜¯å¦è¿›å…¥åœæ­¢çŠ¶æ€ isTerminatedï¼šåˆ¤æ–­çº¿ç¨‹æ˜¯å¦å·²ç»ç»ˆæ­¢ awaitTerminationï¼šåˆ¤æ–­åœ¨ä¸€æ®µæ—¶é—´å†…çº¿ç¨‹æ˜¯å¦å®Œå…¨åœæ­¢ shutdownNowï¼šæš´åŠ›å…³é—­ æš‚åœå’Œæ¢å¤çº¿ç¨‹æ±  æ‹’ç»ä»»åŠ¡ æ‹’ç»æ—¶æœº\nå½“Executorå…³é—­æ—¶ï¼Œæäº¤æ–°ä»»åŠ¡ä¼šè¢«æ‹’ç» ä»¥åŠå½“Executorå¯¹æœ€å¤§çº¿ç¨‹å’Œå·¥ä½œé˜Ÿåˆ—å®¹é‡ä½¿ç”¨æœ‰é™è¾¹ç•Œä¸” å·²ç»é¥±å’Œæ—¶ æ‹’ç»ç­–ç•¥\nAbortPolicy\næŠ›å‡ºå¼‚å¸¸\nDiscardPolicyï¼ˆDiscardä¸¢å¼ƒï¼‰\né»˜é»˜ä¸¢å¼ƒä»»åŠ¡ï¼Œä¸çŸ¥é“ä»»åŠ¡æ˜¯å¦è¢«ä¸¢å¼ƒ\nDiscardOledestPolicy\nä¸¢å¼ƒæœ€è€çš„ä»»åŠ¡\nCallerRunsPolicy\nè®©è°ƒç”¨è€…å»æ‰§è¡Œä»»åŠ¡\né’©å­æ–¹æ³•-ç»™çº¿ç¨‹æ± åŠ ç‚¹æ–™\næ¯ä¸ªä»»åŠ¡æ‰§è¡Œå‰å\næ—¥å¿—ã€ç»Ÿè®¡\nç¤ºä¾‹ä»£ç ï¼š\npackage threadpool; import java.util.concurrent.*; import java.util.concurrent.locks.Condition; import java.util.concurrent.locks.ReentrantLock; /** * @Description: æè¿°æ¯ä¸ªä»»åŠ¡æ‰§è¡Œå‰åæ”¾é’©å­å‡½æ•° * @Author: Rex * @Create: 2021-06-08 14:22 */ public class PauseableThreadLocal extends ThreadPoolExecutor { private final ReentrantLock lock = new ReentrantLock(); private boolean isPaused; private Condition unpause = lock.newCondition(); public PauseableThreadLocal(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue\u0026lt;Runnable\u0026gt; workQueue) { super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue); } public PauseableThreadLocal(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue\u0026lt;Runnable\u0026gt; workQueue, ThreadFactory threadFactory) { super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory); } public PauseableThreadLocal(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue\u0026lt;Runnable\u0026gt; workQueue, RejectedExecutionHandler handler) { super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, handler); } public PauseableThreadLocal(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue\u0026lt;Runnable\u0026gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) { super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory, handler); } @Override protected void beforeExecute(Thread t, Runnable r) { super.beforeExecute(t, r); lock.lock(); try{ while(isPaused) { unpause.await(); } }catch (InterruptedException e){ e.printStackTrace(); }finally { lock.unlock(); } } private void pause(){ lock.lock(); try { isPaused = true; } finally { lock.unlock(); } } public void resume(){ lock.lock(); try { isPaused = false; unpause.signalAll(); } finally { lock.unlock(); } } public static void main(String[] args) throws InterruptedException { PauseableThreadLocal pauseableThreadLocal = new PauseableThreadLocal(10, 20, 10L, TimeUnit.SECONDS, new LinkedBlockingQueue\u0026lt;\u0026gt;()); for (int i = 0; i \u0026lt; 10000; i++) { pauseableThreadLocal.execute(() -\u0026gt; { System.out.println(\u0026#34;æˆ‘è¢«æ‰§è¡Œ\u0026#34;); try { Thread.sleep(10); } catch (InterruptedException e) { e.printStackTrace(); } }); } Thread.sleep(1500); pauseableThreadLocal.pause(); System.out.println(\u0026#34;çº¿ç¨‹æ± è¢«æš‚åœäº†\u0026#34;); Thread.sleep(1500); pauseableThreadLocal.resume(); System.out.println(\u0026#34;çº¿ç¨‹æ± è¢«æ¢å¤äº†\u0026#34;); } } çº¿ç¨‹æ± å®ç°åŸç† çº¿ç¨‹æ± ç»„æˆéƒ¨åˆ†\nçº¿ç¨‹æ± ç®¡ç†å™¨ å·¥ä½œçº¿ç¨‹ ä»»åŠ¡é˜Ÿåˆ— ä»»åŠ¡æ¥å£ï¼ˆTaskï¼‰ Executor -\u0026gt; ExecutorService -\u0026gt; AbstractExecutorService -\u0026gt; ThreadPoolExecutor\nçº¿ç¨‹æ± å®ç°ä»»åŠ¡å¤ç”¨\nç›¸åŒçº¿ç¨‹æ‰§è¡Œä¸åŒä»»åŠ¡ çº¿ç¨‹æ± çŠ¶æ€ çŠ¶æ€ å«ä¹‰ Running æ¥å—æ–°ä»»åŠ¡å¹¶å¤„ç†æ’é˜Ÿä»»åŠ¡ Shutdown ä¸æ¥å—æ–°ä»»åŠ¡ï¼Œä½†å¤„ç†æ’é˜Ÿä»»åŠ¡ Stop ä¸æ¥å—æ–°ä»»åŠ¡ï¼Œä¹Ÿä¸å¤„ç†æ’é˜Ÿä»»åŠ¡ï¼Œå¹¶ä¸­æ–­æ­£åœ¨è¿›è¡Œçš„ä»»åŠ¡ Tydying æ‰€æœ‰ä»»åŠ¡éƒ½å·²ç»ˆæ­¢ï¼ŒworkCountä¸ºé›¶æ—¶ï¼Œçº¿ç¨‹ä¼šè½¬æ¢åˆ°TidyingçŠ¶æ€ï¼Œå¹¶å°†è¿è¡Œterminal()é’©å­æ–¹æ³• Terminated terminal()è¿è¡Œå®Œæˆ ä½¿ç”¨çº¿ç¨‹æ± çš„æ³¨æ„ç‚¹ é¿å…ä»»åŠ¡å †ç§¯ é¿å…çº¿ç¨‹æ•°è¿‡æ¸¡å¢åŠ  æ’æŸ¥çº¿ç¨‹æ³„éœ² ","permalink":"https://rexhub.space/posts/back/java/threadpool/%E7%BA%BF%E7%A8%8B%E6%B1%A0/","summary":"çº¿ç¨‹æ±  çº¿ç¨‹æ± ä»‹ç» è½¯ä»¶ä¸­çš„æ± å¯ä»¥ç†è§£ä¸ºè®¡åˆ’ç»æµ\nä¼˜ç‚¹ï¼š\nå¤ç”¨çº¿ç¨‹ æ§åˆ¶èµ„æºæ€»é‡ å¥½å¤„ï¼š\nåŠ å¿«å“åº”é€Ÿåº¦ åˆç†åˆ©ç”¨CPUå’Œå†…å­˜ ç»Ÿä¸€ç®¡ç† é€‚ç”¨åœºåˆ\næœåŠ¡å™¨æ¥æ”¶åˆ°å¤§é‡è¯·æ±‚æ—¶ï¼Œä½¿ç”¨çº¿ç¨‹æ± æŠ€æœ¯æ˜¯éå¸¸åˆé€‚çš„ï¼Œå®ƒå¯ä»¥å¤§å¤§å‡å°‘çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯æ¬¡æ•°ï¼Œæé«˜æœåŠ¡å™¨çš„å·¥ä½œæ•ˆç‡ å®é™…ä¸Šï¼Œåœ¨å¼€å‘ä¸­ï¼Œå¦‚æœéœ€è¦åˆ›å»º5ä¸ªä»¥ä¸Šçš„çº¿ç¨‹ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± æ¥ç®¡ç† åˆ›å»ºå’Œåœæ­¢çº¿ç¨‹æ±  çº¿ç¨‹æ± æ„é€ æ–¹æ³•çš„å‚æ•° å‚æ•°å ç±»å‹ å«ä¹‰ corePoolSize int æ ¸å¿ƒçº¿ç¨‹æ•° maxPoolSize int æœ€å¤§çº¿ç¨‹æ•° keepAliveTime long ä¿æŒå­˜æ´»æ—¶é—´ workQueue BlockingQueue ä»»åŠ¡å­˜å‚¨é˜Ÿåˆ— threadFactory ThreadFactory å½“çº¿ç¨‹æ± éœ€è¦æ–°çš„çº¿ç¨‹çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨threadFactoryæ¥ç”Ÿæˆæ–°çš„çº¿ç¨‹ Handler RejectedExecutionHandler ç”±äºçº¿ç¨‹æ± æ— æ³•æ¥å—ä½ æ‰€æäº¤çš„ä»»åŠ¡çš„æ‹’ç»ç­–ç•¥ æ·»åŠ çº¿ç¨‹è§„åˆ™ å¦‚æœçº¿ç¨‹æ•°å°äºcorePoolSizeï¼Œåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥è¿è¡Œæ–°ä»»åŠ¡ã€‚ å¦‚æœçº¿ç¨‹æ•°ç­‰äºï¼ˆæˆ–å¤§äºï¼‰corePoolSizeä½†å°‘äºmaxmumPoolSizeï¼Œåˆ™å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ã€‚ å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œå¹¶ä¸”çº¿ç¨‹æ•°å°äºmaxPoolSizeï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ã€‚ å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œå¹¶ä¸”çº¿ç¨‹æ•°å¤§äºæˆ–ç­‰äºmaxPoolSizeï¼Œåˆ™æ‹’ç»ã€‚ æ˜¯å¦éœ€è¦å¢åŠ çº¿ç¨‹çš„åˆ¤æ–­é¡ºåºæ˜¯ï¼š\ncorePoolSize workQueue maxPoolSize å¢å‡çº¿ç¨‹çš„ç‰¹ç‚¹ é€šè¿‡è®¾ç½®corePoolSizeå’ŒmaximumPoolSizeç›¸åŒï¼Œå°±å¯ä»¥åˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ±  çº¿ç¨‹æ± å¸Œæœ›ä¿æŒè¾ƒå°‘çš„çº¿ç¨‹æ•°ï¼Œå¹¶ä¸”åªæœ‰åœ¨è´Ÿè½½å˜å¾—å¾ˆå¤§æ—¶æ‰å¢åŠ å®ƒ ä¸¾ä¾‹ï¼š\nçº¿ç¨‹æ± ï¼šæ ¸å¿ƒæ± å¤§å°ä¸º5ï¼Œæœ€å¤§æ± å¤§å°ä¸º10ï¼Œé˜Ÿåˆ—ä¸º100 å› ä¸ºçº¿ç¨‹ä¸­çš„è¯·æ±‚æœ€å¤šä¼šåˆ›å»º5ä¸ªï¼Œç„¶åä»»åŠ¡å°†è¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°è¾¾åˆ°100ã€‚å½“é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œå°†åˆ›å»ºæœ€æ–°çš„çº¿ç¨‹maxPoolSizeï¼Œæœ€å¤šåˆ°10ä¸ªçº¿ç¨‹ï¼Œå¦‚æœå†æ¥ä»»åŠ¡ï¼Œå°±æ‹’ç» keepAliveTime\nå¦‚æœçº¿ç¨‹æ± å½“å‰çš„çº¿ç¨‹æ•°å¤šäºcorePoolSizeï¼Œé‚£ä¹ˆå¦‚æœå¤šä½™çš„çº¿ç¨‹ç©ºé—²æ—¶é—´è¶…è¿‡keepAliveTimeï¼Œä»–ä»¬å°±ä¼šè¢«ç»ˆæ­¢ ThreadFactory\né»˜è®¤ä½¿ç”¨Executors.defaultThreadFactory() åˆ›å»ºå‡ºæ¥çš„éƒ½åœ¨åŒä¸€ä¸ªçº¿ç¨‹ç»„ å¦‚æœè‡ªå·±æŒ‡å®šThreadFactoryï¼Œé‚£ä¹ˆå°±å¯ä»¥æ”¹å˜çº¿ç¨‹åã€çº¿ç¨‹ç»„ã€ä¼˜å…ˆçº§ã€æ˜¯å¦æ˜¯å®ˆæŠ¤çº¿ç¨‹ç­‰ã€‚ å·¥ä½œé˜Ÿåˆ—\næœ‰3ç§æœ€å¸¸è§çš„é˜Ÿåˆ—ç±»å‹ï¼š\nç›´æ¥äº¤æ¥ï¼šSynchronousQueue\né€‚ç”¨äºä»»åŠ¡ä¸å¤šçš„æƒ…å†µï¼Œåªä½œä¸ºä¸­è½¬\nå†…éƒ¨æ²¡æœ‰å®¹é‡ï¼ŒmaxPoolSizeéœ€è¦è®¾ç½®çš„å¤§ä¸€ç‚¹\næ— ç•Œé˜Ÿåˆ—ï¼šLinkedBlockingQueue\nå¯ä»¥é˜²æ­¢æµè§ˆçªå¢\nä½†æ˜¯å¦‚æœå¤„ç†çš„é€Ÿåº¦è·Ÿä¸ä¸Šä»»åŠ¡æäº¤çš„é€Ÿåº¦ï¼Œé˜Ÿåˆ—é‡Œçš„ä¸œè¥¿ä¼šè¶Šæ¥è¶Šå¤šé€ æˆå†…å­˜æµªè´¹æˆ–OOM(Out of Memory)å¼‚å¸¸\nä¸ä¼šè¢«å¡æ»¡ï¼ŒmaxPoolSizeæ— æ•ˆ\næœ‰ç•Œé˜Ÿåˆ—ï¼šArrayBlockingQueue\nå¯ä»¥è®¾ç½®maxPoolSizeï¼Œæ§åˆ¶é˜Ÿåˆ—å®¹é‡","title":"çº¿ç¨‹æ± "},{"content":"CSS CSSç®€ä»‹ å±‚å æ ·å¼è¡¨(Cascading Style Sheets)çš„ç®€ç§° ç¾åŒ–HTMLã€å¸ƒå±€ç½‘é¡µ ç»“æ„ï¼ˆHTMLï¼‰-æ ·å¼ï¼ˆCSSï¼‰åˆ†ç¦» è¯­æ³•è§„èŒƒï¼š â€‹\té€‰æ‹©å™¨{å±æ€§:å€¼}\nh1{color: red;} è¯­æ³•é£æ ¼ ç´§å‡‘æ ¼å¼\nh3 {color:red} å±•å¼€æ ¼å¼(å¼ºæ¨)\nh3 { color: pink; font-size:20px; } é€‰æ‹©å™¨ï¼š CSSå¼•å…¥æ–¹å¼ å†…éƒ¨æ ·å¼è¡¨ è¡Œå†…æ ·å¼è¡¨ å¤–éƒ¨æ ·å¼è¡¨ CSSå¸¸ç”¨é€‰æ‹©å™¨ åŸºç¡€é€‰æ‹©å™¨ æ ‡ç­¾é€‰æ‹©å™¨ ç±»é€‰æ‹©å™¨ idé€‰æ‹©å™¨ é€šé…ç¬¦é€‰æ‹©å™¨ å¤åˆé€‰æ‹©å™¨ åä»£é€‰æ‹©å™¨\nå…ƒç´ 1 å…ƒç´ 2 { æ ·å¼å£°æ˜ }\nå­é€‰æ‹©å™¨ï¼šåªèƒ½é€‰æ‹©ä½œä¸ºæŸå…ƒç´ çš„æœ€è¿‘ä¸€çº§ å…ƒç´ ï¼Œ\nå…ƒç´ 1\u0026gt;å…ƒç´ 2 { æ ·å¼å£°æ˜ }\nå¹¶é›†é€‰æ‹©å™¨\nå…ƒç´ 1,å…ƒç´ 2 { æ ·å¼å£°æ˜ }\nä¼ªç±»é€‰æ‹©å™¨\né“¾æ¥ä¼ªç±»é€‰æ‹©å™¨ï¼šå¿…é¡»æŒ‰ç…§lvhaçš„é¡ºåº\na:link /*é€‰æ‹©æ‰€æœ‰æœªè¢«è®¿é—®çš„é“¾æ¥*/ a:visited /*é€‰æ‹©æ‰€æœ‰å·²è¢«è®¿é—®çš„é“¾æ¥*/ a:hover /*é€‰æ‹©é¼ æ ‡æŒ‡é’ˆä½äºå…¶ä¸Šçš„é“¾æ¥*/ a:active /*é€‰æ‹©æ´»åŠ¨é“¾æ¥*/ focusä¼ªç±»é€‰æ‹©å™¨ç”¨äºè·å–ç„¦ç‚¹çš„è¡¨å•å…ƒç´ ã€‚\ninput:focus{ background-color: yellow; } CSSä¸‰å¤§ç‰¹æ€§ï¼š å±‚å æ€§\nè§£å†³æ ·å¼å†²çªé—®é¢˜\næ ·å¼å†²çªæ—¶éµå¾ªå°±è¿‘åŸåˆ™ï¼Œå“ªä¸ªç»“æ„è¿‘ï¼Œå°±æ‰§è¡Œå“ªä¸ªæ ·å¼\nç»§æ‰¿æ€§\nå­æ ‡ç­¾ç»§æ‰¿çˆ¶æ ‡ç­¾çš„æŸäº›æ ·å¼\nä¼˜å…ˆçº§\né€‰æ‹©å™¨ é€‰æ‹©å™¨æƒé‡ ç»§æ‰¿æˆ–è€…* 0,0,0,0 å…ƒç´ é€‰æ‹©å™¨ 0,0,0,1 ç±»é€‰æ‹©å™¨ï¼Œä¼ªç±»é€‰æ‹©å™¨ 0,0,1,0 IDé€‰æ‹©å™¨ 0,1,0,0 è¡Œå†…æ ·å¼style=\u0026quot;\u0026quot; 1,0,0,0 !important é‡è¦çš„ âˆ æ— ç©·å¤§ é€‰æ‹©æ€§ç›¸åŒï¼Œåˆ™æ‰§è¡Œå±‚å æ€§\né€‰æ‹©æ€§ä¸åŒï¼Œåˆ™æ ¹æ®é€‰æ‹©å™¨æƒé‡æ‰§è¡Œ\ntip:å¤åˆé€‰æ‹©å™¨å­˜åœ¨æƒé‡å åŠ çš„é—®é¢˜\nCSSæ˜¾ç¤ºæ¨¡å¼ï¼š åˆ†ç±» å—çº§å…ƒç´ ï¼ˆdivã€pã€h1~h6ã€ulã€olã€dlã€liã€ddã€tableã€hrã€blockquoteã€addressã€tableã€menuã€preï¼ŒHTML5æ–°å¢çš„headerã€sectionã€asideã€footerç­‰ï¼‰\nç‹¬å ä¸€è¡Œ é«˜åº¦ã€å®½åº¦ã€å¤–è¾¹è·ä»¥åŠå†…è¾¹è·éƒ½å¯ä»¥æ§åˆ¶ å®½åº¦é»˜è®¤æ˜¯å®¹å™¨çš„100% æ˜¯ä¸€ä¸ªå®¹å™¨åŠç›’å­ï¼Œé‡Œé¢å¯ä»¥æ”¾è¡Œå†…å…ƒç´ æˆ–è€…å—çº§å…ƒç´  æ³¨æ„ï¼š\næ–‡å­—ç±»çš„å…ƒç´ å†…ä¸èƒ½ä½¿ç”¨å—çº§å…ƒç´  \u0026lt;p\u0026gt;æ ‡ç­¾ä¸»è¦ç”¨äºå­˜æ”¾æ–‡å­—ï¼Œå› æ­¤\u0026lt;p\u0026gt;ä¸èƒ½æ”¾å—çº§å…ƒç´ ï¼Œç‰¹åˆ«æ˜¯ä¸èƒ½æ”¾\u0026lt;div\u0026gt; åŒç†\u0026lt;h1\u0026gt;~\u0026lt;h6\u0026gt;ç­‰éƒ½æ˜¯æ–‡å­—ç±»å—çº§æ ‡ç­¾ï¼Œé‡Œé¢ä¹Ÿä¸èƒ½æ”¾å…¶ä»–å—çº§å…ƒç´  è¡Œå†…å…ƒç´ ï¼ˆspanã€imgã€aã€lableã€inputã€abbrï¼ˆç¼©å†™ï¼‰ã€emï¼ˆå¼ºè°ƒï¼‰ã€bigã€citeï¼ˆå¼•ç”¨ï¼‰ã€iï¼ˆæ–œä½“ï¼‰ã€qï¼ˆçŸ­å¼•ç”¨ï¼‰ã€textareaã€selectã€smallã€subã€supï¼Œstrongã€uï¼ˆä¸‹åˆ’çº¿ï¼‰ã€buttonï¼ˆé»˜è®¤displayï¼šinline-blockï¼‰ï¼‰\nç›¸é‚»è¡Œå†…å…ƒç´ åœ¨ä¸€è¡Œä¸Šï¼Œä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ª é«˜ã€å®½ç›´æ¥è®¾ç½®æ˜¯æ— æ•ˆçš„ é»˜è®¤å®½åº¦å°±æ˜¯å®ƒæœ¬èº«å†…å®¹çš„å®½åº¦ è¡Œå†…å…ƒç´ åªèƒ½å®¹çº³æ–‡æœ¬æˆ–å…¶ä»–è¡Œå†…å…ƒç´  æ³¨æ„ï¼š\né“¾æ¥é‡Œé¢ä¸èƒ½å†æ”¾é“¾æ¥ ç‰¹æ®Šæƒ…å†µé“¾æ¥\u0026lt;a\u0026gt;é‡Œé¢å¯ä»¥æ”¾å—çº§å…ƒç´ ï¼Œä½†æ˜¯ç»™\u0026lt;a\u0026gt;è½¬æ¢ä»¥ä¸‹å—çº§æ¨¡å¼æœ€å®‰å…¨ è¡Œå†…å—å…ƒç´ ï¼ˆbuttonã€imgã€inputã€selectã€textareaã€tdï¼‰\nå’Œç›¸é‚»è¡Œå†…å…ƒç´ ï¼ˆè¡Œå†…å—ï¼‰åœ¨ä¸€è¡Œä¸Šï¼Œä½†æ˜¯ä»–ä»¬ä¹‹é—´ä¼šæœ‰ç©ºç™½ç¼éš™ã€‚ä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ªï¼ˆè¡Œå†…å…ƒç´ ç‰¹ç‚¹ï¼‰ é»˜è®¤å®½åº¦å°±æ˜¯å®ƒæœ¬èº«å†…å®¹çš„å®½åº¦ï¼ˆè¡Œå†…å…ƒç´ ç‰¹ç‚¹ï¼‰ é«˜åº¦ï¼Œè¡Œé«˜ï¼Œå¤–è¾¹è·ä»¥åŠå†…è¾¹è·éƒ½å¯ä»¥æ§åˆ¶ï¼ˆå—çº§å…ƒç´ ç‰¹ç‚¹ï¼‰ è½¬æ¢ï¼š è½¬æ¢ä¸ºå—å…ƒç´ ï¼šdisplay:block; è½¬æ¢ä¸ºè¡Œå†…å…ƒç´ ï¼šdisplay:inline; è½¬æ¢ä¸ºè¡Œå†…å—å…ƒç´ ï¼šdisplay:inline-block CSSçš„èƒŒæ™¯ï¼š background-color:é¢œè‰²å€¼;\nè®¾ç½®èƒŒæ™¯é¢œè‰²ï¼Œé»˜è®¤ä¸ºtransparent(é€æ˜)\nbackground-image:none|url\nè®¾ç½®èƒŒæ™¯å›¾ç‰‡ï¼Œé»˜è®¤ä¸ºnone\nbackground-repeat: repeat | no-repeat | repeat-x | repeat-y\nèƒŒæ™¯å¹³é“ºï¼Œé»˜è®¤ä¸ºrepeat\nbackground-position:[length]or[position]\nposition:top | center | bottom | left | center | right\nèƒŒæ™¯å›¾ç‰‡çš„ä½ç½®\nbackground-attachment:scroll | fixed\nèƒŒæ™¯å›¾åƒå›ºå®š(èƒŒæ™¯é™„ç€)\nèƒŒæ™¯å¤åˆå†™æ³•\nbackground:èƒŒæ™¯é¢œè‰² èƒŒæ™¯å›¾ç‰‡åœ°å€ èƒŒæ™¯å¹³é“º èƒŒæ™¯å›¾åƒæ»šåŠ¨ èƒŒæ™¯å›¾ç‰‡ä½ç½®ï¼ˆä¹ æƒ¯çº¦å®šï¼‰\næ³¨æ„ï¼šrgbaæ˜¯CSS3æ–°å¢å±æ€§ï¼Œæ˜¯IE9+ç‰ˆæœ¬æµè§ˆå™¨æ‰æ”¯æŒçš„\nç›’å­æ¨¡å‹ï¼ˆBox Modelï¼‰ï¼š ç»„æˆ borderè¾¹æ¡†\nè¾¹æ¡†ç²—ç»† border-width è¾¹æ¡†æ ·å¼ border-style è¾¹æ¡†é¢œè‰² border-color border: border-width || border-style || border-color\nborder-collapseå±æ€§æ§åˆ¶æµè§ˆå™¨ç»˜åˆ¶è¡¨æ ¼è¾¹æ¡†çš„æ–¹å¼ã€‚å®ƒæ§åˆ¶ç›¸é‚»å•å…ƒæ ¼çš„è¾¹æ¡†ã€‚\ncontentå†…å®¹\npaddingå†…è¾¹è·\nè¾¹æ¡†ä¸å†…å®¹ä¹‹é—´çš„è·ç¦»\nå€¼çš„ä¸ªæ•° è¡¨è¾¾æ„æ€ padding: 5px; 1ä¸ªå€¼ï¼Œä»£è¡¨ä¸Šä¸‹å·¦å³éƒ½æœ‰5åƒç´ å†…è¾¹è·; padding: 5px 10px; 2ä¸ªå€¼ï¼Œä»£è¡¨ä¸Šä¸‹å†…è¾¹è·æ˜¯5åƒç´ ï¼Œå·¦å³å†…è¾¹è·æ˜¯10åƒç´ ; padding: 5px 10px 20px 3ä¸ªå€¼ï¼Œä»£è¡¨ä¸Šå†…è¾¹è·5åƒç´ ï¼Œå·¦å³å†…è¾¹è·10åƒç´  ä¸‹å†…è¾¹è·æ˜¯20px; padding: 5px 10px 20px 30px; 4ä¸ªå€¼ï¼Œä¸Š5åƒç´  å³10åƒç´  ä¸‹20åƒç´  å·¦30åƒç´  marginå¤–è¾¹è·\næ§åˆ¶ç›’å­å’Œç›’å­ä¹‹é—´çš„\tè·ç¦»\nmarginç®€å†™ç±»ä¼¼padding\nå¤–è¾¹è·å…¸å‹åº”ç”¨-å—çº§ç›’å­æ°´å¹³å±…ä¸­ ï¼Œæ¡ä»¶\nç›’å­å¿…é¡»æŒ‡å®šå®½åº¦ ç›’å­å·¦å³çš„å¤–è¾¹è·éƒ½è®¾ç½®ä¸ºauto tip:\nç›¸é‚»å…ƒç´ å‚ç›´å¤–è¾¹è·çš„åˆå¹¶\nå°½é‡åªç»™ä¸€ä¸ªç›’å­è®¾ç½®å¤–è¾¹è·\nåµŒå¥—å—å…ƒç´ å‚ç›´å¤–è¾¹è·çš„å¡Œé™·\nä¸ºçˆ¶å…ƒç´ å®šä¹‰ä¸Šè¾¹æ¡† ä¸ºçˆ¶å…ƒç´ å®šä¹‰å†…è¾¹è· ä¸ºçˆ¶å…ƒç´ æ·»åŠ overflow:hidden è¡Œå†…å…ƒç´ ä¸ºäº†ç…§é¡¾å…¼å®¹æ€§ï¼Œå°½é‡åªè®¾ç½®å†…å¤–è¾¹è·ï¼Œä¸è¦è®¾ç½®ä¸Šä¸‹å†…å¤–è¾¹è·ã€‚ä½†æ˜¯è½¬æ¢ä¸ºå—çº§å’Œè¡Œå†…å…ƒç´ å°±å¯ä»¥äº†\næµ®åŠ¨çš„ç›’å­ä¸ä¼šæœ‰å¤–è¾¹è·åˆå¹¶é—®é¢˜\nä¸‰ç§å¸ƒå±€æ–¹å¼ ç½‘é¡µå¸ƒå±€ç¬¬ä¸€å‡†åˆ™ï¼šå¤šä¸ªå—çº§å…ƒç´ çºµå‘æ’åˆ—æ‰¾æ ‡å‡†æµï¼Œå¤šä¸ªå—çº§æ¨ªå‘æ’åˆ—æ‰¾æµ®åŠ¨\nç½‘é¡µå¸ƒå±€ç¬¬äºŒå‡†åˆ™ï¼šå…ˆè®¾ç½®ç›’å­å¤§å°ï¼Œä¹‹åè®¾ç½®ç›’å­çš„ä½ç½®\næ™®é€šæµï¼ˆæ™®é€šæµ/æ–‡æ¡£æµï¼‰ â€‹\tæ ‡ç­¾æŒ‰ç…§è§„å®šå¥½é»˜è®¤æ–¹å¼æ’åˆ—\nå—çº§å…ƒç´ ç‹¬å ä¸€è¡Œï¼Œä»ä¸Šå‘ä¸‹æ’åˆ—\nè¡Œå†…å…ƒç´ ä¼šæŒ‰ç…§é¡ºåºï¼Œä»å·¦åˆ°å³é¡ºåºæ’åˆ—ï¼Œç¢°åˆ°çˆ¶å…ƒç´ è¾¹ç¼˜åˆ™è‡ªåŠ¨æ¢è¡Œ\næµ®åŠ¨ â€‹\tå…¸å‹åº”ç”¨ï¼šå¯ä»¥è®©å¤šä¸ªå—çº§å…ƒç´ ä¸€è¡Œå†…æ’åˆ—æ˜¾ç¤ºã€‚\nâ€‹\nå±æ€§å€¼ æè¿° none å…ƒç´ ä¸æµ®åŠ¨ left å…ƒç´ å‘å·¦æµ®åŠ¨ right å…ƒç´ å‘å³æµ®åŠ¨ æµ®åŠ¨ç‰¹æ€§ è„±æ ‡ è„±ç¦»æ ‡å‡†æ™®é€šæµçš„æ§åˆ¶ï¼ˆæµ®ï¼‰ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®ï¼ˆåŠ¨ï¼‰ï¼ˆè„±æ ‡ï¼‰ æµ®åŠ¨çš„ç›’å­ä¸å†ä¿ç•™åŸå…ˆçš„ä½ç½® å¦‚æœå¤šä¸ªç›’å­éƒ½è®¾ç½®äº†æµ®åŠ¨ï¼Œåˆ™å®ƒä»¬ä¼šæŒ‰ç…§å±æ€§å€¼ä¸€è¡Œæ˜¾ç¤ºå¹¶ä¸”é¡¶ç«¯å¯¹é½æ’åˆ— æµ®åŠ¨å…ƒç´ å…·æœ‰è¡Œå†…å—å…ƒç´ ç‰¹æ€§ æ³¨æ„ç‚¹ æµ®åŠ¨å…ƒç´ ç»å¸¸å’Œæ ‡å‡†æµçˆ¶çº§æ­é…ä½¿ç”¨ â€‹\tå…ˆç”¨æ ‡å‡†æµçš„çˆ¶å…ƒç´ æ’åˆ—ä¸Šä¸‹ä½ç½®ï¼Œä¹‹åå†…éƒ¨å­å…ƒç´ é‡‡å–æµ®åŠ¨æ’åˆ—å·¦å³ä½ç½®.ç¬¦åˆç½‘é¡µå¸ƒå±€ç¬¬ä¸€å‡†åˆ™\næ¸…é™¤æµ®åŠ¨ â€‹\tç”±äºçˆ¶çº§ç›’å­å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸æ–¹ä¾¿ç»™é«˜åº¦ï¼Œä½†æ˜¯å­ç›’å­æµ®åŠ¨åˆä¸å ä½ç½®ï¼Œæœ€åçˆ¶çº§ç›’å­é«˜åº¦ä¸º0æ—¶ï¼Œä¼šå½±å“ä¸‹é¢çš„æ ‡å‡†æµç›’å­ã€‚\né€‰æ‹©å™¨{ clear:both } æ¸…é™¤æµ®åŠ¨çš„ç­–ç•¥æ˜¯é—­åˆæµ®åŠ¨\næ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•\né¢å¤–æ ‡ç­¾æ³•ä¹Ÿæˆä¸ºéš”å¢™æ³•ï¼Œæ˜¯W3Cæ¨èçš„åšæ³•ã€‚\nä¼˜ç‚¹ï¼šé€šä¿—æ˜“æ‡‚ï¼Œä¹¦å†™æ–¹ä¾¿\nç¼ºç‚¹ï¼šæ·»åŠ è®¸å¤šæ— æ„ä¹‰çš„æ ‡ç­¾ï¼Œç»“æ„åŒ–è¾ƒå·®\ntipsï¼šæ·»åŠ çš„å…ƒç´ å¿…é¡»æ˜¯å—çº§å…ƒç´ \nçˆ¶çº§æ·»åŠ overflowå±æ€§\nä¼˜ç‚¹ï¼šä»£ç ç®€æ´\nç¼ºç‚¹ï¼šæ— æ³•æ˜¾ç¤ºæº¢å‡ºçš„éƒ¨åˆ†\nçˆ¶çº§æ·»åŠ afterä¼ªå…ƒç´ (æ¯”è¾ƒå¸¸ç”¨)\n.clearfix::after { content: \u0026#34;\u0026#34;; display: block; height: 0; clear: both; visibility: hidden; } .clearfix { /* IE6ã€7ä¸“æœ‰ */ *zoom: 1; } ä¼˜ç‚¹ï¼šæ²¡æœ‰å¢åŠ æ ‡ç­¾ï¼Œç»“æ„æ›´ç®€å•\nç¼ºç‚¹ï¼šç…§é¡¾ä½ç‰ˆæœ¬æµè§ˆå™¨\nä»£è¡¨ç½‘ç«™ï¼šç™¾åº¦ã€æ·˜å®ã€ç½‘æ˜“ç­‰\nçˆ¶çº§æ·»åŠ åŒä¼ªå…ƒç´ \n.clearfix::after, .clearfix::before { content: \u0026#34;\u0026#34;; display: table; } .clearfix::after { clear: both; } .clearfix { /* IE6ã€7ä¸“æœ‰ */ *zoom: 1; } ä¼˜ç‚¹ï¼šä»£ç ç®€æ´\nç¼ºç‚¹ï¼šç…§é¡¾ä½ç‰ˆæœ¬æµè§ˆå™¨\nä»£è¡¨ç½‘ç«™ï¼šå°ç±³ã€è…¾è®¯ç­‰\nå®šä½ï¼š å°†ç›’å­å®šåœ¨æŸä¸€ä¸ªä½ç½®ï¼Œæ‰€ä»¥å®šä½ä¹Ÿæ˜¯åœ¨æ‘†æ”¾ç›’å­ï¼ŒæŒ‰ç…§å®šä½çš„æ–¹å¼ç§»åŠ¨ç›’å­\nå®šä½ = å®šä½æ¨¡å¼ + è¾¹åç§»\nå®šä½æ¨¡å¼ å€¼ è¯­ä¹‰ static é™æ€å®šä½ relative ç›¸å¯¹å®šä½ absulte ç»å¯¹å®šä½ fixed å›ºå®šå®šä½ staticï¼šé»˜è®¤å®šä½æ–¹å¼ï¼Œæ— å®šä½\né™æ€å®šä½æŒ‰ç…§æ ‡å‡†æµç‰¹æ€§æ‘†æ”¾ä½ç½®ï¼Œå®ƒæ²¡æœ‰è¾¹åç§» é™æ€å®šä½åœ¨å¸ƒå±€æ—¶å¾ˆå°‘ç”¨åˆ° relativeï¼šç›¸å¯¹å®šä½æ˜¯å…ƒç´ åœ¨ç§»åŠ¨çš„æ—¶å€™ï¼Œæ˜¯ç›¸å¯¹äºå®ƒåŸæ¥çš„ä½ç½®æ¥è¯´çš„\nå®ƒæ˜¯ç›¸å½“äºè‡ªå·±åŸæ¥çš„ä½ç½®æ¥ç§»åŠ¨çš„ åŸæ¥åœ¨æ ‡å‡†æµçš„ä½ç½®ç»§ç»­å æœ‰ï¼Œåé¢çš„ç›’å­ä»ç„¶ä»¥æ ‡å‡†æµçš„æ–¹å¼å¯¹å¾…å®ƒï¼ˆä¸è„±æ ‡ï¼‰ absoluteï¼šç»å¯¹å®šä½æ˜¯å…ƒç´ åœ¨ç§»åŠ¨ä½ç½®çš„æ—¶å€™ï¼Œæ˜¯ç›¸å¯¹äºå®ƒç¥–å…ˆå…ƒç´ æ¥è¯´çš„(æ‹¼çˆ¹å‹)\nå¦‚æœæ²¡æœ‰ç¥–å…ˆå…ƒç´ æˆ–è€…ç¥–å…ˆå…ƒç´ æ²¡æœ‰å®šä½ï¼Œåˆ™ä»¥æµè§ˆå™¨ä¸ºåŸºå‡†å•ä½ï¼ˆDocumentæ–‡æ¡£ï¼‰ å¦‚æœç¥–å…ˆå…ƒç´ æœ‰å®šä½ï¼ˆç›¸å¯¹ã€ç»å¯¹ã€å›ºå®šå®šä½ï¼‰ï¼Œåˆ™ä»¥æœ€è¿‘ä¸€çº§æœ‰å®šä½ç¥–å…ˆå…ƒç´ ä¸ºå‚è€ƒç‚¹ç§»åŠ¨ä½ç½® ç»å¯¹å®šä½ä¸å†å æœ‰åŸæ¥çš„ä½ç½®ï¼ˆè„±æ ‡ï¼‰ fixedï¼šå›ºå®šå®šä½æ˜¯å…ƒç´ å›ºå®šäºæµè§ˆå™¨å¯è§†åŒºçš„ä½ç½®ã€‚å¯ä»¥åœ¨æµè§ˆå™¨é¡µé¢æ»šåŠ¨æ—¶å…ƒç´ çš„ä½ç½®ä¸ä¼šæ”¹å˜\nä»¥æµè§ˆå™¨å¯è§†çª—å£ä¸ºå‚ç…§ç‚¹ç§»åŠ¨å…ƒç´  è·Ÿçˆ¶å…ƒç´ æ— å…³ ä¸éšæ»šåŠ¨æ¡æ»šåŠ¨ å›ºå®šå®šä½ä¸åœ¨å æœ‰åŸå…ˆçš„ä½ç½® å›ºå®šå®šä½ä¹Ÿæ˜¯è„±æ ‡çš„ï¼Œå…¶å®å›ºå®šå®šä½ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç»å¯¹å®šä½ stickyï¼šç²˜æ€§å®šä½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ç›¸å¯¹å®šä½å’Œå›ºå®šå®šä½çš„æ··åˆã€‚IEä¸æ”¯æŒ\nä»¥æµè§ˆå™¨çš„å¯è§†çª—å£ä¸ºå‚ç…§ç‚¹ç§»åŠ¨å…ƒç´ ï¼ˆå›ºå®šå®šä½ï¼‰ ç²˜æ€§å®šä½å æœ‰åŸå…ˆçš„ä½ç½® å¿…é¡»æ·»åŠ topã€leftã€rightã€bottomå…¶ä¸­ä¸€ä¸ªæ‰æœ‰æ•ˆ å®šä½ç‰¹æ®Šç‰¹æ€§ï¼š è¡Œå†…æ·»åŠ ç»å¯¹æˆ–è€…å›ºå®šå®šä½ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®é«˜åº¦å’Œå®½åº¦ã€‚ æµ®åŠ¨ä¸ä¼šå‹ä½ç›’å­çš„å†…å®¹ï¼ˆæµ®åŠ¨äº§ç”Ÿçš„ç›®çš„æœ€åˆå°±æ˜¯ä¸ºäº†åšæ–‡å­—ç¯ç»•æ•ˆæœçš„ï¼‰ï¼Œè€Œç»å¯¹å®šä½ä¼šå®Œå…¨å‹ä½ç›’å­ è¾¹åç§»ï¼š â€‹\ttopã€bottomã€rightã€left\nå®šä½å æ”¾æ¬¡åºï¼šz-index æ•°å€¼å¯ä»¥æ˜¯æ­£æ•´æ•°ã€è´Ÿæ•´æ•°æˆ–0ï¼Œé»˜è®¤æ˜¯autoï¼Œæ•°å€¼è¶Šå¤§ï¼Œç›’å­è¶Šé ä¸Š å¦‚æœå±æ€§å€¼ç›¸åŒï¼Œåˆ™æŒ‰ç…§ä¹¦å†™é¡ºåºï¼Œåæ¥å±…ä¸Š æ•°å­—åé¢ä¸èƒ½åŠ å•ä½ åªæœ‰å®šä½çš„ç›’å­æ‰æœ‰z-indexå±æ€§ å¸¸è§åº”ç”¨ï¼š å­ç»çˆ¶ç›¸ï¼šå­çº§æ˜¯ç»å¯¹å®šä½ï¼Œçˆ¶çº§æ˜¯ç›¸å¯¹å®šä½ å›ºå®šå®šä½æŠ€å·§ï¼šå›ºå®šåœ¨ç‰ˆå¿ƒå³ä¾§ä½ç½®ï¼š è®©å›ºå®šå®šä½çš„ç›’å­left:50%ã€‚èµ°åˆ°æµè§ˆå™¨å¯è§†åŒºçš„ä¸€åŠä½ç½®ã€‚ è®©å›ºå®šå®šä½çš„ç›’å­margin-left: ç‰ˆå¿ƒå®½åº¦çš„ä¸€åŠè·ç¦»ã€‚å¤šèµ°ç‰ˆå¿ƒå®½åº¦çš„ä¸€åŠä½ç½® ç»å¯¹å®šä½çš„ç›’å­å±…ä¸­ï¼ˆæ— æ³•ç”¨margin:0 autoï¼‰ left: 50%; è®©ç›’å­çš„å·¦ä¾§ç§»åŠ¨åˆ°çˆ¶çº§å…ƒç´ çš„æ°´å¹³ä¸­å¿ƒä½ç½®ã€‚ margin-left: -100px; è®©ç›’å­å‘å·¦ç§»åŠ¨å®½åº¦çš„ä¸€åŠ å¸¸è§æ ·å¼ï¼š å­—ä½“å±æ€§ï¼š font-family:\u0026#34;å®‹ä½“\u0026#34;;/*å¸¸è§çš„å­—ä½“\u0026#39;Microsoft YaHei\u0026#39;,tahoma,arial,\u0026#39;Hiragino Sans GB\u0026#39;*/ font-size:20px;/*å®šä¹‰å­—ä½“å¤§å°ï¼Œæ ‡é¢˜æ ‡ç­¾éœ€è¦å•ç‹¬è®¾ç½®*/ font-weight:700;/*ä¸éœ€è¦å•ä½ï¼Œæå€¡ä½¿ç”¨æ•°å­—*/ font-style:normal/*æ–‡æœ¬é£æ ¼,å¹³æ—¶å¾ˆå°‘ç»™æ–‡å­—åŠ æ–œä½“ï¼Œåè€Œè¦ç»™æ–œä½“æ”¹ä¸ºä¸å€¾æ–œ font:font-style font-weight font-size/line-height font family/*å­—ä½“å¤åˆå±æ€§*/ æ–‡æœ¬å±æ€§ï¼š color: red;/*æ–‡æœ¬é¢œè‰²ï¼šé¢„å®šä¹‰çš„é¢œè‰²å€¼;è¿›åˆ¶è¡¨ç¤º;rgbå’Œrgba*/ text-align:center;/*ç”¨äºå…ƒç´ å†…æ–‡æœ¬å†…å®¹çš„æ°´å¹³å¯¹å…¶æ–¹å¼:leftã€rightã€center*/ text-decoration: underline;/*è£…é¥°æ–‡æœ¬ï¼šnoneã€underlineã€overlineã€line-through*/ text-indent: ;/*æŒ‡å®šæ–‡æœ¬çš„ç¬¬ä¸€è¡Œçš„ç¼©è¿›ï¼Œé€šå¸¸æ˜¯å°†æ®µè½é¦–è¡Œç¼©è¿›, ä¸€èˆ¬ç”¨emï¼Œemæ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œå°±æ˜¯å½“å‰å…ƒç´ 1æ ¼æ–‡å­—çš„å¤§å°*/ line-height:;/*è¡Œé—´è·*/ åœ†è§’è¾¹æ¡†(CSS3) border-radius:length; /*è®¾ç½®å…ƒç´ å¤–è¾¹æ¡†åœ†è§’ã€‚ radius-\u0026gt;åŠå¾„åŸç†ï¼šï¼ˆæ¤­ï¼‰åœ†ä¸è¾¹æ¡†çš„äº¤é›†å½¢æˆåœ†è§’æ•ˆæœã€‚å‚æ•°å€¼å¯ä»¥æ˜¯ç™¾åˆ†æ¯”ï¼Œå³å®½çš„ç™¾åˆ†æ¯”å’Œé«˜çš„ç™¾åˆ†æ¯”*/ border-radisu:10px 20px 30px 40px; /*ç»™å››ä¸ªè§’è®¾ç½®ä¸åŒçš„åœ†è§’ï¼Œé¡ºæ—¶é’ˆ*/ border-top-left-radius:10px /*ç»™å•ç‹¬ä¸€ä¸ªè§’è®¾ç½®åœ†è§’ï¼šborder-top-left-radius border-top-right-radius border-bottom-right-radius border-bottom-left-radius*/ å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—ï¼š display æ˜¾ç¤ºéšè—\ndisplayéšè—å…ƒç´ åï¼Œä¸å†å æœ‰åŸæ¥çš„ä½ç½®ï¼Œå¸¸æ­é…js\nvisibility æ˜¾ç¤ºéšè—\nvisibilityéšè—å…ƒç´ åï¼Œç»§ç»­å æœ‰åŸæ¥çš„ä½ç½®\noverflow æº¢å‡ºéšè—\nå¦‚æœæœ‰å®šä½çš„ç›’å­ï¼Œè¯·æ…ç”¨overflow:hidden å› ä¸ºå®ƒä¼šéšè—å¤šä½™çš„éƒ¨åˆ†\nç›’å­é˜´å½±(CSS3) å€¼ æè¿° h-shadow å¿…é¡»ã€‚æ°´å¹³é˜´å½±çš„ä½ç½®ã€‚å…è®¸è´Ÿå€¼ã€‚ v-shadow å¿…é¡»ã€‚å‚ç›´é˜´å½±çš„ä½ç½®ã€‚å…è®¸è´Ÿå€¼ã€‚ blur å¯é€‰ã€‚æ¨¡ç³Šè·ç¦»ã€‚ spread å¯é€‰ã€‚é˜´å½±çš„å°ºå¯¸ã€‚ color å¯é€‰ã€‚é˜´å½±çš„é¢œè‰²ã€‚ inset å¯é€‰ã€‚å°†å¤–éƒ¨é˜´å½±æ”¹ä¸ºå†…éƒ¨é˜´å½±ã€‚ â€‹\nbox-shadow: h-shadow v-shadow blur spread color insert; /*ç›’å­é˜´å½±*/ æ–‡å­—é˜´å½±(CSS3) text-shadow:h-shadow v-shadow blur color å€¼ æè¿° h-shadow å¿…é¡»ã€‚æ°´å¹³é˜´å½±çš„ä½ç½®ã€‚å…è®¸è´Ÿå€¼ã€‚ v-shadow å¿…é¡»ã€‚å‚ç›´é˜´å½±çš„ä½ç½®ã€‚å…è®¸è´Ÿå€¼ã€‚ blur å¯é€‰ã€‚æ¨¡ç³Šè·ç¦»ã€‚ color å¯é€‰ã€‚é˜´å½±çš„é¢œè‰²ã€‚ CSSåˆå§‹åŒ– /* æŠŠæˆ‘ä»¬æ‰€æœ‰æ ‡ç­¾çš„å†…å¤–è¾¹è·æ¸…é›¶ */ * { margin: 0; padding: 0; /* css3ç›’å­æ¨¡å‹ */ box-sizing: border-box } /* em å’Œ i æ–œä½“çš„æ–‡å­—ä¸å€¾æ–œ */ em, i { font-style: normal } /* å»æ‰liçš„å°åœ†ç‚¹ */ li { list-style: none } /* */ img { /* border 0ç…§é¡¾ä½ç‰ˆæœ¬æµè§ˆå™¨ å¦‚æœ å›¾ç‰‡å¤–è¾¹åŒ…å«äº†é“¾æ¥ä¼šæœ‰è¾¹æ¡† çš„é—®é¢˜ */ border: 0; /* å–æ¶ˆå›¾ç‰‡åº•ä¾§æœ‰ç©ºç™½ç¼éš™çš„é—®é¢˜ */ vertical-align: middle } button { /* å½“é¼ æ ‡ç»è¿‡button æŒ‰é’®çš„æ—¶å€™ï¼Œé¼ æ ‡å˜æˆå°æ‰‹ */ cursor: pointer } a { color: #666; text-decoration: none } a:hover { color: #c81623 } button, input { /* \u0026#34;\\5B8B\\4F53\u0026#34;å°±æ˜¯å®‹ä½“çš„æ„æ€ è¿™æ ·æµè§ˆå™¨å…¼å®¹æ€§æ¯”è¾ƒå¥½ */ font-family: Microsoft YaHei, Heiti SC, tahoma, arial, Hiragino Sans GB, \u0026#34;\\5B8B\\4F53\u0026#34;, sans-serif } body { /* CSS3 æŠ—é”¯é½¿æ€§ è®©æ–‡å­—æ˜¾ç¤ºçš„æ›´åŠ æ¸…æ™° */ -webkit-font-smoothing: antialiased; background-color: #fff; font: 12px/1.5 Microsoft YaHei, Heiti SC, tahoma, arial, Hiragino Sans GB, \u0026#34;\\5B8B\\4F53\u0026#34;, sans-serif; color: #666 } .hide, .none { display: none } /* æ¸…é™¤æµ®åŠ¨ */ .clearfix:after { visibility: hidden; clear: both; display: block; content: \u0026#34;.\u0026#34;; height: 0 } .clearfix { *zoom: 1 } æŠ€å·§ å¸ƒå±€æŠ€å·§ marginè´Ÿå€¼è¿ç”¨ è®©æ¯ä¸ªç›’å­marginå¾€å·¦ç§»åŠ¨-1px æ­£å¥½å‹ä½ç›¸é‚»ç›’å­è¾¹æ¡† é¼ æ ‡ç»è¿‡æŸä¸ªç›’å­çš„æ—¶å€™ï¼Œæé«˜ç›’å­çš„å±‚çº§å³å¯ï¼ˆå¦‚æœæ²¡æœ‰å®šä½ï¼Œåˆ™åŠ ç›¸å¯¹å®šä½ï¼ˆä¿ç•™ä½ç½®ï¼‰ï¼Œå¦‚æœæœ‰å®šä½ï¼Œåˆ™åŠ z-indexï¼‰ æ–‡å­—å›´ç»•æµ®åŠ¨å…ƒç´  floatå±æ€§ CSSä¸‰è§’çš„åšæ³• ç­‰è…°ä¸‰è§’å½¢\n.div { width: 0; height: 0; line-height: 0;/*è€ƒè™‘å…¼å®¹æ€§*/ font-size: 0;/*è€ƒè™‘å…¼å®¹æ€§*/ border: 50px solid transparent; border-top-color: pink; margin: 100px auto; } ä¸‰è§’å¼ºåŒ–-ç›´è§’ä¸‰è§’å½¢\n.box1 { width: 0; height: 0; border-top: 100px solid transparent; border-right: 50px solid skyblue; border-bottom: 0 solid blue; border-left: 0 solid green; } .box1{ /* 1.åªä¿ç•™å³è¾¹çš„è¾¹æ¡†æœ‰é¢œè‰² */ border-color: transparent red transparent transparent; /* 2.æ ·å¼éƒ½æ˜¯solid */ border-style: solid; /* 3.ä¸Šè¾¹æ¡†å®½åº¦è¦å¤§ï¼Œå³è¾¹æ¡†ç¨å°ï¼Œå…¶ä½™çš„è¾¹æ¡†ä¸º0 */ border-width: 100px 50px 0 0; } ç•Œé¢æ ·å¼ï¼š æ›´æ”¹ç”¨æˆ·çš„é¼ æ ‡æ ·å¼\ncursor: pointer\nå±æ€§å€¼ æè¿° default å°ç™½ é»˜è®¤ pointer å°æ‰‹ move ç§»åŠ¨ text æ–‡æœ¬ not-allowed ç¦æ­¢ è¡¨å•è½®å»“å’Œæ–‡æœ¬åŸŸæ‹–æ‹½\noutline: none å–æ¶ˆè½®å»“çº¿\nresize: none ï¼ˆæ–‡æœ¬åŸŸï¼‰é˜²æ­¢æ‹–æ‹½æ–‡æœ¬åŸŸ\nç²¾çµå›¾(sprites)æŠ€æœ¯ï¼š ä¼˜ç‚¹ï¼š ä¸ºäº†æœ‰æ•ˆåœ°å‡å°‘æœåŠ¡å™¨æ¥å—å’Œå‘é€è¯·æ±‚çš„æ¬¡æ•°ï¼Œæé«˜é¡µé¢çš„åŠ è½½é€Ÿåº¦ ç¼ºç‚¹ï¼š å›¾ç‰‡æ–‡ä»¶è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚ å›¾ç‰‡æœ¬èº«æ”¾å¤§ç¼©å°ä¼šå¤±çœŸ ä¸€æ—¦å›¾ç‰‡åˆ¶ä½œå®Œæ¯•æƒ³è¦æ›´æ¢æ¯”è¾ƒå¤æ‚ ä½¿ç”¨æ ¸å¿ƒï¼š ç²¾çµå›¾ä¸»è¦é’ˆå¯¹äºèƒŒæ™¯å›¾ç‰‡ä½¿ç”¨ã€‚å°±æ˜¯æŠŠå¤šä¸ªå°å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å¤§å›¾ç‰‡ä¸­ è¿™ä¸ªå¤§å›¾ç‰‡ä¹Ÿç§°ä¸ºspritesç²¾çµå›¾æˆ–è€…é›ªç¢§å›¾ ä¸»è¦å€ŸåŠ©äºèƒŒæ™¯ä½ç½®æ¥å®ç°\u0026mdash;background-position. ä¸€èˆ¬æƒ…å†µä¸‹ç²¾çµå›¾éƒ½æ˜¯è´Ÿå€¼ã€‚ï¼ˆåƒä¸‡æ³¨æ„ç½‘é¡µä¸­çš„åæ ‡ï¼šxè½´å³è¾¹èµ°æ˜¯æ­£å€¼ï¼Œå·¦è¾¹æ˜¯è´Ÿå€¼ï¼Œyè½´åŒç†ï¼‰ å­—ä½“å›¾æ ‡ ä¼˜ç‚¹ï¼š è½»é‡çº§ï¼šä¸€ä¸ªå›¾æ ‡å­—ä½“è¦æ¯”ä¸€ç³»åˆ—çš„å›¾åƒè¦å°ï¼Œä¸€æ—¦å­—ä½“åŠ è½½äº†ï¼Œå›¾æ ‡å°±ä¼šé©¬ä¸Šæ¸²æŸ“å‡ºæ¥ï¼Œå‡å°‘äº†æœåŠ¡å™¨è¯·æ±‚ çµæ´»æ€§ï¼šæœ¬è´¨æ˜¯æ–‡å­—ï¼Œå¯ä»¥å¾ˆéšæ„çš„æ”¹å˜é¢œè‰²ã€äº§ç”Ÿé˜´å½±ã€é€æ˜æ•ˆæœã€æ—‹è½¬ç­‰ å…¼å®¹æ€§ï¼šå‡ ä¹æ”¯æŒæ‰€æœ‰çš„æµè§ˆå™¨ï¼Œè¯·æ”¾å¿ƒä½¿ç”¨ æ³¨æ„ï¼šå­—ä½“å›¾ç‰‡ä¸èƒ½ä»£æ›¿ç²¾çµæŠ€æœ¯ï¼Œåªæ˜¯å¯¹å·¥ä½œä¸­å›¾æ ‡éƒ¨åˆ†æŠ€æœ¯çš„æå‡å’Œä¼˜åŒ–ã€‚\nå¸¸ç”¨å­—ä½“åº“ï¼š icomoonï¼šhttp://icomoon.io é˜¿é‡Œiconfontï¼š http://www.iconfont.cn vertical-alignå±æ€§åº”ç”¨ â€‹\tç”¨äºè®¾ç½®ä¸€ä¸ªå…ƒç´ çš„å‚ç›´å¯¹é½æ–¹å¼ï¼Œä½†æ˜¯å®ƒåªé’ˆå¯¹äºè¡Œå†…å…ƒç´ æˆ–è€…è¡Œå†…å—å…ƒç´ æœ‰æ•ˆ\nvertical: baseline | top | middle | bottom è§£å†³å›¾ç‰‡åº•éƒ¨é»˜è®¤ç©ºç™½ç¼éš™é—®é¢˜ ç»™å›¾ç‰‡æ·»åŠ vertical-align: middle|top|bottomç­‰(æå€¡) æŠŠå›¾ç‰‡è½¬æ¢ä¸ºå—çº§å…ƒç´  display: block æº¢å‡ºæ–‡æœ¬çœç•¥å·è¡¨ç¤º å•è¡Œæ–‡æœ¬\ndiv { width: 150px; height: 80px; background-color: pink; margin: 100px auto; /* å¦‚æœæ–‡å­—æ˜¾ç¤ºä¸å¼€è‡ªåŠ¨æ¢è¡Œ */ /* white-space: normal; */ /* å¦‚æœæ–‡å­—æ˜¾ç¤ºä¸å¼€ä¹Ÿå¿…é¡»ä¸€è¡Œå†…æ˜¾ç¤ºå®Œ */ white-space: nowrap; /* æº¢å‡ºçš„éƒ¨åˆ†éšè—èµ·æ¥ */ overflow: hidden; /* æ–‡å­—æº¢å‡ºçš„æ—¶å€™ç”¨çœç•¥å·æ¥æ˜¾ç¤º */ text-overflow: ellipsis; } å¤šè¡Œæ–‡æœ¬\næœ‰è¾ƒå¤§å…¼å®¹æ€§é—®é¢˜ï¼Œé€‚åˆäºwebkitæµè§ˆå™¨æˆ–ç§»åŠ¨ç«¯ï¼ˆç§»åŠ¨ç«¯å†…æ ¸å¤§éƒ¨åˆ†æ˜¯webkitï¼‰\ndiv { width: 150px; height: 80px; background-color: pink; margin: 100px auto; overflow: hidden; text-overflow: ellipsis; /* å¼¹æ€§ä¼¸ç¼©ç›’å­æ¨¡å‹æ˜¾ç¤º */ display: -webkit-box; /* é™åˆ¶åœ¨ä¸€ä¸ªå—å…ƒç´ æ˜¾ç¤ºçš„æ–‡æœ¬çš„è¡Œæ•° */ -webkit-line-clamp: 4; /* è®¾ç½®æˆ–é—´æ‰€ä¼¸ç¼©ç›’å¯¹è±¡çš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ */ -webkit-box-orient: vertical; } ","permalink":"https://rexhub.space/posts/front/css/","summary":"CSS CSSç®€ä»‹ å±‚å æ ·å¼è¡¨(Cascading Style Sheets)çš„ç®€ç§° ç¾åŒ–HTMLã€å¸ƒå±€ç½‘é¡µ ç»“æ„ï¼ˆHTMLï¼‰-æ ·å¼ï¼ˆCSSï¼‰åˆ†ç¦» è¯­æ³•è§„èŒƒï¼š â€‹\té€‰æ‹©å™¨{å±æ€§:å€¼}\nh1{color: red;} è¯­æ³•é£æ ¼ ç´§å‡‘æ ¼å¼\nh3 {color:red} å±•å¼€æ ¼å¼(å¼ºæ¨)\nh3 { color: pink; font-size:20px; } é€‰æ‹©å™¨ï¼š CSSå¼•å…¥æ–¹å¼ å†…éƒ¨æ ·å¼è¡¨ è¡Œå†…æ ·å¼è¡¨ å¤–éƒ¨æ ·å¼è¡¨ CSSå¸¸ç”¨é€‰æ‹©å™¨ åŸºç¡€é€‰æ‹©å™¨ æ ‡ç­¾é€‰æ‹©å™¨ ç±»é€‰æ‹©å™¨ idé€‰æ‹©å™¨ é€šé…ç¬¦é€‰æ‹©å™¨ å¤åˆé€‰æ‹©å™¨ åä»£é€‰æ‹©å™¨\nå…ƒç´ 1 å…ƒç´ 2 { æ ·å¼å£°æ˜ }\nå­é€‰æ‹©å™¨ï¼šåªèƒ½é€‰æ‹©ä½œä¸ºæŸå…ƒç´ çš„æœ€è¿‘ä¸€çº§ å…ƒç´ ï¼Œ\nå…ƒç´ 1\u0026gt;å…ƒç´ 2 { æ ·å¼å£°æ˜ }\nå¹¶é›†é€‰æ‹©å™¨\nå…ƒç´ 1,å…ƒç´ 2 { æ ·å¼å£°æ˜ }\nä¼ªç±»é€‰æ‹©å™¨\né“¾æ¥ä¼ªç±»é€‰æ‹©å™¨ï¼šå¿…é¡»æŒ‰ç…§lvhaçš„é¡ºåº\na:link /*é€‰æ‹©æ‰€æœ‰æœªè¢«è®¿é—®çš„é“¾æ¥*/ a:visited /*é€‰æ‹©æ‰€æœ‰å·²è¢«è®¿é—®çš„é“¾æ¥*/ a:hover /*é€‰æ‹©é¼ æ ‡æŒ‡é’ˆä½äºå…¶ä¸Šçš„é“¾æ¥*/ a:active /*é€‰æ‹©æ´»åŠ¨é“¾æ¥*/ focusä¼ªç±»é€‰æ‹©å™¨ç”¨äºè·å–ç„¦ç‚¹çš„è¡¨å•å…ƒç´ ã€‚\ninput:focus{ background-color: yellow; } CSSä¸‰å¤§ç‰¹æ€§ï¼š å±‚å æ€§\nè§£å†³æ ·å¼å†²çªé—®é¢˜","title":"CSS"},{"content":"ç½‘é¡µå¼€å‘ æµè§ˆå™¨å†…æ ¸ æµè§ˆå™¨ å†…æ ¸ å¤‡æ³¨ IE Trident IEã€çŒè±¹ã€360æé€Ÿæµè§ˆå™¨ã€ç™¾åº¦æµè§ˆå™¨ firefox Gecko ç«ç‹æµè§ˆå™¨å†…æ ¸ Safari Webkit è‹¹æœæµè§ˆå™¨å†…æ ¸ Chrome/Opera Blink Chrome/Operaæµè§ˆå™¨å†…æ ¸ã€‚Blinkå…¶å®æ˜¯Webkitçš„åˆ†æ”¯ Webæ ‡å‡† ç›®çš„ï¼š â€‹\tæµè§ˆå™¨ä¸åŒï¼Œä»–ä»¬æ˜¾ç¤ºé¡µé¢æˆ–è€…æ’ç‰ˆä¸åŒ\næ„æˆï¼š ç»“æ„ - HTML è¡¨ç° - CSS è¡Œä¸º - JavaScript SEOä¼˜åŒ– TDKä¸‰å¤§æ ‡ç­¾ title\ntitleæ˜¯æœç´¢å¼•æ“äº†è§£ç½‘é¡µå…¥å£å’Œç½‘é¡µä¸»é¢˜å½’å±çš„æœ€ä½³åˆ¤æ–­ç‚¹\nå»ºè®®ï¼šç½‘ç«™åï¼ˆäº§å“åï¼‰-ç½‘ç«™çš„ä»‹ç»ï¼ˆå°½é‡ä¸è¶…è¿‡30ä¸ªæ±‰å­—ï¼‰\ndescription\nç®€è¦è¯´æ˜æˆ‘ä»¬ç½‘ç«™ä¸»è¦æ˜¯åšä»€ä¹ˆçš„ã€‚\næˆ‘ä»¬æå€¡ï¼Œdescriptionä½œä¸ºç½‘ç«™çš„æ€»ä½“ä¸šåŠ¡å’Œä¸»é¢˜æ¦‚å†µ\nkeyword\nkeywordsæ˜¯é¡µé¢å…³é”®å­—ï¼Œæ˜¯æœç´¢å¼•æ“çš„å…³æ³¨ç‚¹ä¹‹ä¸€ã€‚\nkeywordsæœ€å¥½é™åˆ¶ä¸º6~8ä¸ªå…³é”®å­—ï¼Œå…³é”®å­—ä¹‹é—´ç”¨è‹±æ–‡é€—å·éš”å¼€ï¼Œé‡‡ç”¨å…³é”®è¯1ï¼Œå…³é”®è¯2çš„å½¢å¼\nLOGO SEOä¼˜åŒ– logoé‡Œé¢é¦–å…ˆæ”¾ä¸€ä¸ªh1æ ‡ç­¾ï¼Œç›®çš„æ˜¯ä¸ºäº†ææƒï¼Œå‘Šè¯‰æœç´¢å¼•æ“ï¼Œè¿™ä¸ªåœ°æ–¹å¾ˆé‡è¦ h1é‡Œé¢å†æ”¾ä¸€ä¸ªé“¾æ¥ï¼Œå¯ä»¥è¿”å›é¦–é¡µçš„ï¼ŒæŠŠlogoçš„èƒŒæ™¯å›¾ç‰‡ç»™é“¾æ¥å³å¯ã€‚ ä¸ºäº†æœç´¢å¼•æ“æ”¶å½•æˆ‘ä»¬ï¼Œæˆ‘ä»¬é“¾æ¥é‡Œé¢è¦æ”¾æ–‡å­—ï¼ˆç½‘ç«™åç§°ï¼‰ï¼Œä½†æ˜¯æ–‡å­—ä¸è¦æ˜¾ç¤ºå‡ºæ¥ æ–¹æ³•1ï¼štext-indexç§»åˆ°ç›’å­å¤–é¢ï¼ˆtext-indent:-9999pxï¼‰ï¼Œç„¶åoverflow:hiddenï¼Œæ·˜å®çš„åšæ³• æ–¹æ³•2ï¼šç›´æ¥ç»™font-size:0;å°±çœ‹ä¸åˆ°æ–‡å­—äº†ï¼Œäº¬ä¸œçš„åšæ³•ã€‚ æœ€åç»™é“¾æ¥ä¸€ä¸ªtitleå±æ€§ï¼Œè¿™æ ·é¼ æ ‡æ”¾åˆ°logoä¸Šå°±å¯ä»¥çœ‹åˆ°æç¤ºæ–‡å­—äº† HTMLæ ‡ç­¾ å£°æ˜éƒ¨åˆ† æ–‡æ¡£ç±»å‹å£°æ˜æ ‡ç­¾ â€‹\t\u0026lt;!DOCTYPE\u0026gt;æ–‡æ¡£ç±»å‹å£°æ˜ï¼Œä½œç”¨å°±æ˜¯å‘Šè¯‰æµè§ˆå™¨ä½¿ç”¨å“ªç§HTMLç‰ˆæœ¬æ¥æ˜¾ç¤ºç½‘é¡µ\n\u0026lt;!DOCTYPE html\u0026gt;æŒ‡å½“å‰é¡µé¢é‡‡ç”¨HTML5ç‰ˆæœ¬æ¥æ˜¾ç¤ºç½‘é¡µ\nlangè¯­è¨€ç§ç±» enå®šä¹‰è¯­è¨€ä¸ºä¸­æ–‡ zh-CNå®šä¹‰è¯­è¨€ä¸ºä¸­æ–‡ è¿™ä¸ªå¯¹äºç½‘é¡µçš„ç¼–ç æ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸»è¦é’ˆå¯¹æµè§ˆå™¨å’Œæœç´¢å¼•æ“\nå­—ç¬¦é›† â€‹\t\u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt;åœ¨\u0026lt;head\u0026gt;æ ‡ç­¾å†…ï¼Œç”¨äºæŒ‡å®šHTMLæ–‡æ¡£çš„ç¼–ç æ–¹å¼\ncharsetå¸¸ç”¨çš„å€¼æœ‰ï¼šGB2312ï¼ŒBIG5ï¼ŒGBKå’ŒUTF-8ï¼Œå…¶ä¸­UTF-8ä¸ºä¸‡å›½ç ï¼ŒåŒ…å«äº†å„ä¸ªå›½å®¶çš„å­—ç¬¦\nå›¾æ ‡ï¼š \u0026lt;link rel=\u0026#34;shortcut icon\u0026#34; href=\u0026#34;./images/favicon.ico\u0026#34;\u0026gt; å¸¸ç”¨æ ‡ç­¾ æ ‡é¢˜æ ‡ç­¾ï¼š\u0026lt;h1\u0026gt; - \u0026lt;h6\u0026gt; h -\u0026gt; headçš„ç¼©å†™ ä½œä¸ºæ ‡é¢˜ä½¿ç”¨ï¼Œå¹¶ä¸”ä¾æ®é‡è¦æ€§é€’å‡ æ®µè½ï¼š\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; p -\u0026gt; paragraph\nå¯ä»¥æŠŠHTMLæ–‡æ¡£åˆ†å‰²ä¸ºè‹¥å¹²æ®µè½\nç‰¹ç‚¹\næ–‡æœ¬åœ¨ä¸€ä¸ªæ®µè½ä¸­ä¼šæ ¹æ®æµè§ˆå™¨çª—å£çš„å¤§å°è‡ªåŠ¨æ¢è¡Œ æ®µè½å’Œæ®µè½ä¹‹é—´ä¿æœ‰ç©ºéš™ã€‚ æ¢è¡Œæ ‡ç­¾ï¼š\u0026lt;br /\u0026gt; br -\u0026gt; break å¼ºåˆ¶æ¢è¡Œ ç‰¹ç‚¹ å•æ ‡ç­¾ã€‚ \u0026lt;br /\u0026gt;æ ‡ç­¾åªæ˜¯ç®€å•åœ°å¼€å§‹æ–°çš„ä¸€è¡Œï¼Œè·Ÿæ®µè½ä¸ä¸€æ ·ï¼Œæ®µè½ä¹‹é—´ä¼šæ’å…¥ä¸€äº›å‚ç›´çš„é—´è· æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾ è¯­ä¹‰ æ ‡ç­¾ è¯´æ˜ åŠ ç²— æˆ–è€… æ›´æ¨èä½¿ç”¨æ ‡ç­¾åŠ ç²— è¯­ä¹‰æ›´å¼ºçƒˆ å€¾æ–œ æˆ–è€… æ›´æ¨èä½¿ç”¨æ ‡ç­¾åŠ ç²— è¯­ä¹‰æ›´å¼ºçƒˆ åˆ é™¤çº¿ æˆ–è€… æ›´æ¨èä½¿ç”¨æ ‡ç­¾åŠ ç²— è¯­ä¹‰æ›´å¼ºçƒˆ ä¸‹åˆ’çº¿ æˆ–è€… æ›´æ¨èä½¿ç”¨æ ‡ç­¾åŠ ç²— è¯­ä¹‰æ›´å¼ºçƒˆ divå’Œspanæ ‡ç­¾ï¼š\u0026lt;div\u0026gt;\u0026lt;/div\u0026gt;ã€\u0026lt;span\u0026gt;\u0026lt;/span\u0026gt; div -\u0026gt; division åˆ†å‰²ã€åˆ†åŒºï¼›span è·¨åº¦ã€è·¨è· ç‰¹ç‚¹ï¼š \u0026lt;div\u0026gt;æ ‡ç­¾ç”¨æ¥å¸ƒå±€ï¼Œä½†æ˜¯ç°åœ¨ä¸€è¡Œåªèƒ½æ”¾ä¸€ä¸ª\u0026lt;div\u0026gt;ã€‚å¤§ç›’å­ \u0026lt;span\u0026gt;æ ‡ç­¾ç”¨æ¥å¸ƒå±€ï¼Œä¸€è¡Œå¯ä»¥å¤šä¸ª\u0026lt;span\u0026gt;ã€‚å°ç›’å­ å›¾åƒæ ‡ç­¾ï¼š\u0026lt;img src=\u0026quot;å›¾åƒURL\u0026quot;\u0026gt; img -\u0026gt; image å›¾åƒ\nå›¾åƒæ ‡ç­¾å±æ€§\nå±æ€§ å±æ€§å€¼ è¯´æ˜ src å›¾ç‰‡è·¯å¾„ å¿…é¡»å±æ€§ alt æ–‡æœ¬ æ›¿æ¢æ–‡æœ¬ã€‚å›¾åƒä¸èƒ½æ˜¾ç¤ºçš„æ–‡å­— title æ–‡æœ¬ æç¤ºæ–‡æœ¬ã€‚é¼ æ ‡æ”¾åˆ°å›¾åƒä¸Šï¼Œæ˜¾ç¤ºçš„æ–‡å­— width åƒç´  è®¾ç½®å›¾åƒçš„å®½åº¦ height åƒç´  è®¾ç½®å›¾åƒçš„é«˜åº¦ border åƒç´  è®¾ç½®å›¾åƒçš„è¾¹æ¡†ç²—ç»† è¶…é“¾æ¥æ ‡ç­¾/é”šç‚¹é“¾æ¥ï¼š\u0026lt;a\u0026gt;\u0026lt;/a\u0026gt; a -\u0026gt; anchor é”š\nå±æ€§\nå±æ€§ ä½œç”¨ href ç”¨äºæŒ‡å®šè¿æ¥ç›®æ ‡çš„urlåœ°å€ï¼Œä¸ºhrefå±æ€§æ—¶ï¼Œä»–å°±å…·æœ‰äº†è¶…é“¾æ¥çš„åŠŸèƒ½ target ç”¨äºæŒ‡å®šé“¾æ¥é¡µé¢çš„æ‰“å¼€æ–¹å¼ï¼Œå…¶ä¸­_selfä¸ºé»˜è®¤å€¼ï¼Œ__blankä¸ºåœ¨æ–°çª—å£ä¸­æ‰“å¼€ æ³¨é‡Šå’Œç‰¹æ®Šå­—ç¬¦ æ³¨é‡Šæ ‡ç­¾ï¼š\u0026lt;!-- --\u0026gt; ç‰¹æ®Šå­—ç¬¦ ç‰¹æ®Šå­—ç¬¦ æè¿° å­—ç¬¦çš„ä»£ç  ç©ºæ ¼ç¬¦ \u0026amp;nbsp; \u0026lt; å°äºå· \u0026amp;lt; \u0026gt; å¤§äºå· \u0026amp;gt; \u0026amp; å’Œå· \u0026amp;amp; ï¿¥ äººæ°‘å¸ \u0026amp;yen; Â© ç‰ˆæƒ \u0026amp;copy; Â® æ³¨å†Œå•†æ ‡ \u0026amp;reg; Â° æ‘„æ°åº¦ \u0026amp;deg; Â± æ­£è´Ÿå· \u0026amp;plusmn; Ã— ä¹˜å· \u0026amp;times; Ã· é™¤å· \u0026amp;divide; Â² å¹³æ–¹2(ä¸Šæ ‡2) \u0026amp;sup2; Â³ ç«‹æ–¹3(ä¸Šæ ‡3) \u0026amp;sup3; è¡¨æ ¼æ ‡ç­¾ \u0026lt;table\u0026gt;\u0026lt;/table\u0026gt;ç”¨äºå®šä¹‰è¡¨æ ¼çš„æ ‡ç­¾\n\u0026lt;tr\u0026gt;\u0026lt;/tr\u0026gt;ç”¨äºå®šä¹‰è¡¨æ ¼ä¸­çš„è¡Œï¼Œå¿…é¡»åµŒå¥—åœ¨\u0026lt;table\u0026gt;\u0026lt;table\u0026gt;æ ‡ç­¾ä¸­.\ntable row\n\u0026lt;td\u0026gt;\u0026lt;/td\u0026gt;ç”¨äºå®šä¹‰è¡¨æ ¼ä¸­çš„å•å…ƒæ ¼ï¼Œå¿…é¡»åµŒå¥—åœ¨\u0026lt;tr\u0026gt;\u0026lt;/tr\u0026gt;æ ‡ç­¾ä¸­.\nå­—æ¯tdæŒ‡è¡¨æ ¼(table data)ï¼Œå³æ•°æ®å•å…ƒæ ¼çš„å†…å®¹ã€‚\n\u0026lt;th\u0026gt;\u0026lt;/th\u0026gt;è¡¨å¤´å•å…ƒæ ¼\ntable head\nè¡¨æ ¼å±æ€§ å±æ€§å å±æ€§å€¼ æè¿° align leftã€centerã€right è§„å®šè¡¨æ ¼ç›¸å¯¹å‘¨å›´å…ƒç´ çš„å¯¹é½æ–¹å¼ border 1æˆ–\u0026quot;\u0026quot; è§„å®šè¡¨æ ¼å•å…ƒæ ¼æ˜¯å¦æ‹¥æœ‰è¾¹æ¡†ï¼Œé»˜è®¤ä¸º\u0026quot;\u0026quot;ï¼Œè¡¨ç¤ºæ²¡æœ‰è¾¹æ¡† cellpadding åƒç´ å€¼ è§„å®šå•å…ƒè¾¹æ²¿ä¸å…¶å†…å®¹ä¹‹é—´çš„ç©ºç™½ï¼Œé»˜è®¤åƒç´ ä¸º1 cellspacing åƒç´ å€¼ è§„å®šå•å…ƒæ ¼ä¹‹é—´çš„ç©ºç™½ï¼Œé»˜è®¤2åƒç´  width åƒç´ å€¼ è§„å®šè¡¨æ ¼çš„å®½åº¦ è¡¨æ ¼ç»“æ„æ ‡ç­¾ \u0026lt;thead\u0026gt;\u0026lt;/thead\u0026gt;è¡¨æ ¼çš„å¤´éƒ¨åŒºåŸŸ\n\u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt;è¡¨æ ¼çš„ä¸»ä½“åŒºåŸŸ\nåˆå¹¶å•å…ƒæ ¼ è·¨è¡Œåˆå¹¶ï¼šrowspan=\u0026ldquo;åˆå¹¶å•å…ƒæ ¼çš„ä¸ªæ•°\u0026rdquo; è·¨åˆ—åˆå¹¶ï¼šcolspan=\u0026ldquo;åˆå¹¶å•å…ƒæ ¼çš„ä¸ªæ•°\u0026rdquo; åˆ—è¡¨æ ‡ç­¾ï¼šç”¨æ¥å¸ƒå±€ ç‰¹ç‚¹ï¼šæ•´é½ã€æ•´æ´ã€æœ‰åº æ— åºåˆ—è¡¨ï¼š\u0026lt;ul\u0026gt;\u0026lt;/ul\u0026gt;ã€\u0026lt;li\u0026gt;\u0026lt;/li\u0026gt;\næœ‰åºåˆ—è¡¨ï¼š\u0026lt;ol\u0026gt;\u0026lt;/ol\u0026gt;ã€\u0026lt;li\u0026gt;\u0026lt;/li\u0026gt;\nè‡ªå®šä¹‰åˆ—è¡¨ï¼š\u0026lt;dl\u0026gt;\u0026lt;/dl\u0026gt;ã€\u0026lt;dd\u0026gt;\u0026lt;/dd\u0026gt;ã€\u0026lt;dt\u0026gt;\u0026lt;/dt\u0026gt;\nè¡¨å• å®šä¹‰è¡¨å•åŸŸï¼š\u0026lt;form\u0026gt;\nå¸¸ç”¨å±æ€§ï¼š\nå±æ€§ å±æ€§å€¼ ä½œç”¨ action urlåœ°å€ ç”¨äºæŒ‡å®šæ¥å—å¹¶å¤„ç†è¡¨å•æ•°æ®çš„æœåŠ¡å™¨ç¨‹åºçš„urlåœ°å€ method getã€post\u0026hellip; ç”¨äºè®¾ç½®è¡¨å•æ•°æ®çš„æäº¤æ–¹å¼ï¼Œå…¶å–å€¼ä¸ºgetæˆ–postç­‰ç­‰ name åç§° ç”¨äºæŒ‡å®šè¡¨å•çš„åç§°ï¼Œä»¥åŒºåˆ†åŒä¸€ä¸ªé¡µé¢çš„å¤šä¸ªè¡¨å•åŸŸ è¡¨å•æ§ä»¶\ninputè¾“å…¥è¡¨å•å…ƒç´ \ntypeå±æ€§\nå±æ€§å€¼ æè¿° button å®šä¹‰å¯ç‚¹å‡»æŒ‰é’®ï¼ˆå¤šæ•°æƒ…å†µä¸‹ï¼Œç”¨äºé€šè¿‡JavaScriptå¯åŠ¨è„šæœ¬ï¼‰ã€‚ checkbox å®šä¹‰å¤é€‰æ¡† file å®šä¹‰è¾“å…¥å­—æ®µå’Œæµè§ˆæŒ‰é’®ï¼Œä¾›æ–‡ä»¶ä¸Šä¼  hidden å®šä¹‰éšè—çš„è¾“å…¥å­—æ®µ image å®šä¹‰å›¾åƒå½¢å¼çš„æäº¤æŒ‰é’®ã€‚ password å®šä¹‰å¯†ç å­—æ®µã€‚è¯¥å­—æ®µä¸­çš„å­—ç¬¦è¢«æ©ç ã€‚ radio å®šä¹‰å•é€‰æŒ‰é’®ã€‚ reset å®šä¹‰é‡ç½®æŒ‰é’®ã€‚é‡ç½®æŒ‰é’®ä¼šæ¸…é™¤è¡¨å•ä¸­çš„æ‰€æœ‰æ•°æ® submit å®šä¹‰æäº¤æŒ‰é’®ã€‚æäº¤æŒ‰é’®ä¼šæŠŠè¡¨å•æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ text å®šä¹‰å•è¡Œçš„è¾“å…¥å­—æ®µï¼Œç”¨æˆ·å¯åœ¨å…¶ä¸­è¾“å…¥æ–‡æœ¬ã€‚é»˜è®¤å®½åº¦ä¸º20ä¸ªå­—ç¬¦ã€‚ å…¶ä»–å±æ€§\nå±æ€§ å±æ€§å€¼ æè¿° name ç”±ç”¨æˆ·è‡ªå®šä¹‰ å®šä¹‰inputå…ƒç´ çš„åç§° value ç”±ç”¨æˆ·è‡ªå®šä¹‰ è§„å®šinputå…ƒç´ çš„å€¼ checked checked è§„å®šæ­¤inputå…ƒç´ é¦–æ¬¡åŠ è½½æ—¶åº”å½“è¢«é€‰ä¸­ã€‚ maxlength æ­£æ•´æ•° è§„å®šè¾“å…¥å­—æ®µä¸­çš„å­—ç¬¦çš„æœ€å¤§é•¿åº¦ labelæ ‡ç­¾ç”¨äºç»‘å®šè¡¨å•å…ƒç´ \nselectä¸‹æ‹‰è¡¨å•å…ƒç´ \ntextareaæ–‡æœ¬åŸŸå…ƒç´ \nè¡¨å•ä¿¡æ¯\n","permalink":"https://rexhub.space/posts/front/%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91/","summary":"ç½‘é¡µå¼€å‘ æµè§ˆå™¨å†…æ ¸ æµè§ˆå™¨ å†…æ ¸ å¤‡æ³¨ IE Trident IEã€çŒè±¹ã€360æé€Ÿæµè§ˆå™¨ã€ç™¾åº¦æµè§ˆå™¨ firefox Gecko ç«ç‹æµè§ˆå™¨å†…æ ¸ Safari Webkit è‹¹æœæµè§ˆå™¨å†…æ ¸ Chrome/Opera Blink Chrome/Operaæµè§ˆå™¨å†…æ ¸ã€‚Blinkå…¶å®æ˜¯Webkitçš„åˆ†æ”¯ Webæ ‡å‡† ç›®çš„ï¼š â€‹\tæµè§ˆå™¨ä¸åŒï¼Œä»–ä»¬æ˜¾ç¤ºé¡µé¢æˆ–è€…æ’ç‰ˆä¸åŒ\næ„æˆï¼š ç»“æ„ - HTML è¡¨ç° - CSS è¡Œä¸º - JavaScript SEOä¼˜åŒ– TDKä¸‰å¤§æ ‡ç­¾ title\ntitleæ˜¯æœç´¢å¼•æ“äº†è§£ç½‘é¡µå…¥å£å’Œç½‘é¡µä¸»é¢˜å½’å±çš„æœ€ä½³åˆ¤æ–­ç‚¹\nå»ºè®®ï¼šç½‘ç«™åï¼ˆäº§å“åï¼‰-ç½‘ç«™çš„ä»‹ç»ï¼ˆå°½é‡ä¸è¶…è¿‡30ä¸ªæ±‰å­—ï¼‰\ndescription\nç®€è¦è¯´æ˜æˆ‘ä»¬ç½‘ç«™ä¸»è¦æ˜¯åšä»€ä¹ˆçš„ã€‚\næˆ‘ä»¬æå€¡ï¼Œdescriptionä½œä¸ºç½‘ç«™çš„æ€»ä½“ä¸šåŠ¡å’Œä¸»é¢˜æ¦‚å†µ\nkeyword\nkeywordsæ˜¯é¡µé¢å…³é”®å­—ï¼Œæ˜¯æœç´¢å¼•æ“çš„å…³æ³¨ç‚¹ä¹‹ä¸€ã€‚\nkeywordsæœ€å¥½é™åˆ¶ä¸º6~8ä¸ªå…³é”®å­—ï¼Œå…³é”®å­—ä¹‹é—´ç”¨è‹±æ–‡é€—å·éš”å¼€ï¼Œé‡‡ç”¨å…³é”®è¯1ï¼Œå…³é”®è¯2çš„å½¢å¼\nLOGO SEOä¼˜åŒ– logoé‡Œé¢é¦–å…ˆæ”¾ä¸€ä¸ªh1æ ‡ç­¾ï¼Œç›®çš„æ˜¯ä¸ºäº†ææƒï¼Œå‘Šè¯‰æœç´¢å¼•æ“ï¼Œè¿™ä¸ªåœ°æ–¹å¾ˆé‡è¦ h1é‡Œé¢å†æ”¾ä¸€ä¸ªé“¾æ¥ï¼Œå¯ä»¥è¿”å›é¦–é¡µçš„ï¼ŒæŠŠlogoçš„èƒŒæ™¯å›¾ç‰‡ç»™é“¾æ¥å³å¯ã€‚ ä¸ºäº†æœç´¢å¼•æ“æ”¶å½•æˆ‘ä»¬ï¼Œæˆ‘ä»¬é“¾æ¥é‡Œé¢è¦æ”¾æ–‡å­—ï¼ˆç½‘ç«™åç§°ï¼‰ï¼Œä½†æ˜¯æ–‡å­—ä¸è¦æ˜¾ç¤ºå‡ºæ¥ æ–¹æ³•1ï¼štext-indexç§»åˆ°ç›’å­å¤–é¢ï¼ˆtext-indent:-9999pxï¼‰ï¼Œç„¶åoverflow:hiddenï¼Œæ·˜å®çš„åšæ³• æ–¹æ³•2ï¼šç›´æ¥ç»™font-size:0;å°±çœ‹ä¸åˆ°æ–‡å­—äº†ï¼Œäº¬ä¸œçš„åšæ³•ã€‚ æœ€åç»™é“¾æ¥ä¸€ä¸ªtitleå±æ€§ï¼Œè¿™æ ·é¼ æ ‡æ”¾åˆ°logoä¸Šå°±å¯ä»¥çœ‹åˆ°æç¤ºæ–‡å­—äº† HTMLæ ‡ç­¾ å£°æ˜éƒ¨åˆ† æ–‡æ¡£ç±»å‹å£°æ˜æ ‡ç­¾ â€‹\t\u0026lt;!DOCTYPE\u0026gt;æ–‡æ¡£ç±»å‹å£°æ˜ï¼Œä½œç”¨å°±æ˜¯å‘Šè¯‰æµè§ˆå™¨ä½¿ç”¨å“ªç§HTMLç‰ˆæœ¬æ¥æ˜¾ç¤ºç½‘é¡µ\n\u0026lt;!DOCTYPE html\u0026gt;æŒ‡å½“å‰é¡µé¢é‡‡ç”¨HTML5ç‰ˆæœ¬æ¥æ˜¾ç¤ºç½‘é¡µ\nlangè¯­è¨€ç§ç±» enå®šä¹‰è¯­è¨€ä¸ºä¸­æ–‡ zh-CNå®šä¹‰è¯­è¨€ä¸ºä¸­æ–‡ è¿™ä¸ªå¯¹äºç½‘é¡µçš„ç¼–ç æ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä¸»è¦é’ˆå¯¹æµè§ˆå™¨å’Œæœç´¢å¼•æ“\nå­—ç¬¦é›† â€‹\t\u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt;åœ¨\u0026lt;head\u0026gt;æ ‡ç­¾å†…ï¼Œç”¨äºæŒ‡å®šHTMLæ–‡æ¡£çš„ç¼–ç æ–¹å¼\ncharsetå¸¸ç”¨çš„å€¼æœ‰ï¼šGB2312ï¼ŒBIG5ï¼ŒGBKå’ŒUTF-8ï¼Œå…¶ä¸­UTF-8ä¸ºä¸‡å›½ç ï¼ŒåŒ…å«äº†å„ä¸ªå›½å®¶çš„å­—ç¬¦\nå›¾æ ‡ï¼š \u0026lt;link rel=\u0026#34;shortcut icon\u0026#34; href=\u0026#34;.","title":"ç½‘é¡µå¼€å‘"},{"content":"HTML5 TIP: å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼ŒåŸºæœ¬ä¸ŠIE+9ä»¥ä¸Šç‰ˆæœ¬çš„æµè§ˆå™¨æ‰æ”¯æŒ\nè¯­ä¹‰åŒ–æ ‡ç­¾ \u0026lt;head\u0026gt;: å¤´éƒ¨æ ‡ç­¾ \u0026lt;nav\u0026gt;: å¯¼èˆªæ ‡ç­¾ \u0026lt;artivle\u0026gt;: å†…å®¹æ ‡ç­¾ \u0026lt;section\u0026gt;: å®šä¹‰æ–‡æ¡£æŸä¸ªåŒºåŸŸ \u0026lt;aside\u0026gt;: ä¾§è¾¹æ æ ‡ç­¾ \u0026lt;footer\u0026gt;: å°¾éƒ¨æ ‡ç­¾ æ³¨æ„ï¼š\nè¿™ç§è¯­ä¹‰åŒ–æ ‡å‡†ä¸»è¦æ˜¯é’ˆå¯¹æœç´¢å¼•æ“çš„ è¿™äº›æ–°æ ‡ç­¾é¡µé¢å¯ä»¥ä½¿ç”¨å¤šæ¬¡ åœ¨IE9ä¸­ï¼Œéœ€è¦æŠŠè¿™äº›å…ƒç´ è½¬æ¢ä¸ºå—çº§å…ƒç´  ç§»åŠ¨ç«¯æ›´å–œæ¬¢ä½¿ç”¨è¿™äº›æ ‡ç­¾ å¤šåª’ä½“æ ‡ç­¾ \u0026lt;vedio\u0026gt;\næµè§ˆå™¨ MP4 Webm ogg Internet Explore Yes No No Chrome Yes Yes Yes Firefox Yes\nä»Firefox21ç‰ˆæœ¬å¼€å§‹\nLinuxç³»ç»Ÿä»Firefox30å¼€å§‹ Yes Yes Safari Yes No No Opera Yes Yes Yes è¯­æ³•ï¼š\n\u0026lt;video src=\u0026quot;æ–‡ä»¶åœ°å€\u0026quot; controls=\u0026quot;controls\u0026quot;\u0026gt;\u0026lt;/video\u0026gt;\nå±æ€§ï¼š\nå±æ€§ å€¼ æè¿° autoplay autoplay å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾ã€‚ controls controls å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®ã€‚ height pixels è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„é«˜åº¦ã€‚ loop loop å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å½“åª’ä»‹æ–‡ä»¶å®Œæˆæ’­æ”¾åå†æ¬¡å¼€å§‹æ’­æ”¾ã€‚ muted muted è§„å®šè§†é¢‘çš„éŸ³é¢‘è¾“å‡ºåº”è¯¥è¢«é™éŸ³ã€‚ poster URL è§„å®šè§†é¢‘ä¸‹è½½æ—¶æ˜¾ç¤ºçš„å›¾åƒï¼Œæˆ–è€…åœ¨ç”¨æˆ·ç‚¹å‡»æ’­æ”¾æŒ‰é’®å‰æ˜¾ç¤ºçš„å›¾åƒã€‚ preload preload å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨é¡µé¢åŠ è½½æ—¶è¿›è¡ŒåŠ è½½ï¼Œå¹¶é¢„å¤‡æ’­æ”¾ã€‚å¦‚æœä½¿ç”¨ \u0026ldquo;autoplay\u0026rdquo;ï¼Œåˆ™å¿½ç•¥è¯¥å±æ€§ã€‚ src url è¦æ’­æ”¾çš„è§†é¢‘çš„ URLã€‚ width pixels è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„å®½åº¦ã€‚ \u0026lt;audeo\u0026gt;\næµè§ˆå™¨ MP3 wav ogg Internet Explore Yes No No Chrome Yes Yes Yes Firefox Yes Yes Yes Safari Yes YES No Opera Yes Yes Yes è¯­æ³•ï¼š\n\u0026lt;audio src=\u0026quot;æ–‡ä»¶åœ°å€\u0026quot; controls=\u0026quot;controls\u0026quot;\u0026gt;\u0026lt;/audio\u0026gt;\nå±æ€§\nå±æ€§ å€¼ æè¿° autoplay autoplay å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™éŸ³é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾ã€‚ controls controls å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®ã€‚ loop loop å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™æ¯å½“éŸ³é¢‘ç»“æŸæ—¶é‡æ–°å¼€å§‹æ’­æ”¾ã€‚ muted muted è§„å®šè§†é¢‘è¾“å‡ºåº”è¯¥è¢«é™éŸ³ã€‚ preload preload å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™éŸ³é¢‘åœ¨é¡µé¢åŠ è½½æ—¶è¿›è¡ŒåŠ è½½ï¼Œå¹¶é¢„å¤‡æ’­æ”¾ã€‚å¦‚æœä½¿ç”¨ \u0026ldquo;autoplay\u0026rdquo;ï¼Œåˆ™å¿½ç•¥è¯¥å±æ€§ã€‚ src url è¦æ’­æ”¾çš„éŸ³é¢‘çš„ URLã€‚ å¤šåª’ä½“æ ‡ç­¾æ€»ç»“\néŸ³é¢‘å’Œè§†é¢‘ä½¿ç”¨æ–¹å¼åŸºæœ¬ä¸€è‡´ æµè§ˆå™¨æ”¯æŒæƒ…å†µä¸åŒ è°·æ­Œæµè§ˆå™¨æŠŠéŸ³é¢‘å’Œè§†é¢‘è‡ªåŠ¨æ’­æ”¾äº† æˆ‘ä»¬å¯ä»¥ç»™è§†é¢‘æ ‡ç­¾æ·»åŠ mutedå±æ€§æ¥é™éŸ³æ’­æ”¾è§†é¢‘ï¼ŒéŸ³é¢‘ä¸å¯ä»¥ï¼ˆå¯ä»¥é€šè¿‡JavaScriptè§£å†³ï¼‰ è§†é¢‘æ ‡ç­¾æ˜¯é‡ç‚¹ï¼Œæˆ‘ä»¬ç»å¸¸è®¾ç½®è‡ªåŠ¨æ’­æ”¾ï¼Œä¸é€‚ç”¨controlsæ§ä»¶ï¼Œå¾ªç¯å’Œè®¾ç½®å¤§å°å±æ€§ inputç±»å‹ å±æ€§å€¼ è¯´æ˜ type=\u0026ldquo;email\u0026rdquo; é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºEmailç±»å‹ type=\u0026ldquo;url\u0026rdquo; é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºURLç±»å‹ type=\u0026ldquo;date\u0026rdquo; é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ—¥æœŸç±»å‹ type=\u0026ldquo;time\u0026rdquo; é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ—¶é—´ç±»å‹ type=\u0026ldquo;month\u0026rdquo; é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæœˆç±»å‹ type=\u0026ldquo;week\u0026rdquo; é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºå‘¨ç±»å‹ type=\u0026ldquo;number\u0026rdquo; é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ•°å­—ç±»å‹ type=\u0026ldquo;tel\u0026rdquo; æ‰‹æœºå· type=\u0026ldquo;search\u0026rdquo; æœç´¢æ¡† type=\u0026ldquo;color\u0026rdquo; ç”Ÿæˆä¸€ä¸ªé¢œè‰²é€‰æ‹©è¡¨å• æ–°å¢çš„è¡¨å•å±æ€§ å±æ€§ å€¼ è¯´æ˜ required required è¡¨å•æ‹¥æœ‰è¯¥å±æ€§è¡¨ç¤ºå…¶å†…å®¹ä¸èƒ½ä¸ºç©ºï¼Œå¿…å¡« placeholder æç¤ºæ–‡æœ¬ è¡¨å•çš„æç¤ºä¿¡æ¯ï¼Œå­˜åœ¨é»˜è®¤å€¼å°†ä¸æ˜¾ç¤º autofocus autofocus è‡ªåŠ¨èšç„¦å±æ€§ï¼Œé¡µé¢åŠ è½½å®Œæˆè‡ªåŠ¨èšç„¦åˆ°æŒ‡å®šè¡¨å• autocomplate off/on å½“ç”¨æˆ·åœ¨å­—æ®µå¼€å§‹é”®å…¥æ—¶ï¼Œæµè§ˆå™¨åŸºäºä¹‹å‰é”®å…¥è¿‡çš„å€¼ï¼Œåº”è¯¥æ˜¾ç¤ºå‡ºåœ¨å­—æ®µä¸­å¡«å†™çš„é€‰é¡¹ã€‚\né»˜è®¤å·²ç»æ‰“å¼€ï¼Œå¦‚autocomplete=\u0026ldquo;on\u0026rdquo;, å…³é—­autocomplete=\u0026ldquo;off\u0026quot;éœ€è¦æ”¾åœ¨è¡¨å•å†…ï¼ŒåŒæ—¶åŠ ä¸Šnameå±æ€§ï¼ŒåŒæ—¶æˆæäº¤ multiple mltiple å¯ä»¥å¤šé€‰æ–‡ä»¶æäº¤ ","permalink":"https://rexhub.space/posts/front/html5/","summary":"HTML5 TIP: å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼ŒåŸºæœ¬ä¸ŠIE+9ä»¥ä¸Šç‰ˆæœ¬çš„æµè§ˆå™¨æ‰æ”¯æŒ\nè¯­ä¹‰åŒ–æ ‡ç­¾ \u0026lt;head\u0026gt;: å¤´éƒ¨æ ‡ç­¾ \u0026lt;nav\u0026gt;: å¯¼èˆªæ ‡ç­¾ \u0026lt;artivle\u0026gt;: å†…å®¹æ ‡ç­¾ \u0026lt;section\u0026gt;: å®šä¹‰æ–‡æ¡£æŸä¸ªåŒºåŸŸ \u0026lt;aside\u0026gt;: ä¾§è¾¹æ æ ‡ç­¾ \u0026lt;footer\u0026gt;: å°¾éƒ¨æ ‡ç­¾ æ³¨æ„ï¼š\nè¿™ç§è¯­ä¹‰åŒ–æ ‡å‡†ä¸»è¦æ˜¯é’ˆå¯¹æœç´¢å¼•æ“çš„ è¿™äº›æ–°æ ‡ç­¾é¡µé¢å¯ä»¥ä½¿ç”¨å¤šæ¬¡ åœ¨IE9ä¸­ï¼Œéœ€è¦æŠŠè¿™äº›å…ƒç´ è½¬æ¢ä¸ºå—çº§å…ƒç´  ç§»åŠ¨ç«¯æ›´å–œæ¬¢ä½¿ç”¨è¿™äº›æ ‡ç­¾ å¤šåª’ä½“æ ‡ç­¾ \u0026lt;vedio\u0026gt;\næµè§ˆå™¨ MP4 Webm ogg Internet Explore Yes No No Chrome Yes Yes Yes Firefox Yes\nä»Firefox21ç‰ˆæœ¬å¼€å§‹\nLinuxç³»ç»Ÿä»Firefox30å¼€å§‹ Yes Yes Safari Yes No No Opera Yes Yes Yes è¯­æ³•ï¼š\n\u0026lt;video src=\u0026quot;æ–‡ä»¶åœ°å€\u0026quot; controls=\u0026quot;controls\u0026quot;\u0026gt;\u0026lt;/video\u0026gt;\nå±æ€§ï¼š\nå±æ€§ å€¼ æè¿° autoplay autoplay å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾ã€‚ controls controls å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®ã€‚ height pixels è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„é«˜åº¦ã€‚ loop loop å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å½“åª’ä»‹æ–‡ä»¶å®Œæˆæ’­æ”¾åå†æ¬¡å¼€å§‹æ’­æ”¾ã€‚ muted muted è§„å®šè§†é¢‘çš„éŸ³é¢‘è¾“å‡ºåº”è¯¥è¢«é™éŸ³ã€‚ poster URL è§„å®šè§†é¢‘ä¸‹è½½æ—¶æ˜¾ç¤ºçš„å›¾åƒï¼Œæˆ–è€…åœ¨ç”¨æˆ·ç‚¹å‡»æ’­æ”¾æŒ‰é’®å‰æ˜¾ç¤ºçš„å›¾åƒã€‚ preload preload å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨é¡µé¢åŠ è½½æ—¶è¿›è¡ŒåŠ è½½ï¼Œå¹¶é¢„å¤‡æ’­æ”¾ã€‚å¦‚æœä½¿ç”¨ \u0026ldquo;autoplay\u0026rdquo;ï¼Œåˆ™å¿½ç•¥è¯¥å±æ€§ã€‚ src url è¦æ’­æ”¾çš„è§†é¢‘çš„ URLã€‚ width pixels è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„å®½åº¦ã€‚ \u0026lt;audeo\u0026gt;","title":"HTML5"},{"content":"Vueè¿›é˜¶ Vueè·¯ç”± 1.åˆå§‹è·¯ç”± **è·¯ç”±**ï¼šè¡¨ç¤ºä¸€ç§å¯¹åº”å…³ç³»ï¼ŒæŸäº›äº‹ç‰©çš„ä¸€ä¸€å¯¹åº”çš„å…³ç³» **åç«¯è·¯ç”±**ï¼šåç«¯è·¯ç”±æ˜¯ç”±æœåŠ¡å™¨ç«¯è¿›è¡Œå®ç°ï¼Œå¹¶å®Œæˆèµ„æºçš„åˆ†å‘ï¼ˆurlä¸èµ„æº/æ•°æ®çš„å¯¹åº”å…³ç³»ï¼‰ **å‰ç«¯è·¯ç”±**ï¼šå‰ç«¯è·¯ç”±æ˜¯ä¾é hashå€¼ï¼ˆé”šç‚¹é“¾æ¥ï¼‰çš„å˜åŒ–è¿›è¡Œå®ç°é¡µé¢å†…å®¹çš„åˆ‡æ¢ï¼ˆé”šç‚¹ä¸ç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼‰ 2.vue-router vue-routerå·¥ä½œåŸç†\nå®ƒæ˜¯ä¸€ä¸ªVue.jså®˜æ–¹æä¾›çš„è·¯ç”±ç®¡ç†å™¨ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½æ›´åŠ å¼ºå¤§çš„å‰ç«¯è·¯ç”±å™¨ï¼Œå¯ä»¥å®ç°å‰ç«¯ç•Œé¢å†…å®¹åˆ‡æ¢\nSPAï¼šSingle Page Applicationï¼Œå•é¡µé¢åº”ç”¨ï¼Œæ•´ä¸ªç½‘ç«™åªæœ‰ä¸€ä¸ªé¡µé¢\nSPAæ¨èä½¿ç”¨vue-routerï¼Œå®ç°ç•Œé¢å†…å®¹çš„åˆ‡æ¢\nvue-routeræä¾›ä¸¤ç§æ¨¡å¼\nhashæ¨¡å¼ï¼šhashåˆå«é”šç‚¹ï¼šæ¯”å¦‚#/loginï¼Œæ ¹æ®hashæ”¹å˜ï¼Œæ¥å®ç°ç•Œé¢åˆ‡æ¢\nhistoryæ¨¡å¼ï¼šhistoryæ¨¡å¼ä¸ä¼šå‡ºç°#å·æ¯”è¾ƒç¾è§‚ï¼Œåˆ©ç”¨history.pushState()æ¥å®ŒæˆURLçš„è·³è½¬è€Œä¸”æ— é¡»é‡å†™åŠ è½½é¡µé¢\nç¤ºä¾‹ä»£ç \nconst router = new VueRouter({ mode: \u0026#39;history\u0026#39;, router: [...] }) vue-routeré»˜è®¤ä¸ºhashæ¨¡å¼ï¼Œéœ€è¦é€šè¿‡modeæ¥æ”¹å˜æ¨¡å¼\nvue-routeråŸºæœ¬ä½¿ç”¨\nå¼•å…¥vue-router.js\nå®šä¹‰è·¯ç”±é“¾æ¥å’Œè·¯ç”±è§†å›¾\nä»£ç ç¤ºä¾‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/login\u0026#34; tag=\u0026#34;span\u0026#34;\u0026gt;å‰å¾€ç™»å½•\u0026lt;/router-link\u0026gt; \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;/div\u0026gt; router-linkæ˜¯è·¯ç”±é“¾æ¥ï¼Œtoä»£è¡¨é“¾æ¥åœ°å€ï¼Œtagä»£è¡¨æ¸²æŸ“çš„æ ‡ç­¾\nrouter-viewæ˜¯è·¯ç”±è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºè·¯ç”±é“¾æ¥å¯¹åº”çš„ç»„ä»¶\nå®šä¹‰è·¯ç”±åŒ¹é…è§„åˆ™\nä»£ç ç¤ºä¾‹\nvar login = { template: \u0026#34;\u0026lt;h1\u0026gt;ç™»å½•ç»„ä»¶\u0026lt;/h1\u0026gt;\u0026#34; } const router = new VueRouter({ routes: [ { path: \u0026#39;/login\u0026#39;, component: login } ] }); åœ¨å®ä¾‹åŒ–VueRouterçš„æ—¶å€™ä¼ å…¥routes\né€šè¿‡routeså®šä¹‰è·¯ç”±åŒ¹é…è§„åˆ™ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ª\nåŒ¹é…è§„åˆ™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œkeyæ˜¯è·¯ç”±é“¾æ¥pathï¼Œvalueæ˜¯ç»„ä»¶component\næ³¨å†Œè·¯ç”±\nä»£ç ç¤ºä¾‹\nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, router: router }); åœ¨å®ä¾‹åŒ–Vueçš„æ—¶å€™ï¼Œé€šè¿‡é€‰é¡¹routeræ¥æ³¨å†Œè·¯ç”±\nè·¯ç”±å¯¹è±¡å±æ€§\nthis.$routerè¡¨ç¤ºå…¨å±€è·¯ç”±å™¨å¯¹è±¡ï¼Œå°±æ˜¯é€šè¿‡routeré€‰é¡¹æ³¨å†Œçš„VueRouterè·¯ç”±ç®¡ç†å™¨å¯¹è±¡\nthis.$routeä»£è¡¨å½“å‰è·¯ç”±å¯¹è±¡ï¼Œè€Œå·²è·å–å½“å‰è·¯ç”±ç›¸å…³ä¿¡æ¯\nè·¯ç”±å¯¹è±¡å±æ€§\nå±æ€§å ç±»å‹ è¯´æ˜ $route.path String å¯¹åº”å½“å‰è·¯ç”±çš„è·¯å¾„ $route.query Object ä¸€ä¸ª{key:value}å¯¹è±¡ï¼Œè¡¨ç¤ºURLæŸ¥è¯¢å‚æ•° $route.params Object ä¸€ä¸ª{key:value}å¯¹è±¡ï¼Œè·¯ç”±è·³è½¬æºå¸¦å‚æ•° $route.hash String åœ¨historyæ¨¡å¼ä¸‹è·å–å½“å‰è·¯ç”±hashå€¼ï¼ˆå¸¦#ï¼‰ï¼Œå¦‚æœæ²¡æœ‰hashå€¼ï¼Œåˆ™ä¸ºç©ºå­—ç¬¦ä¸² $route.fullPath String å®Œæˆè§£æåçš„URLï¼ŒåŒ…å«æŸ¥è¯¢å‚æ•°å’Œhashçš„å®Œæ•´è·¯å¾„ $route.name String å½“å‰è·¯ç”±çš„åç§° $route.matched Array è·¯ç”±è®°å½•ï¼Œå½“å‰è·¯ç”±ä¸‹è·¯ç”±å£°æ˜çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä»çˆ¶è·¯ç”±ï¼ˆå¦‚æœæœ‰ï¼‰åˆ°å½“å‰è·¯ç”±ä¸ºæ­¢ $route.redirectedFrom String å¦‚æœå­˜åœ¨é‡å®šå‘ï¼Œå³ä¸ºé‡å®šå‘æ¥æºçš„è·¯ç”± 3.ç”¨æˆ·ç™»å½•æ³¨å†Œæ¡ˆä¾‹ 4.åŠ¨æ€è·¯ç”± ä»€ä¹ˆæ˜¯åŠ¨æ€è·¯ç”±\nå¯ä»¥åŒ¹é…å¸¦æœ‰ä¸åŒå‚æ•°çš„urlçš„è·¯ç”±è§„åˆ™å°±æ˜¯åŠ¨æ€è·¯ç”±\nqueryæ–¹å¼ä¼ å‚\né€šè¿‡ï¼Ÿä¼ å‚\nä¼ å‚\nç¤ºä¾‹\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/user?id=1\u0026amp;name=Rex\u0026#34;\u0026gt;ç™»å½•\u0026lt;/router-link\u0026gt; \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;template id=\u0026#34;user\u0026#34;\u0026gt; \u0026lt;h1\u0026gt; id: {{this.$route.query.id}} name: {{this.$route.query.name}} \u0026lt;/h1\u0026gt; \u0026lt;/template\u0026gt; ä¼ å‚è¯­æ³•ï¼š?å‚æ•°å1=å‚æ•°å€¼1\u0026amp;å‚æ•°å2=å‚æ•°å€¼2\nå®šä¹‰è·¯ç”±\nconst router = new VueRouter({ routes: [{ path: \u0026#39;/user\u0026#39;, component: user }] }) è·å–å‚æ•°\n{{this.$route.query.å‚æ•°å}}\nparamsæ–¹å¼ä¼ å‚\né€šè¿‡urlæœ¬èº«ä¼ é€’\nä¼ å‚\nç¤ºä¾‹ä»£ç \n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/user/10/admin\u0026#34;\u0026gt;ç™»å½•\u0026lt;/router-link\u0026gt; \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;template id=\u0026#34;user\u0026#34;\u0026gt; \u0026lt;h1\u0026gt; id:{{this.$route.params.id}} name:{{this.$route.params.name}} \u0026lt;/h1\u0026gt; \u0026lt;/template\u0026gt; ä¼ å‚è¯­æ³•ï¼š/å‚æ•°å€¼1/å‚æ•°å€¼2ï¼Œè¿™é‡Œåªéœ€è¦ä¼ é€’å€¼å³å¯\nå®šä¹‰åŠ¨æ€è·¯ç”±\nå®ä¾‹ä»£ç \nconst router = new VueRouter({ routes: [ { path: \u0026#34;/user/:id/:name\u0026#34;, component: user } ] }) åŠ¨æ€è·¯ç”±è¯­æ³•ï¼Œ:å‚æ•°åï¼Œä»¥å†’å·å¼€å¤´å°±ä»£è¡¨åŠ¨æ€åŒ¹é…\n:idå°±ä¼šåŒ¹é…10ï¼Œ:nameå°±ä¼šåŒ¹é…admin\nè·å–å‚æ•°\n{{$route.params.å‚æ•°å}}\n5. åµŒå¥—è·¯ç”± ä»€ä¹ˆæ˜¯åµŒå¥—è·¯ç”±\nç•Œé¢ä¸­å¦‚æœå­˜åœ¨åµŒå¥—ç»„ä»¶,é‚£ä¹ˆå°±éœ€è¦ç»„ä»¶å¯¹åº”çš„è·¯ç”±ä¹Ÿæ˜¯åµŒå¥—è·¯ç”±\nå®šä¹‰åµŒå¥—è·¯ç”±:\né€šè¿‡åœ¨è·¯ç”±å¯¹è±¡ä¸­å®šä¹‰childrenå±æ€§,å®šä¹‰åµŒå¥—çš„å­è·¯ç”±\nç¤ºä¾‹ä»£ç \nvar router = new VueRouter({ routes:[{ path: \u0026#39;/home\u0026#39;, component: home, children:[ {path: \u0026#39;login\u0026#39;, component: login}, {path: \u0026#39;register\u0026#39;, component: register} ] }] }) ä½¿ç”¨åµŒå¥—è·¯ç”±\nç¤ºä¾‹ä»£ç :\n\u0026lt;router-link to=\u0026#34;/çˆ¶è·¯ç”±çš„åœ°å€/è¦å»çš„å­è·¯ç”±\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt; å­è·¯ç”±çš„urlæ˜¯:çˆ¶path/å­path\n6. å‘½åè·¯ç”± å¦‚æœè·¯ç”±çš„pathæ¯”è¾ƒé•¿,ä½¿ç”¨çš„æ—¶å€™æ¯”è¾ƒéº»çƒ¦,è¿™æ—¶å€™å¯ä»¥ç»™è·¯ç”±èµ·ä¸ªåå­—,ç”¨çš„æ—¶å€™é€šè¿‡åå­—ä½¿ç”¨\nå®šä¹‰å‘½åè·¯ç”±\nç¤ºä¾‹ä»£ç \nâ€‹\nconst router = new VueRouter({ routes: [ { path: \u0026#39;/user/:id\u0026#39;, name: \u0026#39;user\u0026#39;, component: user } ] }) åœ¨å®šä¹‰è·¯ç”±å¯¹è±¡æ—¶,é€šè¿‡nameæ¥ç»™è·¯ç”±èµ·åå­—\nä½¿ç”¨å‘½åè·¯ç”±\nç¤ºä¾‹ä»£ç \n\u0026lt;router-link :to=\u0026#34;{name:\u0026#39;user\u0026#39;, params: {id:123}}\u0026#34;\u0026gt;ç™»å½•\u0026lt;/router-link\u0026gt; ä½¿ç”¨å±æ€§ç»‘å®š,æ˜¯å› ä¸ºtoçš„å€¼æ˜¯ä¸€ä¸ªjså¯¹è±¡\n7. å‘½åè§†å›¾ ç»™è§†å›¾èµ·åå­—,å°±æ˜¯å‘½åè§†å›¾\nåœ¨å¼€å‘ä¸­æƒ³åŒæ—¶æ˜¾ç¤ºå¤šä¸ªåŒçº§è§†å›¾,è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨å‘½åè§†å›¾\nå®šä¹‰å‘½åè§†å›¾\nç¤ºä¾‹ä»£ç \n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;router-view name=\u0026#34;left\u0026#34;\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;router-view name=\u0026#34;main\u0026#34;\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; é€šè¿‡nameå±æ€§ç»™router-viewæ·»åŠ åå­—\nè·¯ç”±è§„åˆ™ä½¿ç”¨å‘½åè§†å›¾\nç¤ºä¾‹ä»£ç \nvar header = { template: \u0026#39;\u0026lt;h1 class=\u0026#34;header\u0026#34;\u0026gt;headerå¤´éƒ¨åŒºåŸŸ\u0026lt;/h1\u0026gt;\u0026#39; } var sidebar = { template: \u0026#39;\u0026lt;h1 class=\u0026#34;sidebar\u0026#34;\u0026gt;sidebaræµ‹å¯¼èˆªåŒºåŸŸ\u0026lt;/h1\u0026gt;\u0026#39; } var mainbox = { template: \u0026#39;\u0026lt;h1 class=\u0026#34;main\u0026#34;\u0026gt;mainBoxä¸»é¢˜åŒºåŸŸ\u0026lt;/h1\u0026gt;\u0026#39; } è·¯ç”±å¯¹è±¡ä¸­é€šè¿‡componentsæ¥ä½¿ç”¨å¤šä¸ªè§†å›¾\n8. ç¼–ç¨‹å¼å¯¼èˆª router.push()\npush:æ¨,pushæ–¹æ³•å¯ä»¥å®ç°urlè·³è½¬\nè¯­æ³•:\n//å…ˆè·å–routerå®ä¾‹ var router = new VueRouter() //å­—ç¬¦ä¸²å½¢å¼ router.push(\u0026#39;user\u0026#39;) //å¯¹è±¡å½¢å¼ router.push({path:\u0026#39;/login?url=\u0026#39;+this.$route.path}) //å‘½åè·¯ç”± router.push({name:\u0026#39;user\u0026#39;, params:{userId:123}}) //å¸¦æŸ¥è¯¢å‚æ•°/user?id=1 route.push({path:\u0026#39;user\u0026#39;,queyr:{id:\u0026#39;1\u0026#39;}}) pushå¯ä»¥ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„,ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡\nå¯¹è±¡ä¸­å¯ä»¥æ˜¯è·¯å¾„path,ä¹Ÿå¯ä»¥æ˜¯è·¯ç”±çš„åå­—\næ³¨æ„\nåœ¨å‚æ•°å¯¹è±¡ä¸­,å¦‚æœæä¾›äº†path,paramsä¼šè¢«å¿½ç•¥,ä¸ºäº†ä¼ å‚æ•°,éœ€è¦æä¾›è·¯ç”±çš„nameæˆ–è€…æ‰‹å†™å¸¦æœ‰å‚æ•°çš„è·¯å¾„\nconst userId = \u0026#39;123\u0026#39; router.push({name:\u0026#39;user\u0026#39;, params:{userId}}) // /user/123 router.push({path:\u0026#39;/user/${userId}\u0026#39;})\t// /user/123 //è¿™é‡Œçš„paramsä¸ç”Ÿæ•ˆ router.push({path:\u0026#39;/user\u0026#39;, params:{userId}})// /user router.replace()\nreplace:æ›¿æ¢,å¯ä»¥æ›¿æ¢å½“å‰ç•Œé¢çš„url\nè¯­æ³•\n//ç¼–ç¨‹å¼ router.replace({path:\u0026#39;user\u0026#39;}) //å£°æ˜å¼ \u0026lt;router-link :to=\u0026#34;{path:\u0026#39;user\u0026#39;} replace\u0026#34;\u0026gt;\u0026lt;/router-link\u0026gt; ä¸pushçš„åŒºåˆ«:pushæœ‰historyè®°å½•,replaceæ²¡æœ‰\nrouter.go()\ngo:å»,å¯ä»¥å®ç°å‰è¿›åé€€ go()æ–¹æ³•,æ¥å—æ­£æ•°æˆ–è´Ÿæ•°,è¡¨ç¤ºå‰è¿›æˆ–åé€€ åé€€ä¸€ä¸ªç•Œé¢:$router.go(-1) å‰è¿›ä¸€ä¸ªç•Œé¢:$router.go(1) VuexçŠ¶æ€ç®¡ç† åˆå§‹Vuex Vuexæ˜¯ä¸€å¥—ç»„ä»¶çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†ç»´æŠ¤å·¥å…·\nä½¿å¾—Vueç»„ä»¶çš„çŠ¶æ€æ›´åŠ å®¹æ˜“ç»´æŠ¤\nåˆ›å»ºVuexçš„storeç¤ºä¾‹\nconst store = new Vuex.Store({ state:{}, mutations:{} }) ä½¿ç”¨Vuexå°±æ˜¯ä½¿ç”¨storeæ¥å¯¹çŠ¶æ€è¿›è¡Œç®¡ç†\nVuexé€šè¿‡store(å­˜å‚¨æ¥å­˜å‚¨æ•°æ®)ï¼Œå¹¶ä¸”ç®¡ç†æ•°æ®\nVuexçš„ä¸‹è½½å’Œå®‰è£… scriptå¼•å…¥æ–‡ä»¶\nä¸‹è½½Vuex\nå¼•å…¥\n\u0026lt;script src=\u0026#34;../js/vuex.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; ä½¿ç”¨\nåˆ›å»ºstore\nconst store = new Vuex.Store({ state: { name: \u0026#39;vuex.jsç›´æ¥å¼•ç”¨\u0026#39; } }) å®ä¾‹åŒ–Storeçš„æ—¶å€™ï¼Œå¯ä»¥ä¼ å…¥stateé€‰é¡¹\nstateé€‰é¡¹ï¼šçŠ¶æ€é€‰é¡¹ï¼Œæ•°æ®é€‰é¡¹ï¼Œç”¨äºå®šä¹‰è¦å­˜å‚¨çš„æ•°æ®\næŒ‚è½½store\nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, store }) ä½¿ç”¨stateæ•°æ®\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt; {{this.$store.state.name}} \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; è·å–stateæ•°æ®æ˜¯ä¸€å±‚ä¸€å±‚çš„è·å–çš„\nthisä¸­æœ‰storeé€‰é¡¹ï¼Œæ‰€ä»¥ï¼šthis.$store\nstoreä¸­æœ‰stateï¼Œæ‰€ä»¥this.$store.state\nstateä¸­æœ‰nameï¼Œæ‰€ä»¥this.$store.state.name\nä½¿ç”¨è®¡ç®—å±æ€§\nä¸Šè¾¹çš„æ–¹å¼ï¼Œä½¿ç”¨stateæ•°æ®ï¼Œå¤ªéº»çƒ¦äº†ï¼Œæ¯æ¬¡éƒ½è¦this.$store.state.name\næˆ‘ä»¬å¯ä»¥åœ¨è®¡ç®—å±æ€§ä¸­å°†stateæ•°æ®è¿”å›ï¼Œç›¸å½“äºå°†stateæ•°æ®å˜ä¸ºè®¡ç®—å±æ€§ï¼Œè¿™æ ·åœ¨ä½¿ç”¨çš„æ—¶å€™å°±ç®€å•å¾ˆå¤š\nå®šä¹‰è®¡ç®—å±æ€§\nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, store, computed: { name() { return this.$store.state.name; } } }) ä½¿ç”¨\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt; {{name}} \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; mapStateè¾…åŠ©å‡½æ•°\nå½“ä¸€ä¸ªç»„ä»¶éœ€è¦è·å–å¤šä¸ªçŠ¶æ€æ—¶ï¼Œå°†è¿™äº›çŠ¶æ€éƒ½å£°æ˜ä¸ºè®¡ç®—å±æ€§æœ‰äº›éº»çƒ¦ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨mapStateè¾…åŠ©å‡½æ•°æ¥ç”Ÿæˆè®¡ç®—å±æ€§\nä½¿ç”¨mapState\nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, store, computed: Vuex.mapState({ //key:è®¡ç®—å±æ€§çš„åå­— //value:å‡½æ•°ï¼Œå°†stateæ•°æ®è¿”å› name: state =\u0026gt; state.name }) }) mapStateæ˜¯Vuexæä¾›çš„ä¸€ä¸ªæ–¹æ³• mapStateï¼Œæ˜¯çŠ¶æ€æ˜ å°„ï¼Œç†è§£ä¸ºå°†stateæ•°æ®æ˜ å°„ï¼ˆè½¬æ¢ï¼‰ä¸ºè®¡ç®—å±æ€§ mapStateæ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å¯ä»¥æ˜ å°„å¤šä¸ªæ•°æ® å¯¹è±¡ä¸­çš„keyæ˜¯è®¡ç®—å±æ€§çš„åå­—ï¼Œvalueæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°æœ‰ä¸€ä¸ªstateå‚æ•°ç„¶åç›´æ¥å°†stateçš„æ•°æ®è¿”å›å³å¯ ä½¿ç”¨æ•°æ®\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt; {{name}} \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; npmå®‰è£…\néœ€è¦èˆ¹èˆ°å‡ºæ¥ä¸€ä¸ªé¡¹ç›®æ‰å¯ä»¥å¯¼å…¥npmå®‰è£…çš„åŒ…\nåˆ›å»ºé¡¹ç›®éœ€è¦è„šæ‰‹æ¶vue-cli npm install vue-cli \u0026ndash;save åˆ›å»ºwebpackæ¨¡æ¿çš„vueé¡¹ç›®\nvue init webpack demo02 cd demo02 å®‰è£…vuex\nnpm install vuex@3.1.1 \u0026ndash;save å®šä¹‰storeçš„æ•°æ®\nåˆ›å»ºstore\\index.jsæ–‡ä»¶ï¼Œç”¨æ¥å¯¼å‡ºstoreå®ä¾‹\nimport Vue from \u0026#39;vue\u0026#39; import Vuex from \u0026#39;Vuex\u0026#39; Vue.use(Vuex) export default new Vuex.Store({ state: {name: \u0026#39;æ­£åœ¨ä½¿ç”¨Vuex\u0026#39;} }) é€šè¿‡importå¯¼å…¥npmå®‰è£…çš„åŒ…\né€šè¿‡Vue.useå®‰è£…Vuex\nexport defaultå°†storeå¯¼å‡ºï¼Œå…¶ä»–ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨\nå¯¼å…¥store\nä¿®æ”¹src\\main.jsæ–‡ä»¶å¯¼å…¥ç›¸å…³æ–‡ä»¶\nimport Vue from \u0026#39;vue\u0026#39; import App from \u0026#39;./App\u0026#39; import router from \u0026#39;./router\u0026#39; import store from \u0026#39;./store\u0026#39; Vue.config.productionTip = false å¯¼å…¥Vueï¼Œå¹¶ä¸”é…ç½®productionTipä¸ºfalse å¯¼å…¥æ ¹ç»„ä»¶App å¯¼å…¥è·¯ç”±router å¯¼å…¥æ•°æ®store æ³¨å†Œstore\nä¿®æ”¹src\\main.jsæ–‡ä»¶ï¼Œåœ¨Vueå®ä¾‹ä¸­æ³¨å†Œstore\n/*eslint-disable no new*/ new Vue({ el:\u0026#39;#app\u0026#39;, router, components:{App}, template:\u0026#39;\u0026lt;App/\u0026gt;\u0026#39;, store }) eslint-disable no-newï¼šæ˜¯å…³é—­eslintè¯­æ³•æ ¡éªŒ components:{App}:æ³¨å†Œç»„ä»¶App template: '\u0026lt;App/\u0026gt;'ä½¿ç”¨ç»„ä»¶Appï¼ŒApp.vueä¸­çš„#appçš„div el: \u0026lsquo;#app\u0026rsquo;, è¿™ä¸ªæ˜¯index.htmlä¸­çš„div ä¿®æ”¹App.vue\næ˜ å°„stateæ•°æ®\n\u0026lt;script\u0026gt; import { mapState } from \u0026#34;vuex\u0026#34;; export default { name: \u0026#34;App\u0026#34;, computed: mapState({ name: (state) =\u0026gt; state.name, }), }; \u0026lt;/script\u0026gt; ä½¿ç”¨æ•°æ®\n\u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ name }}\u0026lt;/p\u0026gt; \u0026lt;img src=\u0026#34;./assets/logo.png\u0026#34; /\u0026gt; \u0026lt;router-view /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; è¿è¡Œé¡¹ç›® npm run dev\nVuexçŠ¶æ€ç®¡ç†æ¨¡å¼ å•é¡¹æ•°æ®æµæœºåˆ¶ï¼šåœ¨Vueä¸­ï¼Œç»„ä»¶çš„çŠ¶æ€å˜åŒ–æ˜¯é€šè¿‡Vueå•å‘æ•°æ®æµçš„è®¾è®¡ç†å¿µå®ç°çš„ã€‚\nå•é¡¹æ•°æ®æµç»„æˆéƒ¨åˆ†ä¸»è¦åŒ…æ‹¬\nStateï¼šé©±åŠ¨åº”ç”¨çš„æ•°æ®æº Viewï¼šä»¥å£°æ˜æ–¹å¼å°†stateæ˜ å°„åˆ°è§†å›¾ Actionsï¼šå“åº”åœ¨Viewä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çŠ¶æ€å˜åŒ– ä»£ç :\nnew Vue({ //State data(){ return {count: 0} }, //View template: \u0026#39;\u0026lt;div\u0026gt;{{ count }}\u0026lt;/div\u0026gt;\u0026#39;, //Actions methods:{ increment(){ this.count++; } } }) Vuexçš„å·¥ä½œæµç¨‹å…³ç³» actionsã€mutationså’Œstateçš„å…³ç³»\nStateæ•°æ®renderæ¸²æŸ“åˆ°vueç»„ä»¶ ç”¨æˆ·åœ¨Vueç»„ä»¶ä¸­ç‚¹å‡»æŒ‰é’®ï¼Œè§¦å‘é€»è¾‘Actions Actionsä¸­é€šè¿‡commitè§¦å‘ä¿®æ”¹æ•°æ®é€»è¾‘Mutations Mutationsä¿®æ”¹çš„stateï¼Œé‡æ–°æ¸²æŸ“åˆ°Vueç»„ä»¶ Vuexé…ç½®é€‰é¡¹ 1.mutations mutationsæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ªæ–¹æ³•\nmutationsæ–¹æ³•ç”¨æ¥æ“ä½œstateæ•°æ®ï¼ˆç¿»è¯‘ï¼šå˜åŒ–ï¼Œç†è§£ä¸ºæ•°æ®å˜åŒ–ï¼‰\nmutationsæ–¹æ³•æ¥å—stateå¯¹è±¡ä½œä¸ºå‚æ•°\nåœ¨ç»„ä»¶ä¸­é€šè¿‡store.commit(\u0026ldquo;mutationsæ–¹æ³•å\u0026rdquo;)æ¥è§¦å‘mutationsæ–¹æ³•æ‰§è¡Œ\nä»£ç ï¼š\nconst store = new Vuex.Store({ state: { param: \u0026#34;\u0026#34; }, mutations: { reciver(state, param) { this.state.param = param; console.log(param); } } }) new Vue({ el: \u0026#34;#app\u0026#34;, store: store, methods: { param() { this.$store.commit({ type: \u0026#34;reciver\u0026#34;, name: \u0026#34;æˆ‘æ˜¯ä¼ é€’çš„æ•°æ®\u0026#34; }) } }, }) 2.actions actionsç±»ä¼¼äºmutationsï¼Œä¸åŒä¹‹å¤„åœ¨äºactionsæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼ˆç¿»è¯‘ï¼šåŠ¨ä½œï¼Œç†è§£ä¸ºæ‰§è¡Œå¼‚æ­¥åŠ¨ä½œï¼‰\nactionså‡½æ•°æ¥å—storeå¯¹è±¡ï¼Œç”¨äºå®Œæˆmutationsæäº¤\nstoreçš„dispatchæ–¹æ³•è§¦å‘actionså‡½æ•°\nä»£ç \nconst store = new Vuex.Store({ state: { count: 0 }, //mutationsï¼šä¸“é—¨ç”¨æ¥ä¿®æ”¹stateçš„æ•°æ® mutations: { increment(state) { state.count++; } }, actions: { add(context) { setTimeout(() =\u0026gt; { context.commit(\u0026#34;increment\u0026#34;) }, 1000); } } }) contextå³ä¸ºstoreå®ä¾‹\nç®€å†™\nactions:{ add({commit}){ commit(\u0026#34;increment\u0026#34;)\t}\t} var vm = new Vue({ el: \u0026#39;#app\u0026#39;, store, methods: { calc() { this.$store.dispatch(\u0026#34;add\u0026#34;); } }, }); storeçš„dispatchæ–¹æ³•ï¼Œç”¨äºè§¦å‘actionsæ–¹æ³•\n3.getters gettersï¼Œç±»ä¼¼äºVueå®ä¾‹çš„computedè®¡ç®—å±æ€§ï¼ˆç¿»è¯‘ï¼šè·å–è€…ï¼Œè·å–è®¡ç®—ä¹‹åçš„æ•°æ®ï¼‰\nå®šä¹‰\nconst store = new Vuex.Store({ state: { todos: [{ id: 1, text: \u0026#39;åˆ—è¡¨1\u0026#39; }, { id: 2, text: \u0026#39;åˆ—è¡¨2\u0026#39; }], id: 0 }, mutations: { searchM(state, id) { state.id = id; } }, getters: { searchG: state =\u0026gt; { return state.todos.filter( todo =\u0026gt; (todo.id == state.id) ) } } }) gettersæ˜¯è®¡ç®—å±æ€§ï¼Œè®¡ç®—å±æ€§å…¶å®æ˜¯æ–¹æ³•ï¼Œåªä¸è¿‡ä½¿ç”¨çš„æ—¶å€™æ˜¯å±æ€§\nä½¿ç”¨\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;åˆ—è¡¨æŸ¥è¯¢\u0026lt;/h2\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;id\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;search\u0026#34;\u0026gt;æœç´¢\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;æœç´¢ç»“æœï¼š{{this.$store.getters.searchG}}\u0026lt;/p\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;item in this.$store.state.todos\u0026#34;\u0026gt;{{item}}\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; 4.modules modulesæ¨¡å—å°±æ˜¯ä¸ºäº†åº”å¯¹å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œå°†æ•°æ®ä¸æ“ä½œæ•°æ®çš„é€»è¾‘åˆ†æ¨¡å—å¤„ç†\nmodulesçš„é…ç½®é€‰é¡¹ï¼š\nä¸storeæ•°æ®å‚è€ƒä¸­çš„å‚æ•°æ˜¯ç›¸åŒçš„\nkey:{\t//keyè¡¨ç¤ºæ¨¡å—åç§° state,\t//åˆå§‹æ•°æ® mutations,\t//çŠ¶æ€æäº¤ï¼ŒåŒæ­¥ actions,\t//çŠ¶æ€åˆ†å‘ï¼Œå¼‚æ­¥ getters,\t//è®¡ç®—å±æ€§ modules\t//æ¨¡å— } ä»£ç \nconst moduleA = { state: { nameA: \u0026#39;A\u0026#39; } } const moduleB = { state: { nameB: \u0026#39;B\u0026#39; } } const store = new Vuex.Store({ modules: { a: moduleA, b: moduleB } }); console.log(store.state.a); console.log(store.state.b); 5.plugins ç”¨äºç»™Vuexæ·»åŠ æ’ä»¶ï¼Œæ’ä»¶æœ¬èº«ä¸ºå‡½æ•°\nå‡½æ•°æ¥å—å‚æ•°storeå¯¹è±¡ä½œä¸ºå‚æ•°\nä»£ç \nconst myPlugin = store =\u0026gt; { store.subscribe((mutation, state) =\u0026gt; { // æ¯æ¬¡mutationæäº¤åè°ƒç”¨ï¼Œmutationæ ¼å¼{type, paylooad} console.log(mutation.type, mutation.payload); }) } const store = new Vuex.Store({ mutations: { do(state) { console.log(state); } }, plugins: [myPlugin] }); var vm = new Vue({ el: \u0026#39;#app\u0026#39;, store, }); store.commit(\u0026#39;do\u0026#39;, \u0026#39;plugin\u0026#39;) æ’ä»¶å‡½æ•°ä¸­é€šè¿‡storeå®ä¾‹å¯¹è±¡çš„subscribeå‡½æ•°å¯ä»¥ç”¨æ¥å¤„ç†mutation\nsubscribeå‡½æ•°æ¥å—å‚æ•°ä¸ºmutationå’Œstate\nä½œç”¨ï¼šä¸€èˆ¬åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬ä¼šä½¿ç”¨pluginåˆå§‹åŒ–ä¸€äº›æ•°æ®\n6.devtools ç”¨æ¥è®¾ç½®æ˜¯å¦åœ¨devtoolsè°ƒè¯•å·¥å…·ä¸­åº”ç”¨Vuex é»˜è®¤å€¼ä¸ºtrueï¼Œè¡¨ç¤ºåœ¨å¯ç”¨ï¼Œè®¾ä¸ºfalseè¡¨ç¤ºåœæ­¢ä½¿ç”¨ Vuexä¸­çš„API æ¨¡å—æ³¨å†Œ store.registerModule()ç”¨äºåŠ¨æ€åˆ›å»ºæ¨¡å—çš„æ¥å£\nä¸modulesé€‰é¡¹ä½œç”¨ç±»ä¼¼ï¼Œä½†æ˜¯registerModule()æ›´åŠ çµæ´»\nä»£ç \nconst store = new Vuex.Store({ state: {}, }); store.registerModule(\u0026#39;myModule\u0026#39;, { state: { name: \u0026#34;æˆ‘æ˜¯æ³¨å†Œæ¨¡å—çš„æ•°æ®\u0026#34; } }) modulesé€‰é¡¹åªèƒ½åœ¨å®ä¾‹åŒ–storeçš„æ—¶å€™ï¼Œæ³¨å†Œæ¨¡å—\nregisterMudule()æ–¹æ³•åªè¦æ˜¯èƒ½å¤Ÿè·å–åˆ°storeå¯¹è±¡çš„åœ°æ–¹éƒ½å¯ä»¥æ³¨å†Œ\nçŠ¶æ€æ›¿æ¢ store.replaceState()æ–¹æ³•ç”¨äºå®ç°çŠ¶æ€æ›¿æ¢\nè¯¥æ–¹æ³•æ¥å—æ–°çš„stateå¯¹è±¡\nä»£ç \nconst store = new Vuex.Store({ state: { name: \u0026#39;æˆ‘æ˜¯åˆå§‹å€¼æ•°æ®\u0026#39; } }); store.replaceState({ name: \u0026#34;æ›¿æ¢åçš„æ–°æ•°æ®\u0026#34; }) var vm = new Vue({ el: \u0026#34;#app\u0026#34;, store, }) \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{this.$store.state.name}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; ","permalink":"https://rexhub.space/posts/front/vue/vue%E8%BF%9B%E9%98%B6/","summary":"Vueè¿›é˜¶ Vueè·¯ç”± 1.åˆå§‹è·¯ç”± **è·¯ç”±**ï¼šè¡¨ç¤ºä¸€ç§å¯¹åº”å…³ç³»ï¼ŒæŸäº›äº‹ç‰©çš„ä¸€ä¸€å¯¹åº”çš„å…³ç³» **åç«¯è·¯ç”±**ï¼šåç«¯è·¯ç”±æ˜¯ç”±æœåŠ¡å™¨ç«¯è¿›è¡Œå®ç°ï¼Œå¹¶å®Œæˆèµ„æºçš„åˆ†å‘ï¼ˆurlä¸èµ„æº/æ•°æ®çš„å¯¹åº”å…³ç³»ï¼‰ **å‰ç«¯è·¯ç”±**ï¼šå‰ç«¯è·¯ç”±æ˜¯ä¾é hashå€¼ï¼ˆé”šç‚¹é“¾æ¥ï¼‰çš„å˜åŒ–è¿›è¡Œå®ç°é¡µé¢å†…å®¹çš„åˆ‡æ¢ï¼ˆé”šç‚¹ä¸ç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼‰ 2.vue-router vue-routerå·¥ä½œåŸç†\nå®ƒæ˜¯ä¸€ä¸ªVue.jså®˜æ–¹æä¾›çš„è·¯ç”±ç®¡ç†å™¨ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½æ›´åŠ å¼ºå¤§çš„å‰ç«¯è·¯ç”±å™¨ï¼Œå¯ä»¥å®ç°å‰ç«¯ç•Œé¢å†…å®¹åˆ‡æ¢\nSPAï¼šSingle Page Applicationï¼Œå•é¡µé¢åº”ç”¨ï¼Œæ•´ä¸ªç½‘ç«™åªæœ‰ä¸€ä¸ªé¡µé¢\nSPAæ¨èä½¿ç”¨vue-routerï¼Œå®ç°ç•Œé¢å†…å®¹çš„åˆ‡æ¢\nvue-routeræä¾›ä¸¤ç§æ¨¡å¼\nhashæ¨¡å¼ï¼šhashåˆå«é”šç‚¹ï¼šæ¯”å¦‚#/loginï¼Œæ ¹æ®hashæ”¹å˜ï¼Œæ¥å®ç°ç•Œé¢åˆ‡æ¢\nhistoryæ¨¡å¼ï¼šhistoryæ¨¡å¼ä¸ä¼šå‡ºç°#å·æ¯”è¾ƒç¾è§‚ï¼Œåˆ©ç”¨history.pushState()æ¥å®ŒæˆURLçš„è·³è½¬è€Œä¸”æ— é¡»é‡å†™åŠ è½½é¡µé¢\nç¤ºä¾‹ä»£ç \nconst router = new VueRouter({ mode: \u0026#39;history\u0026#39;, router: [...] }) vue-routeré»˜è®¤ä¸ºhashæ¨¡å¼ï¼Œéœ€è¦é€šè¿‡modeæ¥æ”¹å˜æ¨¡å¼\nvue-routeråŸºæœ¬ä½¿ç”¨\nå¼•å…¥vue-router.js\nå®šä¹‰è·¯ç”±é“¾æ¥å’Œè·¯ç”±è§†å›¾\nä»£ç ç¤ºä¾‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;router-link to=\u0026#34;/login\u0026#34; tag=\u0026#34;span\u0026#34;\u0026gt;å‰å¾€ç™»å½•\u0026lt;/router-link\u0026gt; \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;/div\u0026gt; router-linkæ˜¯è·¯ç”±é“¾æ¥ï¼Œtoä»£è¡¨é“¾æ¥åœ°å€ï¼Œtagä»£è¡¨æ¸²æŸ“çš„æ ‡ç­¾\nrouter-viewæ˜¯è·¯ç”±è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºè·¯ç”±é“¾æ¥å¯¹åº”çš„ç»„ä»¶\nå®šä¹‰è·¯ç”±åŒ¹é…è§„åˆ™\nä»£ç ç¤ºä¾‹\nvar login = { template: \u0026#34;\u0026lt;h1\u0026gt;ç™»å½•ç»„ä»¶\u0026lt;/h1\u0026gt;\u0026#34; } const router = new VueRouter({ routes: [ { path: \u0026#39;/login\u0026#39;, component: login } ] }); åœ¨å®ä¾‹åŒ–VueRouterçš„æ—¶å€™ä¼ å…¥routes\né€šè¿‡routeså®šä¹‰è·¯ç”±åŒ¹é…è§„åˆ™ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ª\nåŒ¹é…è§„åˆ™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œkeyæ˜¯è·¯ç”±é“¾æ¥pathï¼Œvalueæ˜¯ç»„ä»¶component\næ³¨å†Œè·¯ç”±\nä»£ç ç¤ºä¾‹","title":"Vueè¿›é˜¶"},{"content":"JPA ä¸€ã€ä»€ä¹ˆæ˜¯jpa â€‹\tJPAæ˜¯Java Persistence APIçš„æ„æ€ï¼Œæ˜¯ä¸€ç§ORMæ¡†æ¶ã€‚æ˜¯ä½¿ç”¨JDK 5.0æ³¨è§£æˆ–XMLæè¿°å¯¹è±¡ï¼å…³ç³»è¡¨çš„æ˜ å°„å…³ç³»çš„å…ƒæ•°æ®ï¼Œå¹¶å°†è¿è¡ŒæœŸçš„é¢å‘å¯¹è±¡è¯­è¨€ç¨‹åºä¸­çš„å®ä½“å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ã€‚\näºŒã€åŸºäºæ³¨è§£çš„ä½¿ç”¨ JPAå¸¸ç”¨æ³¨è§£ æ³¨è§£ è§£é‡Š @Entity å£°æ˜ç±»ä¸ºå®ä½“æˆ–è¡¨ã€‚ @Table å£°æ˜è¡¨åã€‚ @Basic æŒ‡æ˜éçº¦æŸæ˜ç¡®çš„å„ä¸ªå­—æ®µã€‚ @Embedded æŒ‡å®šç±»æˆ–å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¯åµŒå…¥çš„ç±»çš„å®ä½“çš„å±æ€§ã€‚ @Id æŒ‡å®šçš„ç±»çš„å±æ€§ï¼Œç”¨äºè¯†åˆ«ï¼ˆä¸€ä¸ªè¡¨ä¸­çš„ä¸»é”®ï¼‰ã€‚ @GeneratedValue æŒ‡å®šå¦‚ä½•æ ‡è¯†å±æ€§å¯ä»¥è¢«åˆå§‹åŒ–ï¼Œä¾‹å¦‚è‡ªåŠ¨ã€æ‰‹åŠ¨ã€æˆ–ä»åºåˆ—è¡¨ä¸­è·å¾—çš„å€¼ã€‚ @Transient æŒ‡å®šçš„å±æ€§ï¼Œå®ƒæ˜¯ä¸æŒä¹…çš„ï¼Œå³ï¼šè¯¥å€¼æ°¸è¿œä¸ä¼šå­˜å‚¨å†æ•°æ®åº“ä¸­ã€‚ @Column æŒ‡å®šæŒä¹…å±æ€§æ å±æ€§ã€‚ @SequenceGenerator æŒ‡å®šåœ¨@GeneratedValueæ³¨è§£ä¸­æŒ‡å®šçš„å±æ€§çš„å€¼ã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ªåºåˆ—ã€‚ @TableGenerator æŒ‡å®šåœ¨@GeneratedValueæ‰¹æ³¨æŒ‡å®šå±æ€§çš„å€¼å‘ç”Ÿå™¨ã€‚å®ƒåˆ›é€ äº†çš„å€¼ç”Ÿæˆçš„è¡¨ã€‚ @AccessType è¿™ç§ç±»å‹çš„æ³¨é‡Šç”¨äºè®¾ç½®è®¿é—®ç±»å‹ã€‚å¦‚æœè®¾ç½®@AccessType(FIELD)ï¼Œåˆ™å¯ä»¥ç›´æ¥è®¿é—®å˜é‡å¹¶ä¸”ä¸éœ€è¦getterå’Œsetterï¼Œä½†å¿…é¡»ä¸ºpublicã€‚å¦‚æœè®¾ç½®@AccessType(PROPERTY)ï¼Œé€šè¿‡getterå’Œsetteræ–¹æ³•è®¿é—®Entityçš„å˜é‡ã€‚ @JoinColumn æŒ‡å®šä¸€ä¸ªå®ä½“ç»„ç»‡æˆ–å®ä½“çš„é›†åˆã€‚è¿™æ˜¯ç”¨åœ¨å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤šå…³è”ã€‚ @UniqueConstraint æŒ‡å®šçš„å­—æ®µå’Œç”¨äºä¸»è¦æˆ–è¾…åŠ©è¡¨çš„å”¯ä¸€çº¦æŸã€‚ @ColumnResult å‚è€ƒä½¿ç”¨selectå­—å¥çš„SQLæŸ¥è¯¢ä¸­çš„åˆ—æ˜ã€‚ @ManyToMany å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´çš„å¤šå¯¹å¤šçš„çš„å…³ç³» @ManyToOne å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´çš„å¤šå¯¹ä¸€çš„å…³ç³» @OneToMany å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´å­˜åœ¨ä¸€ä¸ªä¸€å¯¹å¤šçš„å…³ç³»ã€‚ @OneToOne å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´æœ‰ä¸€ä¸ªä¸€å¯¹ä¸€çš„å…³ç³» @NamedQueries æŒ‡å®šå‘½åæŸ¥è¯¢çš„åˆ—è¡¨ @NamedQuery æŒ‡å®šä½¿ç”¨é™æ€åç§°çš„æŸ¥è¯¢ã€‚ ä¸‰ã€ä½¿ç”¨ åœ¨application.propertiesæ–‡ä»¶ä¸­çš„é…ç½®\n#jpaçš„é…ç½® spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect spring.jpa.show-sql=true spring.jpa.hibernate.ddl-auto=create tips:\nâ€‹\tjpa.hibernate.ddl-autoæ˜¯hibernateçš„é…ç½®å±æ€§ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯ï¼šè‡ªåŠ¨åˆ›å»ºã€æ›´æ–°ã€éªŒè¯æ•°æ®åº“è¡¨ç»“æ„ã€‚è¯¥å‚æ•°çš„å‡ ç§é…ç½®å¦‚ä¸‹ï¼š\ncreateï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶éƒ½ä¼šåˆ é™¤ä¸Šä¸€æ¬¡çš„ç”Ÿæˆçš„è¡¨ï¼Œç„¶åæ ¹æ®ä½ çš„modelç±»å†é‡æ–°æ¥ç”Ÿæˆæ–°è¡¨ï¼Œå“ªæ€•ä¸¤æ¬¡æ²¡æœ‰ä»»ä½•æ”¹å˜ä¹Ÿè¦è¿™æ ·æ‰§è¡Œï¼Œè¿™å°±æ˜¯å¯¼è‡´æ•°æ®åº“è¡¨æ•°æ®ä¸¢å¤±çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚\ncreate-dropï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶æ ¹æ®modelç±»ç”Ÿæˆè¡¨ï¼Œä½†æ˜¯sessionFactoryä¸€å…³é—­,è¡¨å°±è‡ªåŠ¨åˆ é™¤ã€‚\nupdateï¼šæœ€å¸¸ç”¨çš„å±æ€§ï¼Œç¬¬ä¸€æ¬¡åŠ è½½hibernateæ—¶æ ¹æ®modelç±»ä¼šè‡ªåŠ¨å»ºç«‹èµ·è¡¨çš„ç»“æ„ï¼ˆå‰ææ˜¯å…ˆå»ºç«‹å¥½æ•°æ®åº“ï¼‰ï¼Œä»¥ååŠ è½½hibernateæ—¶æ ¹æ®modelç±»è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„ï¼Œå³ä½¿è¡¨ç»“æ„æ”¹å˜äº†ä½†è¡¨ä¸­çš„è¡Œä»ç„¶å­˜åœ¨ä¸ä¼šåˆ é™¤ä»¥å‰çš„è¡Œã€‚è¦æ³¨æ„çš„æ˜¯å½“éƒ¨ç½²åˆ°æœåŠ¡å™¨åï¼Œè¡¨ç»“æ„æ˜¯ä¸ä¼šè¢«é©¬ä¸Šå»ºç«‹èµ·æ¥çš„ï¼Œæ˜¯è¦ç­‰åº”ç”¨ç¬¬ä¸€æ¬¡è¿è¡Œèµ·æ¥åæ‰ä¼šã€‚\nvalidateï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶ï¼ŒéªŒè¯åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„ï¼Œåªä¼šå’Œæ•°æ®åº“ä¸­çš„è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œä¸ä¼šåˆ›å»ºæ–°è¡¨ï¼Œä½†æ˜¯ä¼šæ’å…¥æ–°å€¼ã€‚\nå››ã€JPQLæŸ¥è¯¢ â€‹\tå¸¸ç”¨å…³é”®å­—\nkeyword sample jpaql snippet And findByLastnameAndFirstname \u0026hellip;where x.firstname = ?1 and x.lastname = ?2 Or findByLastnameOrFirstname \u0026hellip;where x.firstname = ?1 or x.lastname = ?2 Is, Equals findByFirstnameIs, findByFirstnameEquals \u0026hellip;where x.firstname = ?1 Between findByStartDateBetween \u0026hellip;where x.firstname between ?1 and ?2 LessThan findByAgeLessThan \u0026hellip;where x.age \u0026lt; ?1 LessThanEqual findByAgeLessThanEqual \u0026hellip;where x.age \u0026lt;= ?1 GreaterThan findByAgeGreaterThan \u0026hellip;where x.age \u0026gt; ?1 GreaterThanEqual findByAgeGreaterThanEqual \u0026hellip;where x.age \u0026gt;= ?1 After findByStartDateAfter \u0026hellip;where x.startDate \u0026gt; ?1 Before findByStartDateBefore \u0026hellip;where x.startDate \u0026lt; ?1 IsNull findByAgeIsNull \u0026hellip;where x.age is null IsNotNull, NotNull findByAge(IS)NotNull \u0026hellip;where x.age not null Like findByFirstnameLike \u0026hellip;where x.firstname like ?1 NotLike findByFirstnameNotLike \u0026hellip;where x.firstname not like ?1 StartingWith findByFirstnameStartingWith \u0026hellip;where x.firstname like ?1(parameter bound with appended %) EndingWith findByFirstnameEndingWith \u0026hellip;where x.firstname like ?1(parameter bound with prepended %) Containing findByFirstnameContaining \u0026hellip;where x.firstname like ?1(parameter bound with wrapped in %) OrderBy findByAgeOrderByLastnameDesc \u0026hellip; where x.age = ?1 order by x.lastname desc Not findByLastnameNot \u0026hellip; where x.lastname \u0026lt;\u0026gt; ?1 In findByAgeIn (Collection ages) \u0026hellip; where x.age in ?1 NotIn findByAgeNotIn (Collection ages) \u0026hellip; where x.age not in ?1 TRUE findByActiveTrue() \u0026hellip;where x.active=true FALSE findByActiveFalse() \u0026hellip;where x.active=false IgnoreCase findByFirstnameIgnoreCase \u0026hellip;where UPPER(x.firstname) = UPPER(?1) äº”ã€è‡ªå®šä¹‰Query ä½¿ç”¨åŸç”Ÿçš„sqlè¯­å¥ @Query(nativeQuery = true) 1.æŸ¥è¯¢ å®ä¾‹ public interface UserRepository extends Repository\u0026lt;User, Long\u0026gt; { /** * æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ * \u0026lt;p\u0026gt; * Userä¸ºORMæ˜ å°„çš„ç±»åï¼Œå³ä¸ºORMæ˜ å°„çš„å®ä½“ç±»å * æ ¹æ®å‚æ•°çš„é¡ºåºï¼Œå‚æ•°åˆ†åˆ«ä¸º?1ï¼Œ?2ï¼Œ?3...... * * @param id * @return */ @Query(\u0026#34;select u from User u where u.id=?1\u0026#34;) public User findUser(Long id); /** * æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ * \u0026lt;p\u0026gt; * Userä¸ºORMæ˜ å°„çš„ç±»åï¼Œå³ä¸ºORMæ˜ å°„çš„å®ä½“ç±»å * :idä¸ºä¼ é€’çš„å‚æ•° * * @param id * @return */ @Query(\u0026#34;select u from User u where u.id=:id\u0026#34;) public User findUserByParam(@Param(\u0026#34;id\u0026#34;) Long id); /** * æ ¹æ®idå’ŒnameæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ * \u0026lt;p\u0026gt; * Userä¸ºORMæ˜ å°„çš„ç±»åï¼Œå³ä¸ºORMæ˜ å°„çš„å®ä½“ç±»å * æ ¹æ®å‚æ•°çš„é¡ºåºï¼Œåˆ†åˆ«ä¸º?1ï¼Œ?2ï¼Œ?3...... * * @param id * @return */ @Query(\u0026#34;select u from User u where u.id=?1 and u.name=?2\u0026#34;) public User findUserByIdAndName(Long id, String name); /** * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ * \u0026lt;p\u0026gt; * Userä¸ºORMæ˜ å°„çš„ç±»åï¼Œå³ä¸ºORMæ˜ å°„çš„å®ä½“ç±»å * * @return */ @Query(\u0026#34;select u from User u\u0026#34;) public List\u0026lt;User\u0026gt; findUserList(); /** * æ ¹æ®nameæ¨¡ç³ŠæŸ¥è¯¢ * \u0026lt;p\u0026gt; * Userä¸ºORMæ˜ å°„çš„ç±»åï¼Œå³ä¸ºORMæ˜ å°„çš„å®ä½“ç±»å * æ ¹æ®å‚æ•°çš„é¡ºåºï¼Œåˆ†åˆ«ä¸º?1ï¼Œ?2ï¼Œ?3...... * * @param name * @return */ @Query(\u0026#34;select u from User u where name like %?1%\u0026#34;) public List\u0026lt;User\u0026gt; findUserListByLikeName(String name); /** * æ ¹æ®nameæ¨¡ç³ŠæŸ¥è¯¢ * \u0026lt;p\u0026gt; * Userä¸ºORMæ˜ å°„çš„ç±»åï¼Œå³ä¸ºORMæ˜ å°„çš„å®ä½“ç±»å * æ ¹æ®å‚æ•°çš„é¡ºåºï¼Œåˆ†åˆ«ä¸º?1ï¼Œ?2ï¼Œ?3...... * * @param name * @return */ @Query(\u0026#34;select u from User u where name like concat(\u0026#39;%\u0026#39;,?1,\u0026#39;%\u0026#39;) \u0026#34;) public List\u0026lt;User\u0026gt; findUserListByLikeConcatName(String name); /** * æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ * \u0026lt;p\u0026gt; * nativeQuery = trueæ—¶ï¼ŒJPAèƒ½å¤Ÿè¯†åˆ«çœŸæ­£çš„SQLè¯­å¥ * * @param id * @return */ @Query(value = \u0026#34;select * from user where id=?1\u0026#34;, nativeQuery = true) public User findUserByNativeQuery(int id); /** * ä½¿ç”¨SpELè¡¨è¾¾å¼ * \u0026lt;p\u0026gt; * ä»Spring Data JPA 1.4ç‰ˆå¼€å§‹ï¼Œæˆ‘ä»¬æ”¯æŒåœ¨æ‰‹åŠ¨å®šä¹‰çš„æŸ¥è¯¢ä¸­ä½¿ç”¨å—é™åˆ¶çš„SpELæ¨¡æ¿è¡¨è¾¾å¼@Queryã€‚ * åœ¨æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œå°†æ ¹æ®é¢„å®šä¹‰çš„å˜é‡é›†è¯„ä¼°è¿™äº›è¡¨è¾¾å¼ã€‚Spring Data JPAæ”¯æŒä¸€ä¸ªåä¸ºçš„å˜é‡entityNameã€‚å®ƒçš„ç”¨æ³•æ˜¯select x from #{#entityName} xã€‚ * å®ƒæ’å…¥entityNameä¸ç»™å®šå­˜å‚¨åº“å…³è”çš„åŸŸç±»å‹ã€‚è¯¥entityNameè§£å†³å¦‚ä¸‹ï¼šå¦‚æœåŸŸç±»å‹å·²è®¾ç½®çš„nameå±æ€§@Entityçš„æ³¨é‡Šï¼Œå®ƒè¢«ä½¿ç”¨ã€‚å¦åˆ™ï¼Œä½¿ç”¨åŸŸç±»å‹çš„ç®€å•ç±»å * * @param name * @return */ @Query(\u0026#34;select u from #{#entityName} u where u.name = ?1\u0026#34;) public List\u0026lt;User\u0026gt; findBySpEL(String name); } 2.æ›´æ–°/åˆ é™¤ ç¤ºä¾‹ â€‹\tUserRepository.java\n@Transactional//äº‹åŠ¡ï¼šåŸå­æ€§ï¼Œå›æ»š @Modifying @Query(\u0026#34;update User set gender=:gender where userName=:name \u0026#34;) public int updateUser(@Param(\u0026#34;gender\u0026#34;) Integer gender ,@Param(\u0026#34;name\u0026#34;) String userName); 3.å¤šè¡¨è”æŸ¥ ç¤ºä¾‹ â€‹\tUserDepartVo.java\n@Data @AllArgsConstructor public class UserDepartVo { String code; String userName; Integer gender; String name; } â€‹\tUserRepository.java\n//æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·çš„codeï¼Œå§“åï¼Œæ€§åˆ«ï¼Œéƒ¨é—¨åç§° @Query(\u0026#34;select new com.wzy.jxx.jpa.UserDepartVo(u.code,u.userName,u.gender,d.name) \u0026#34; + \u0026#34;from User u,Department d where u.departmentId=d.id\u0026#34;) public List\u0026lt;UserDepartVo\u0026gt; getUserDeparment(); 4.åˆ†é¡µæŸ¥è¯¢ ç¤ºä¾‹1 â€‹\tUserRepository.java\n@Query(\u0026#34;select u from User u where gender=?1 and age between ?2 and ?3 \u0026#34;) public Page\u0026lt;User\u0026gt; findPageByGender3(Integer gender, Integer minAge, Integer maxAge,Pageable pageable); â€‹\tUserController.java\n@PostMapping(\u0026#34;/findPageByGender3\u0026#34;) public Page\u0026lt;User\u0026gt; findPageByGender3(Integer page, Integer size,Integer gender, Integer minAge, Integer maxAge){ Pageable pageable = PageRequest.of(page,size); return userRepository.findPageByGender3(gender, minAge, maxAge, pageable); } ç¤ºä¾‹2 â€‹\tUserRepository.java\n@Query(value = \u0026#34;select * from User WHERE gender = ?1\u0026#34;,nativeQuery = true) Page\u0026lt;User\u0026gt; findPageByGender(Integer gender, Pageable page); â€‹\tUserController.java\n@PostMapping(\u0026#34;findPageByGender\u0026#34;) public Page\u0026lt;User\u0026gt; findPageByGender(Integer gender){ Pageable pageable = PageRequest.of(0,20); Page\u0026lt;User\u0026gt; userPage = userRepository.findPageByGender(gender,pageable); List\u0026lt;User\u0026gt; users = userPage.getContent(); return userPage; } 5.æ’åºæŸ¥è¯¢ ç¤ºä¾‹ â€‹\tUserRepository.java\n@Query(value = \u0026#34;select u from User u WHERE gender = ?1\u0026#34;) List\u0026lt;User\u0026gt; findByGenderSort(Integer gender, Sort sort); â€‹\tUserController.java\n@PostMapping(\u0026#34;findByGenderSort\u0026#34;) public List\u0026lt;User\u0026gt; findByGenderSort(Integer gender){ Sort sort = Sort.by(Sort.Direction.DESC, \u0026#34;id\u0026#34;); List\u0026lt;User\u0026gt; users = userRepository.findByGenderSort(gender,sort); return users; } ","permalink":"https://rexhub.space/posts/back/java/jdbctool/jpa%D1%A7%CF%B0/","summary":"JPA ä¸€ã€ä»€ä¹ˆæ˜¯jpa â€‹\tJPAæ˜¯Java Persistence APIçš„æ„æ€ï¼Œæ˜¯ä¸€ç§ORMæ¡†æ¶ã€‚æ˜¯ä½¿ç”¨JDK 5.0æ³¨è§£æˆ–XMLæè¿°å¯¹è±¡ï¼å…³ç³»è¡¨çš„æ˜ å°„å…³ç³»çš„å…ƒæ•°æ®ï¼Œå¹¶å°†è¿è¡ŒæœŸçš„é¢å‘å¯¹è±¡è¯­è¨€ç¨‹åºä¸­çš„å®ä½“å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ã€‚\näºŒã€åŸºäºæ³¨è§£çš„ä½¿ç”¨ JPAå¸¸ç”¨æ³¨è§£ æ³¨è§£ è§£é‡Š @Entity å£°æ˜ç±»ä¸ºå®ä½“æˆ–è¡¨ã€‚ @Table å£°æ˜è¡¨åã€‚ @Basic æŒ‡æ˜éçº¦æŸæ˜ç¡®çš„å„ä¸ªå­—æ®µã€‚ @Embedded æŒ‡å®šç±»æˆ–å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¯åµŒå…¥çš„ç±»çš„å®ä½“çš„å±æ€§ã€‚ @Id æŒ‡å®šçš„ç±»çš„å±æ€§ï¼Œç”¨äºè¯†åˆ«ï¼ˆä¸€ä¸ªè¡¨ä¸­çš„ä¸»é”®ï¼‰ã€‚ @GeneratedValue æŒ‡å®šå¦‚ä½•æ ‡è¯†å±æ€§å¯ä»¥è¢«åˆå§‹åŒ–ï¼Œä¾‹å¦‚è‡ªåŠ¨ã€æ‰‹åŠ¨ã€æˆ–ä»åºåˆ—è¡¨ä¸­è·å¾—çš„å€¼ã€‚ @Transient æŒ‡å®šçš„å±æ€§ï¼Œå®ƒæ˜¯ä¸æŒä¹…çš„ï¼Œå³ï¼šè¯¥å€¼æ°¸è¿œä¸ä¼šå­˜å‚¨å†æ•°æ®åº“ä¸­ã€‚ @Column æŒ‡å®šæŒä¹…å±æ€§æ å±æ€§ã€‚ @SequenceGenerator æŒ‡å®šåœ¨@GeneratedValueæ³¨è§£ä¸­æŒ‡å®šçš„å±æ€§çš„å€¼ã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ªåºåˆ—ã€‚ @TableGenerator æŒ‡å®šåœ¨@GeneratedValueæ‰¹æ³¨æŒ‡å®šå±æ€§çš„å€¼å‘ç”Ÿå™¨ã€‚å®ƒåˆ›é€ äº†çš„å€¼ç”Ÿæˆçš„è¡¨ã€‚ @AccessType è¿™ç§ç±»å‹çš„æ³¨é‡Šç”¨äºè®¾ç½®è®¿é—®ç±»å‹ã€‚å¦‚æœè®¾ç½®@AccessType(FIELD)ï¼Œåˆ™å¯ä»¥ç›´æ¥è®¿é—®å˜é‡å¹¶ä¸”ä¸éœ€è¦getterå’Œsetterï¼Œä½†å¿…é¡»ä¸ºpublicã€‚å¦‚æœè®¾ç½®@AccessType(PROPERTY)ï¼Œé€šè¿‡getterå’Œsetteræ–¹æ³•è®¿é—®Entityçš„å˜é‡ã€‚ @JoinColumn æŒ‡å®šä¸€ä¸ªå®ä½“ç»„ç»‡æˆ–å®ä½“çš„é›†åˆã€‚è¿™æ˜¯ç”¨åœ¨å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤šå…³è”ã€‚ @UniqueConstraint æŒ‡å®šçš„å­—æ®µå’Œç”¨äºä¸»è¦æˆ–è¾…åŠ©è¡¨çš„å”¯ä¸€çº¦æŸã€‚ @ColumnResult å‚è€ƒä½¿ç”¨selectå­—å¥çš„SQLæŸ¥è¯¢ä¸­çš„åˆ—æ˜ã€‚ @ManyToMany å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´çš„å¤šå¯¹å¤šçš„çš„å…³ç³» @ManyToOne å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´çš„å¤šå¯¹ä¸€çš„å…³ç³» @OneToMany å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´å­˜åœ¨ä¸€ä¸ªä¸€å¯¹å¤šçš„å…³ç³»ã€‚ @OneToOne å®šä¹‰äº†è¿æ¥è¡¨ä¹‹é—´æœ‰ä¸€ä¸ªä¸€å¯¹ä¸€çš„å…³ç³» @NamedQueries æŒ‡å®šå‘½åæŸ¥è¯¢çš„åˆ—è¡¨ @NamedQuery æŒ‡å®šä½¿ç”¨é™æ€åç§°çš„æŸ¥è¯¢ã€‚ ä¸‰ã€ä½¿ç”¨ åœ¨application.propertiesæ–‡ä»¶ä¸­çš„é…ç½®\n#jpaçš„é…ç½® spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect spring.jpa.show-sql=true spring.jpa.hibernate.ddl-auto=create tips:\nâ€‹\tjpa.hibernate.ddl-autoæ˜¯hibernateçš„é…ç½®å±æ€§ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯ï¼šè‡ªåŠ¨åˆ›å»ºã€æ›´æ–°ã€éªŒè¯æ•°æ®åº“è¡¨ç»“æ„ã€‚è¯¥å‚æ•°çš„å‡ ç§é…ç½®å¦‚ä¸‹ï¼š\ncreateï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶éƒ½ä¼šåˆ é™¤ä¸Šä¸€æ¬¡çš„ç”Ÿæˆçš„è¡¨ï¼Œç„¶åæ ¹æ®ä½ çš„modelç±»å†é‡æ–°æ¥ç”Ÿæˆæ–°è¡¨ï¼Œå“ªæ€•ä¸¤æ¬¡æ²¡æœ‰ä»»ä½•æ”¹å˜ä¹Ÿè¦è¿™æ ·æ‰§è¡Œï¼Œè¿™å°±æ˜¯å¯¼è‡´æ•°æ®åº“è¡¨æ•°æ®ä¸¢å¤±çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚\ncreate-dropï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶æ ¹æ®modelç±»ç”Ÿæˆè¡¨ï¼Œä½†æ˜¯sessionFactoryä¸€å…³é—­,è¡¨å°±è‡ªåŠ¨åˆ é™¤ã€‚\nupdateï¼šæœ€å¸¸ç”¨çš„å±æ€§ï¼Œç¬¬ä¸€æ¬¡åŠ è½½hibernateæ—¶æ ¹æ®modelç±»ä¼šè‡ªåŠ¨å»ºç«‹èµ·è¡¨çš„ç»“æ„ï¼ˆå‰ææ˜¯å…ˆå»ºç«‹å¥½æ•°æ®åº“ï¼‰ï¼Œä»¥ååŠ è½½hibernateæ—¶æ ¹æ®modelç±»è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„ï¼Œå³ä½¿è¡¨ç»“æ„æ”¹å˜äº†ä½†è¡¨ä¸­çš„è¡Œä»ç„¶å­˜åœ¨ä¸ä¼šåˆ é™¤ä»¥å‰çš„è¡Œã€‚è¦æ³¨æ„çš„æ˜¯å½“éƒ¨ç½²åˆ°æœåŠ¡å™¨åï¼Œè¡¨ç»“æ„æ˜¯ä¸ä¼šè¢«é©¬ä¸Šå»ºç«‹èµ·æ¥çš„ï¼Œæ˜¯è¦ç­‰åº”ç”¨ç¬¬ä¸€æ¬¡è¿è¡Œèµ·æ¥åæ‰ä¼šã€‚\nvalidateï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶ï¼ŒéªŒè¯åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„ï¼Œåªä¼šå’Œæ•°æ®åº“ä¸­çš„è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œä¸ä¼šåˆ›å»ºæ–°è¡¨ï¼Œä½†æ˜¯ä¼šæ’å…¥æ–°å€¼ã€‚\nå››ã€JPQLæŸ¥è¯¢ â€‹\tå¸¸ç”¨å…³é”®å­—\nkeyword sample jpaql snippet And findByLastnameAndFirstname \u0026hellip;where x.","title":"JPAå­¦ä¹ "},{"content":"VueåŠ¨ç”» Vueè¿‡æ¸¡å’ŒåŠ¨ç”» 1. è¿‡æ¸¡å’ŒåŠ¨ç”»åŸºç¡€ ä»€ä¹ˆæ˜¯è¿‡æ¸¡å’ŒåŠ¨ç”»\nè¿‡æ¸¡ï¼šä»ä¸€ä¸ªçŠ¶æ€å‘å¦ä¸€ä¸ªçŠ¶æ€å˜åŒ–çš„è¿‡ç¨‹\nåŠ¨ç”»ï¼šä¸è¿‡æ¸¡éå¸¸ç±»ä¼¼ï¼Œåªä¸è¿‡åŠ¨ç”»æ§åˆ¶çš„è¿‡ç¨‹æ›´åŠ ç»†è…»ï¼Œæ›´åŠ ç²¾å‡†\nè¿‡æ¸¡è¯­æ³•ï¼š\n\u0026lt;transition name=\u0026#34;fade\u0026#34;\u0026gt; \u0026lt;!-- éœ€è¦æ·»åŠ è¿‡æ¸¡çš„divæ ‡ç­¾--\u0026gt; \u0026lt;div\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; nameæŒ‡å®šçš„æ˜¯è¿‡æ¸¡æ‰€éœ€è¦çš„æ ·å¼åçš„å‰æ\ntransitionç»„ä»¶\nVueç»™transitionæ ‡ç­¾ï¼Œæä¾›äº†å…­ä¸ªè¿‡åº¦ç±»\nè¿‡æ¸¡ç±»å‹ è¯´æ˜ v-enter è¿›å…¥è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ï¼Œä½œç”¨äºå¼€å§‹çš„ä¸€å¸§ v-enter-active è¿›å…¥è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ï¼Œä½œç”¨äºæ•´ä¸ªè¿‡ç¨‹ v-enter-to è¿›å…¥è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ï¼Œä½œç”¨äºç»“æŸçš„ä¸€å¸§ v-leave ç¦»å¼€è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ï¼Œä½œç”¨äºå¼€å§‹çš„ä¸€å¸§ v-leave-active ç¦»å¼€è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ï¼Œä½œç”¨äºæ•´ä¸ªè¿‡ç¨‹ v-leave-to ç¦»å¼€è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ï¼Œä½œç”¨äºç»“æŸçš„ä¸€å¸§ è¿‡æ¸¡ç±»åˆ†æå›¾\nä»£ç ç¤ºä¾‹ï¼š\nhtmlï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;toggle\u0026#34;\u0026gt;è°ƒæ•´boxçš„å®½åº¦\u0026lt;/button\u0026gt; \u0026lt;transition name=\u0026#34;box\u0026#34;\u0026gt; \u0026lt;div v-if=\u0026#34;show\u0026#34; class=\u0026#34;chart\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/div\u0026gt; cssï¼š\n/* å›¾å½¢çš„åˆå§‹çŠ¶æ€ */ .chart { width: 200px; height: 50px; background-color: orange; } .box-enter-active, .box-leave-active { transition: width 3s; } .box-enter, .box-leave-to { width: 0px; } .box-enter-to, .box-leave { width: 200px; } jsï¼š\nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { show: true }, methods: { toggle() { this.show = !this.show; } }, }) æ€»ç»“\nv-enter è¿›å…¥å‰çš„é‚£ä¸€åˆ»ï¼Œå’Œv-leave-to ç¦»å¼€ç»“æŸçš„é‚£ä¸€åˆ»ï¼Œå°±æ˜¯éšè—çš„çŠ¶æ€ v-enter-to è¿›å…¥ç»“æŸçš„é‚£ä¸€åˆ»ï¼Œå’Œv-leave ç¦»å¼€å‰çš„é‚£ä¸€åˆ»ï¼Œå°±æ˜¯æ˜¾ç¤ºçš„çŠ¶æ€ v-enter-active ä¸ v-leave-activeï¼Œæ˜¯è¿›å…¥ï¼ˆæ˜¾ç¤ºï¼‰çš„æ•´ä¸ªè¿‡æ¸¡è¿‡ç¨‹ï¼Œä¸ç¦»å¼€ï¼ˆéšè—ï¼‰çš„æ•´ä¸ªè¿‡æ¸¡è¿‡ç¨‹ è‡ªå®šä¹‰ç±»å\ntransitionå…è®¸ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»å\nå¦‚æœä½¿ç”¨è‡ªå®šä¹‰ç±»åï¼Œå°±ä¸éœ€è¦è®¾ç½®nameå±æ€§\nè®¾ç½®è‡ªå®šä¹‰ç±»åçš„å±æ€§\nè¿›å…¥ï¼šenter-classã€enter-active-classã€enter-to-class ç¦»å¼€ï¼šleave-classã€leave-active-classã€leave-to-class åˆå§‹åŒ–æ¸²æŸ“åŠ¨ç”»\n\u0026lt;transition appear appear-active-class=\u0026#34;animated swing\u0026#34; enter-active-class=\u0026#34;animated bounceInLeft\u0026#34; leave-active-class=\u0026#34;animated bounceOutLeft\u0026#34;\u0026gt; \u0026lt;p v-if=\u0026#34;show\u0026#34;\u0026gt;åŠ¨ç”»æ•ˆæœè¿‡æ¸¡\u0026lt;/p\u0026gt; \u0026lt;/transition\u0026gt; ä¸Šè¿°ä»£ç ä¸­ï¼Œappearè¡¨ç¤ºå¼€å¯æ­¤ç‰¹æ€§ï¼Œappear-classè¡¨ç¤ºåˆå§‹classæ ·å¼ï¼Œappear-to-classè¡¨ç¤ºè¿‡æ¸¡å®Œæˆçš„classæ ·å¼ï¼Œappear-active-classä¼šåº”ç”¨åœ¨æ•´ä¸ªè¿‡æ¸¡è¿‡ç¨‹ä¸­\nä½¿ç”¨@keyframesåˆ›å»ºCSSåŠ¨ç”»\nkeyframesï¼šå…³é”®å¸§ï¼Œç”¨äºå®šä¹‰åŠ¨ç”»çš„æ¯ä¸€å¸§\nä»£ç ï¼š\n.bounce-enter-active { animation: Anim 1s; } .bounce-leave-active { /* åå‘ */ animation: Anim 1s reverse; } @keyframes Anim { /* ç›¸å½“äºv-enterå’Œv-leave-to */ 0% { transform: scale(0); background-color: red; } /* ç›¸å½“äº v-enter-to å’Œ v-leave */ 100% { transform: scale(1); background-color: blue; } } é’©å­å‡½æ•°å®ç°åŠ¨ç”»\nåœ¨åŠ¨ç”»æ‰§è¡Œè¿‡ç¨‹ä¸­çš„å„ä¸ªé˜¶æ®µä¼šæœ‰ä¸åŒçš„é’©å­å‡½æ•°ï¼Œé€šè¿‡è¿™äº›é’©å­å‡½æ•°ä¹Ÿå¯ä»¥å®ç°åŠ¨ç”»\né’©å­å‡½æ•°\nå…¥åœºé’©å­\n\u0026lt;transition @before-enter=\u0026#34;beforeEnter\u0026#34; @enter=\u0026#34;enter\u0026#34; @after-enter=\u0026#34;afterEnter\u0026#34; @enter-cancelled=\u0026#34;enterCancelled\u0026#34; \u0026lt;/transition\u0026gt; å‡ºåœºé’©å­\n\u0026lt;transition @before-leave=\u0026#34;beforeLeave\u0026#34; @leave=\u0026#34;leave\u0026#34; @after-leave=\u0026#34;after-leave\u0026#34; @leave-cancelled=\u0026#34;leaveCancelled\u0026#34; \u0026gt; \u0026lt;/transition\u0026gt; Vueä¼šè·³è¿‡CSSçš„æ£€æµ‹\n\u0026lt;transition v-bind:css=\u0026#34;false\u0026#34;\u0026gt; \u0026gt; \u0026lt;/transition\u0026gt; Vueç»“åˆVelocity.jså®ç°åŠ¨ç”»\nVelocity.jsæ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨ï¼Œé«˜æ€§èƒ½ä¸”åŠŸèƒ½ä¸°å¯Œçš„è½»é‡çº§JSåŠ¨ç”»åº“\nä»£ç ï¼š\nenter(el, done) { Velocity(el, { opacity: 1, fontSize: \u0026#39;1.4em\u0026#39; }, { duration: 300 }) Velocity(el, { fontSize: \u0026#39;1em\u0026#39; }, { complete: done }); }, æ³¨æ„\nåœ¨åŠ¨ç”»é’©å­å‡½æ•°ä¸­å¯ä»¥åˆ©ç”¨velocityæ¥ç¡®å®šæ‰§è¡Œçš„åŠ¨ç”» velocityç¬¬ä¸€ä¸ªå‚æ•°æ˜¯DOMå…ƒç´ ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯cssæ ·å¼ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºåŠ¨ç”»çš„é…ç½®é¡¹ ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥é…ç½®durationåŠ¨ç”»æ—¶é•¿ï¼Œä¹Ÿå¯ä»¥é…ç½®åŠ¨ç”»å®Œæˆcomplete 2. å¤šä¸ªå…ƒç´ è¿‡æ¸¡ ä¸åŒæ ‡ç­¾åå…ƒç´ è¿‡æ¸¡\nä¸åŒæ ‡ç­¾é»˜å…ƒç´ å¯ä»¥ä½¿ç”¨v-ifå’Œv-elseæ¥è¿›è¡Œè¿‡æ¸¡\nä»£ç \n\u0026lt;transition\u0026gt; \u0026lt;ul v-if=\u0026#34;items.length \u0026gt; 0\u0026#34;\u0026gt; \u0026lt;li\u0026gt;é¡¹ç›®1\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;é¡¹ç›®2\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;p v-else\u0026gt;æŠ±æ­‰ï¼Œæ²¡æœ‰æ‰¾åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹\u0026lt;/p\u0026gt; \u0026lt;/transition\u0026gt; ç›¸åŒæ ‡ç­¾åå…ƒç´ è¿‡æ¸¡\nç›¸åŒæ ‡ç­¾åçš„å…ƒç´ åˆ‡æ¢æ—¶ï¼Œéœ€è¦é€šè¿‡keyè®¾ç½®å”¯ä¸€å€¼\nä»£ç ï¼š\n\u0026lt;button @click=\u0026#34;isEdit=!isEdit\u0026#34;\u0026gt;åˆ‡æ¢ç¼–è¾‘å’Œä¿å­˜\u0026lt;/button\u0026gt; \u0026lt;transition\u0026gt; \u0026lt;button v-if=\u0026#34;isEdit\u0026#34; key=\u0026#34;edit\u0026#34;\u0026gt; ç¼–è¾‘ \u0026lt;/button\u0026gt; \u0026lt;button v-else key=\u0026#39;save\u0026#39;\u0026gt; ä¿å­˜ \u0026lt;/button\u0026gt; \u0026lt;/transition\u0026gt; var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { isEdit: \u0026#34;true\u0026#34; } }); è¿‡æ¸¡æ¨¡å¼\nè¿‡åº¦æ¨¡å¼æè¿° æ–°æ—§ä¿©ä¸ªå…ƒç´ å‚ä¸è¿‡æ¸¡çš„æ—¶å€™ï¼Œæ–°å…ƒç´ çš„è¿›å…¥å’Œæ—§å…ƒç´ çš„ç¦»å¼€ä¼šåŒæ—¶è§¦å‘ï¼Œè¿™æ˜¯å› ä¸º\u0026lt;transition\u0026gt;çš„é»˜è®¤è¡Œä¸ºè¿›å…¥å’Œç¦»å¼€åŒæ—¶å‘ç”Ÿäº†ï¼Œå¦‚æœè¦æ±‚ç¦»å¼€çš„å…ƒç´ å®Œå…¨æ¶ˆå¤±åï¼Œè¿›å…¥çš„å…ƒç´ å†æ˜¾ç¤ºå‡ºæ¥ï¼ˆå¦‚å¼€å§‹çš„åˆ‡æ¢ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨transitionæä¾›çš„è¿‡æ¸¡æ¨¡å¼modeï¼Œæ¥è§£å†³å½“ä¸€ä¸ªç»„ä»¶ç¦»å¼€åï¼Œå¦ä¸€ä¸ªç»„ä»¶è¿›æ¥æ—¶å‘ç”Ÿçš„ä½ç½®çš„é—ªåŠ¨æˆ–é˜»å¡é—®é¢˜ è¿‡æ¸¡æ¨¡å¼çš„åŸç†æ—¶ï¼Œè®¾ç½®æœ‰åºçš„è¿‡æ¸¡è€Œä¸æ˜¯åŒæ—¶å‘ç”Ÿè¿‡æ¸¡ï¼Œåœ¨transitionä¸­åŠ å…¥modeå±æ€§ï¼Œå®ƒçš„ä¿©ä¸ªå€¼å¦‚ä¸‹æ‰€ç¤ºã€‚ in-outï¼šè¡¨ç¤ºæ–°å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åå½“å‰å…ƒç´ è¿‡æ¸¡ç¦»å¼€ out-inï¼šè¡¨ç¤ºå½“å‰å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åæ–°å…ƒç´ è¿‡æ¸¡è¿›å…¥ 3. å¤šä¸ªç»„ä»¶è¿‡æ¸¡ ä»€ä¹ˆæ˜¯å¤šä¸ªç»„ä»¶è¿‡æ¸¡\né€šè¿‡\u0026lt;component\u0026gt;å…ƒç´ çš„iså±æ€§æ¥åˆ‡æ¢ç»„ä»¶ï¼Œå®ç°åŠ¨æ€ç»„ä»¶ï¼Œç„¶åç»™ç»„ä»¶æ·»åŠ è¿‡æ¸¡ï¼Œè¿™å°±æ˜¯å¤šç»„ä»¶è¿‡æ¸¡\næ¡ˆä¾‹æ¼”ç¤º\n\u0026lt;transition name=\u0026#34;fade\u0026#34; mode=\u0026#34;out-in\u0026#34;\u0026gt; \u0026lt;component :is=\u0026#34;componentName\u0026#34;\u0026gt;\u0026lt;/component\u0026gt; \u0026lt;/transition\u0026gt; Vue.component(\u0026#39;example1\u0026#39;, { template: \u0026#34;#example1\u0026#34; }) Vue.component(\u0026#39;example2\u0026#39;, { template: \u0026#39;#example2\u0026#39; }) var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { componentName: \u0026#39;example1\u0026#39; } }) 4. åˆ—è¡¨è¿‡æ¸¡ ä»€ä¹ˆæ˜¯åˆ—è¡¨è¿‡æ¸¡\né€šè¿‡v-forå¾ªç¯æ˜¾ç¤ºå¤šä¸ªå…ƒç´ ï¼Œå¹¶ä¸”é€šè¿‡transition-groupç»„ä»¶æ¥ç»™è¿™å¤šä¸ªå…ƒç´ åŒæ—¶æ·»åŠ è¿‡æ¸¡æ•ˆæœ\nåˆ—è¡¨çš„è¿›å…¥å’Œç¦»å¼€è¿‡æ¸¡\n\u0026lt;transition-group name=\u0026#34;list\u0026#34; tag=\u0026#34;p\u0026#34;\u0026gt; \u0026lt;span v-for=\u0026#34;item in items\u0026#34; :key=\u0026#34;item\u0026#34; class=\u0026#34;list-item\u0026#34;\u0026gt; {{item}} \u0026lt;/span\u0026gt; \u0026lt;/transition-group\u0026gt; /* æ’å…¥æˆ–ç§»é™¤å…ƒç´ çš„è¿‡ç¨‹ */ .list-enter-active, .list-leave-active { transition: all 1s; } /* å¼€å§‹æ’å…¥æˆ–ç§»é™¤ç»“æŸçš„ä½ç½®å˜åŒ– */ .list-enter, .list-leave-to { opacity: 0; transform: translateY(30px); } åˆ—è¡¨çš„æ’åºè¿‡æ¸¡\næ’åºè¿‡æ¸¡ - å…¶ä»–å…ƒç´ å¹³æ»‘è¿‡æ¸¡\nå½“æ’å…¥æˆ–ç§»é™¤å…ƒç´ çš„æ—¶å€™ï¼Œè™½ç„¶æœ‰è¿‡æ¸¡åŠ¨ç”»ï¼Œä½†æ˜¯å‘¨å›´çš„å…ƒç´ ä¼šç¬é—´ç§»åŠ¨åˆ°æ–°çš„ç½®ï¼Œè€Œä¸æ˜¯å¹³æ»‘è¿‡æ¸¡ã€‚ä¸ºäº†å®ç°å¹³æ»‘è¿‡æ¸¡ï¼Œå¯ä»¥å€ŸåŠ©v-moveç‰¹æ€§ï¼Œv-moveå¯¹äºè®¾ç½®è¿‡æ¸¡çš„åˆ‡æ¢æ—¶æœºå’Œè¿‡æ¸¡æ›²çº¿éå¸¸æœ‰ç”¨ã€‚v-moveç‰¹æ€§ä¼šåœ¨å…ƒç´ æ”¹å˜å®šä½çš„è¿‡ç¨‹ä¸­åº”ç”¨ï¼Œå®ƒåŒä¹‹å‰çš„ç±»åä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡nameå±æ€§æ¥è‡ªå®šä¹‰å‰ç¼€ï¼ˆä¾‹å¦‚nameï¼‰\n.list-move { transition: transform 1s; } Flip\nVueä½¿ç”¨äº†FLIIPç®€å•åŠ¨ç”»é˜Ÿåˆ—æ¥å®ç°æ’åºè¿‡æ¸¡ï¼Œæ‰€ä»¥å³ä½¿æ²¡æœ‰æ’å…¥æˆ–è€…ç§»é™¤å…ƒç´ ï¼Œå¯¹äºå…ƒç´ é¡ºåºçš„å˜åŒ–ä¹Ÿæ”¯æŒè¿‡æ¸¡åŠ¨ç”»ï¼ŒFLIPåŠ¨ç”»èƒ½æé«˜åŠ¨ç”»çš„æµç•…åº¦ï¼Œå¯ä»¥è§£å†³åŠ¨ç”»çš„å¡é¡¿ï¼Œé—ªçƒç­‰ä¸æµç•…çš„ç°è±¡ï¼Œå®ƒä¸ç¦å¯ä»¥å®ç°å•åˆ—è¿‡æ¸¡ï¼Œä¹Ÿå¯ä»¥å®ç°å¤šç»´ç½‘ç»œçš„è¿‡æ¸¡ã€‚FLIPä»£è¡¨Firstã€Lastã€Invertã€Playï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œç ”ç©¶å­¦ä¹ \nåˆ—è¡¨çš„äº¤é”™è¿‡æ¸¡\nåˆ—è¡¨çš„äº¤é”™è¿‡æ¸¡ï¼Œå…¶å®å°±æ˜¯å¤šä¸ªliåœ¨åšåŠ¨ç”»æ—¶ï¼Œæ¯ä¸€ä¸ªliåšè¿‡æ¸¡æ—¶æœ‰æ—¶é—´å·®ï¼Œä¾æ¬¡è¿‡æ¸¡\nå»¶è¿Ÿåšè¿‡æ¸¡åŠ¨ç”»\nenter(el, done) { //äº¤é”™è¿‡æ¸¡ï¼Œæ¯ä¸ªliéƒ½åšå»¶è¿Ÿè¿‡æ¸¡ var delay = el.dataset.index * 150; setTimeout(function () { Velocity(el, { opacity: 1, height: \u0026#39;1.6em\u0026#39; }, { complete: done }); }); }, leave(el, done) { var delay = el.dataset.index * 150; setTimeout(function () { Velocity(el, { opacity: 0, height: 0 }, { complete: done }) }) } å¯å¤ç”¨çš„è¿‡æ¸¡\ntemplateæ–¹å¼ å‡½æ•°å¼ç»„ä»¶æ–¹å¼ ","permalink":"https://rexhub.space/posts/front/vue/vue%E5%8A%A8%E7%94%BB/","summary":"VueåŠ¨ç”» Vueè¿‡æ¸¡å’ŒåŠ¨ç”» 1. è¿‡æ¸¡å’ŒåŠ¨ç”»åŸºç¡€ ä»€ä¹ˆæ˜¯è¿‡æ¸¡å’ŒåŠ¨ç”»\nè¿‡æ¸¡ï¼šä»ä¸€ä¸ªçŠ¶æ€å‘å¦ä¸€ä¸ªçŠ¶æ€å˜åŒ–çš„è¿‡ç¨‹\nåŠ¨ç”»ï¼šä¸è¿‡æ¸¡éå¸¸ç±»ä¼¼ï¼Œåªä¸è¿‡åŠ¨ç”»æ§åˆ¶çš„è¿‡ç¨‹æ›´åŠ ç»†è…»ï¼Œæ›´åŠ ç²¾å‡†\nè¿‡æ¸¡è¯­æ³•ï¼š\n\u0026lt;transition name=\u0026#34;fade\u0026#34;\u0026gt; \u0026lt;!-- éœ€è¦æ·»åŠ è¿‡æ¸¡çš„divæ ‡ç­¾--\u0026gt; \u0026lt;div\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; nameæŒ‡å®šçš„æ˜¯è¿‡æ¸¡æ‰€éœ€è¦çš„æ ·å¼åçš„å‰æ\ntransitionç»„ä»¶\nVueç»™transitionæ ‡ç­¾ï¼Œæä¾›äº†å…­ä¸ªè¿‡åº¦ç±»\nè¿‡æ¸¡ç±»å‹ è¯´æ˜ v-enter è¿›å…¥è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ï¼Œä½œç”¨äºå¼€å§‹çš„ä¸€å¸§ v-enter-active è¿›å…¥è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ï¼Œä½œç”¨äºæ•´ä¸ªè¿‡ç¨‹ v-enter-to è¿›å…¥è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ï¼Œä½œç”¨äºç»“æŸçš„ä¸€å¸§ v-leave ç¦»å¼€è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ï¼Œä½œç”¨äºå¼€å§‹çš„ä¸€å¸§ v-leave-active ç¦»å¼€è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ï¼Œä½œç”¨äºæ•´ä¸ªè¿‡ç¨‹ v-leave-to ç¦»å¼€è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ï¼Œä½œç”¨äºç»“æŸçš„ä¸€å¸§ è¿‡æ¸¡ç±»åˆ†æå›¾\nä»£ç ç¤ºä¾‹ï¼š\nhtmlï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;toggle\u0026#34;\u0026gt;è°ƒæ•´boxçš„å®½åº¦\u0026lt;/button\u0026gt; \u0026lt;transition name=\u0026#34;box\u0026#34;\u0026gt; \u0026lt;div v-if=\u0026#34;show\u0026#34; class=\u0026#34;chart\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/div\u0026gt; cssï¼š\n/* å›¾å½¢çš„åˆå§‹çŠ¶æ€ */ .chart { width: 200px; height: 50px; background-color: orange; } .box-enter-active, .box-leave-active { transition: width 3s; } .box-enter, .box-leave-to { width: 0px; } .","title":"VueåŠ¨ç”»"},{"content":"VueåŸºç¡€ åˆå§‹Vue å‰ç«¯æŠ€æœ¯çš„å‘å±• HTMLï¼šç”¨äºç¼–å†™ç½‘é¡µçš„ç»“æ„\nCSSï¼šç”¨äºç¾åŒ–ç½‘é¡µ\nJSï¼šç”¨äºå¤„ç†é¡µé¢çš„äº¤äº’æ•ˆæœ\nJQueryï¼šJSçš„å‡çº§ç‰ˆï¼Œä»£ç ç®€æ´ï¼Œæ›´é«˜æ•ˆçš„å¼€å‘é¡¹ç›®\nVueï¼šé‡‡ç”¨è™šæ‹ŸDOMæŠ€æœ¯ï¼Œä»£ç æ›´åŠ ç®€æ´\nè™šæ‹ŸDOMæŠ€æœ¯\nå’ŒçœŸå®DOMç»“æ„ç±»ä¼¼çš„JSå¯¹è±¡ å¯ä»¥æé«˜æµè§ˆå™¨çš„æ¸²æŸ“é€Ÿåº¦ ä»€ä¹ˆæ˜¯Vue ä¸€æ¡åŸºäºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶\næ¸è¿›å¼ç†è§£ï¼šVueæä¾›çš„ä¸€ç³»åˆ—æŠ€æœ¯ï¼Œå¯ä»¥æ¸æ¸çš„ï¼Œä¸€æ­¥ä¸€æ­¥çš„ä½¿ç”¨è¿™ä¸ªæ¡†æ¶ æ¡†æ¶ç†è§£ï¼šè§£å†³ä¸€ç±»é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œç†è§£ä¸ºå·¥å…· Vueçš„æ•°æ®ç»‘å®šåŸºäºMVVMè®¾è®¡æ€æƒ³\nMVVMï¼šModelï¼ŒViewï¼ŒViewModel\nå¯ä»¥å°†æ¨¡å‹æ•°æ®ä¸è§†å›¾è¿æ¥èµ·æ¥\næ¨¡å‹æ•°æ®å˜åŒ–ä¼šå½±å“è§†å›¾ è§†å›¾æ•°æ®å˜åŒ–ä¼šå½±å“æ¨¡å‹ Vueçš„ä¼˜åŠ¿ è½»é‡çº§ï¼šVueç®€å•ã€ç›´æ¥ï¼Œæ‰€ä»¥Vueä½¿ç”¨èµ·æ¥æ›´åŠ å‹å¥½ æ•°æ®ç»‘å®šï¼šæ•°æ®é©±åŠ¨è§†å›¾ï¼Œè§†å›¾ä¹Ÿå¯ä»¥é©±åŠ¨æ•°æ® æŒ‡ä»¤ï¼šæŒ‡ä»¤ç»‘å®šåœ¨å…ƒç´ ä¸Šæ—¶ï¼ŒæŒ‡ä»¤ä¼šç»™ç»‘å®šçš„å…ƒç´ æ·»åŠ ä¸€äº›ç‰¹æ®Šçš„è¡Œä¸º æ’ä»¶ï¼šæ’ä»¶ç”¨äºå¯¹Vueæ¡†æ¶åŠŸèƒ½è¿›è¡Œæ‰©å±• Vueã€Angularå’ŒReactçš„åŒºåˆ«ï¼š Angularç›¸å¯¹Vueå­¦ä¹ æˆæœ¬é«˜ï¼Œæ›´å¤æ‚ï¼Œæ€§èƒ½ç¨å·® Reacté‡‡ç”¨äº†ç‰¹æ®Šçš„JSXè¯­æ³•ï¼ŒVueä¸­æ¨å´‡ç¼–å†™ä»¥*.vueåç¼€å‘½åçš„æ–‡ä»¶æ ¼å¼ Vueå¼€å‘åŸºç¡€ä¸Š 1.Vueå®ä¾‹ è¯´æ˜\nVueå®ä¾‹ï¼šé€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–Vue({})æ„é€ å‡½æ•°\nå®ä¾‹åŒ–Vueæ—¶çš„å‚æ•°å†…çš„å±æ€§ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé€‰é¡¹ï¼š\né€‰é¡¹ è¯´æ˜ data Vueå®ä¾‹æ•°æ®å¯¹è±¡ methods å®šä¹‰Vueå®ä¾‹ä¸­çš„æ–¹æ³• component å®šä¹‰å­ç»„ä»¶ computed è®¡ç®—å±æ€§ filters è¿‡æ»¤å™¨ el å”¯ä¸€æ ¹å…ƒç´  watch ç›‘å¬æ•°æ®å˜åŒ– elå”¯ä¸€æ ¹æ ‡ç­¾ï¼šåœ¨åˆ›å»ºVueå®ä¾‹æ—¶ï¼Œelè¡¨ç¤ºå”¯ä¸€æ ¹æ ‡ç­¾ï¼Œé€šè¿‡æŒ‡å®šclassæˆ–idé€‰æ‹©å™¨å¯ç”¨æ¥å°†é¡µé¢ç»“æ„ä¸Vueå®ä¾‹å¯¹è±¡vmè¿›è¡Œç»‘å®šã€‚ elï¼šelementï¼Œå…ƒç´  elé€‰é¡¹è¡¨ç¤ºï¼šå½“å‰Vueå®ä¾‹ç»‘å®šçš„é¡µé¢æ€¨æ€’æ˜¯ ç»‘å®šçš„è¿™ä¸ªå…ƒç´ ï¼Œä½œä¸ºVueå®ä¾‹åœ¨ç•Œé¢ä¸Šçš„å…ƒç´  elé€‰é¡¹çš„å€¼ï¼šâ€œidæˆ–ç±»é€‰æ‹©å™¨â€ æ³¨æ„ï¼šVueçš„æ•°æ®åªèƒ½åœ¨elç»‘å®šçš„å…ƒç´ å†…éƒ¨ä½¿ç”¨ dataåˆå§‹æ•°æ®ï¼šVueå®ä¾‹çš„æ•°æ®å¯¹è±¡ä¸ºdataï¼ŒVueä¼šå°†dataçš„å±æ€§è½¬æ¢ä¸ºgetterã€setterï¼Œä»è€Œè®©dataçš„å±æ€§èƒ½å¤Ÿå“åº”æ•°æ®å˜åŒ–ã€‚ dataï¼šæ•°æ® dataé€‰é¡¹è¡¨ç¤ºï¼šå½“å‰Vueå®ä¾‹å¯ä»¥ä½¿ç”¨çš„æ•°æ® dataé€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªæ•°æ® jsä¸­è·å–dataæ•°æ®ï¼švm.$data.nameã€vm.name methodså®šä¹‰æ–¹æ³•ï¼š methodï¼šæ–¹æ³•ï¼Œä¸ºå•¥åŠ sï¼Œå› ä¸ºå¯ä»¥æœ‰å¤šä¸ªæ–¹æ³• methodsé€‰é¡¹è¡¨ç¤ºï¼šå½“å‰Vueå®ä¾‹å¯ä»¥ç”¨åˆ°çš„æ–¹æ³• methodsé€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³• computedè®¡ç®—å±æ€§ï¼šè®¡ç®—å±æ€§ç»“æœä¼šè¢«ç¼“å­˜èµ·æ¥ï¼Œå½“ä¾èµ–çš„å“åº”å¼å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ï¼Œè¿”å›æœ€ç»ˆç»“æœã€‚ computedï¼šè®¡ç®— computedé€‰é¡¹è¡¨ç¤ºï¼šå½“å‰Vueå®ä¾‹å¯ä»¥ç”¨åˆ°çš„è®¡ç®—å±æ€§ computedé€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³• åº”ç”¨åœºæ™¯ï¼šå½“æœ‰äº›æ•°æ®éœ€è¦éšç€å…¶ä»–æ•°æ®å˜åŠ¨è€Œå˜åŠ¨æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨computedè®¡ç®—æ•°å­¦ï¼›ä¸€èˆ¬å¤„ç†è®¡ç®—é€»è¾‘ æ³¨æ„ï¼šè®¡ç®—å±æ€§ï¼Œå®šä¹‰æ—¶æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯å½“å±æ€§ä½¿ç”¨ï¼ˆæ‰€ä»¥æ‰å«è®¡ç®—å±æ€§ï¼‰ï¼›è®¡ç®—å±æ€§éœ€è¦å°†ç»“æœæ”¾å›ï¼›è®¡ç®—å±æ€§å…·æœ‰ç¼“å­˜ï¼Œè¿™å°±æ„å‘³ç€åªè¦è®¡ç®—å±æ€§çš„ä¾èµ–æ²¡æœ‰è¿›è¡Œç›¸åº”çš„æ•°æ®æ›´æ–°ï¼Œé‚£ä¹ˆcomputedä¼šç›´æ¥ä»ç¼“å­˜ä¸­è·å–å€¼ï¼Œå¤šæ¬¡è®¿é—®éƒ½ä¼šè¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœ watchçŠ¶æ€ç›‘å¬ï¼šç”¨æ¥æ£€æµ‹Vueå®ä¾‹ä¸­çš„æ•°æ®å˜åŠ¨ watchï¼šè§‚å¯Ÿã€æ£€æµ‹ watché€‰é¡¹è¡¨ç¤ºï¼šæ£€æµ‹dataé€‰é¡¹ä¸­çš„æ•°æ®å˜åŒ– watché€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³• åº”ç”¨åœºæ™¯ï¼šè¦åœ¨æ•°æ®å˜åŒ–åŒæ—¶è¿›è¡Œå¼‚æ­¥æ“ä½œæˆ–è€…æ˜¯æ¯”è¾ƒå¤§çš„å¼€é”€æ—¶ä½¿ç”¨ æ³¨æ„ï¼šwatchæ˜¯æ£€æµ‹dataçš„æ•°æ®å˜åŒ–ï¼Œwatchçš„æ–¹æ³•å¿…é¡»ä¸dataçš„å±æ€§åä¸€è‡´ filterè¿‡æ»¤å™¨ï¼šå¯¹æ•°æ®è¿›è¡Œæ ¼å¼åŒ–ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²å­—æ¯å˜å¤§å†™ï¼Œæ—¥æœŸæ ¼å¼åŒ–ç­‰ã€‚ filterï¼šè¿‡æ»¤å™¨ filtersé€‰é¡¹è¡¨ç¤ºï¼šå¯¹dataé€‰é¡¹ä¸­çš„æ•°æ®è¿›è¡Œæ ¼å¼åŒ– filtersé€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³• åº”ç”¨åœºæ™¯ï¼šå¯¹æ•°æ®æ ¼å¼åŒ–ï¼ˆå­—ç¬¦ä¸²ä¸­é¦–å­—æ¯å¤§å†™ï¼Œå­—ç¬¦ä¸²å¤§å°å†™è½¬æ¢ã€æ—¥æœŸæ ¼å¼åŒ–ï¼‰ æ³¨æ„ï¼šè¿‡æ»¤å™¨å‡½æ•°ï¼Œå¿…é¡»å®šä¹‰ä¸€ä¸ªå‚æ•°ï¼Œæ­¤å‚æ•°å°±æ˜¯ä½¿ç”¨è¿‡æ»¤å™¨çš„æ•°æ®ï¼Œå°†æ ¼å¼åŒ–çš„ç»“æœè¿”å› ä½¿ç”¨è¿‡æ»¤å™¨ï¼šæ’å€¼è¡¨è¾¾å¼ä½¿ç”¨ï¼š{{dataå±æ€§å | è¿‡æ»¤å™¨åç§°}}æˆ–å±æ€§ç»‘å®šä½¿ç”¨ v-bind=\u0026quot;{{dataå±æ€§å | è¿‡æ»¤å™¨åç§°}}\u0026quot; 2.Vueæ•°æ®ç»‘å®š ç»‘å®šæ ·å¼ï¼šå†…è”æ ·å¼å’Œç»‘å®šæ ·å¼\nç»‘å®šè¡Œå†…æ ·å¼style ç»‘å®šå¯¹è±¡è¯­æ³•ï¼šv-bind:style=\u0026quot;{backgroundColor:pink, width:width, height:height} ç»‘å®šæ•°ç»„è¯­æ³•ï¼šv-bind:style=\u0026quot;[myDiv, xxx]\u0026quot;ï¼Œæ•°ç»„ä¸­æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„æ ·å¼å¯¹è±¡ï¼Œå¦‚æœåªç»‘å®šä¸€ä¸ªå¯¹è±¡ä¸­æ‹¬å·å¯ä»¥çœç•¥ ä¸Šè¿°è¯­æ³•ä¸­ï¼špinkï¼Œwidthï¼ŒmyDivå‡ä¸ºdataæ•°æ® ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ ·å¼ç»‘å®šï¼šç»‘å®šä¹‹åå¯ä»¥é€šè¿‡æ“ä½œdataæ•°æ®æ¥æ”¹å˜æ ·å¼ï¼Œç†è§£ä¸ºç»‘å®šæ ·å¼å°±æ˜¯ä¸ºäº†æ“ä½œæ ·å¼ ç»‘å®šç±»æ ·å¼class ç»‘å®šå¯¹è±¡è¯­æ³•ï¼šv-bind:class=\u0026quot;{box}\u0026quot;,dataä¸­éœ€è¦æœ‰ä¸€ä¸ªå±æ€§ï¼šbox:\u0026ldquo;box\u0026rdquo;,è¿™é‡Œçš„å¤§æ‹¬å·å¯ä»¥çœç•¥ ç»‘å®šæ•°ç»„è¯­æ³•ï¼šv-bind:class=\u0026quot;[box1,box2]\u0026quot; å†…ç½®æŒ‡ä»¤\nå¸¸ç”¨å†…ç½®æŒ‡ä»¤ï¼š\nè·¯å¾„ è¯´æ˜ v-model åŒå‘æ•°æ®ç»‘å®š v-on ç›‘å¬äº‹ä»¶ v-bind å•å‘äº‹ä»¶ç»‘å®š v-text æ’å…¥æ–‡æœ¬å†…å®¹ v-html æ’å…¥åŒ…å«htmlçš„å†…å®¹ v-for åˆ—è¡¨æ¸²æŸ“ v-if æ¡ä»¶æ¸²æŸ“ v-show æ˜¾ç¤ºéšè— è¯¦è§£\nv-model v-modelä¸»è¦å®ç°æ•°æ®åŒå‘ç»‘å®šï¼Œé€šå¸¸ç”¨åœ¨è¡¨å•å…ƒç´ ä¸Šï¼Œä¾‹å¦‚inputã€textareaã€selectç­‰ åŒå‘æ•°æ®ç»‘å®šï¼šæ•°æ®æ”¹å˜å½±å“ç•Œé¢ï¼Œç•Œé¢æ”¹å˜å½±å“æ•°æ® v-textæŒ‡ä»¤ï¼š v-textæ˜¯åœ¨DOMå…ƒç´ å†…éƒ¨æ’å…¥æ–‡æœ¬å†…å®¹ï¼Œç±»ä¼¼äºä¹‹å‰çš„innerTextï¼Œç†è§£ï¼šv-textæ˜¯å°†å…ƒç´ å†…éƒ¨æ–‡æœ¬ä¸dataå±æ€§è¿›è¡Œæ•°æ®ç»‘å®š è¿™ä¸ªå®ç°çš„æ˜¯å•é¡¹ç»‘å®šï¼šæ•°æ®æ”¹å˜å½±å“ç•Œé¢ï¼Œå¤„ç†v-modelå…¶ä»–çš„æ•°æ®ç»‘å®šéƒ½æ˜¯å•å‘çš„ v-htmlæŒ‡ä»¤ï¼š v-htmlæ˜¯åœ¨DOMå…ƒç´ å†…éƒ¨æ’å…¥HTMLå†…å®¹ï¼Œç±»ä¼¼äºä¹‹å‰çš„innerHTMLï¼Œç†è§£ï¼šv-textæ˜¯å°†å…ƒç´ å†…éƒ¨HTMLä¸dataå±æ€§è¿›è¡Œå•å‘æ•°æ®ç»‘å®š v-bindæŒ‡ä»¤ï¼š v-bindå¯ä»¥å®ç°å±æ€§å•å‘æ•°æ®ç»‘å®š ç›®çš„æ˜¯ä¸ºäº†æ“ä½œDOMå…ƒç´ çš„å±æ€§ v-onæŒ‡ä»¤ï¼š v-onæ˜¯äº‹ä»¶ç›‘å¬æŒ‡ä»¤ï¼Œè´Ÿè´£ç»™DOMå…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œé…åˆäº‹ä»¶ç±»å‹ä½¿ç”¨ è¯­æ³•ï¼šv-on:äº‹ä»¶å = \u0026ldquo;äº‹ä»¶å¤„ç†ç¨‹åº\u0026rdquo; v-foræŒ‡ä»¤ï¼š v-forå¯ä»¥å®ç°é¡µé¢åˆ—è¡¨æ¸²æŸ“ï¼Œå¸¸ç”¨æ¥å¾ªç¯æ•°ç»„ è¯­æ³•ï¼šv-for = \u0026ldquo;(value, key) in xxx\u0026rdquo;; v-ifå’Œv-showæŒ‡ä»¤ï¼š ç”¨æ¥æ§åˆ¶å…ƒç´ æ˜¾ç¤ºæˆ–éšè—ï¼Œå±æ€§ä¸ºå¸ƒå°”å€¼ è¯­æ³•ï¼šv-if=\u0026ldquo;isShow\u0026rdquo;ï¼ŒisShowæ˜¯dataä¸­çš„ä¸€ä¸ªå¸ƒå°”ç±»å‹æ•°æ® åŒºåˆ«ï¼šv-ifæ§åˆ¶å…ƒç´ æ˜¯å¦æ¸²æŸ“ï¼Œv-showæ§åˆ¶å…ƒç´ æ˜¯å¦æ˜¾ç¤ºï¼Œæ“ä½œdisplayå±æ€§ 3.Vueäº‹ä»¶ äº‹ä»¶ç›‘å¬ï¼šåœ¨Vueä¸­å¯ä½¿ç”¨å†…ç½®æŒ‡ä»¤v-onç›‘å¬DOMäº‹ä»¶ï¼Œå¹¶åœ¨è§¦å‘æ—¶è¿è¡Œä¸€äº›Javascriptä»£ç ï¼Œæˆ–ç»‘å®šäº‹ä»¶å¤„ç†æ–¹æ³•ã€‚\nè¯­æ³•ï¼šv-on:äº‹ä»¶å = \u0026ldquo;äº‹ä»¶å‡½æ•°\u0026rdquo;ï¼›v-on:äº‹ä»¶å = \u0026ldquo;jsä»£ç \u0026rdquo;\næŒ‰é”®ä¿®é¥°ç¬¦\nç›‘å¬å“ªä¸ªé”®ç›˜/æŠ¬èµ· v-on:keyup.æ¡ˆä»¶ä¿®é¥°ç¬¦ = \u0026lsquo;xxx\u0026rsquo; æ¡ˆä»¶ä¿®é¥°ç¬¦å…¶å®å°±æ˜¯æŒ‰é”®åï¼Œä»£è¡¨ç›‘å¬å“ªä¸ªæŒ‰é”® äº‹ä»¶ä¿®é¥°ç¬¦\nå¸¸ç”¨äº‹ä»¶ä¿®é¥°ç¬¦ï¼š\nä¿®é¥°ç¬¦ è¯´æ˜ .stop é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¦‚:é˜»æ­¢ç‚¹å‡»å­å…ƒç´ è§¦å‘çˆ¶å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ï¼‰ .prevent é˜»æ­¢é»˜è®¤äº‹ä»¶è¡Œä¸ºï¼ˆaæ ‡ç­¾å•å‡»çš„é»˜è®¤è·³è½¬ï¼‰ .capture äº‹ä»¶æ•è·ï¼ˆå¦‚ï¼šå…ˆæ‰§è¡Œçˆ¶å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶å†æ‰§è¡Œå­å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ï¼‰ .self å°†äº‹ä»¶ç»‘å®šåˆ°è‡ªèº«ï¼Œåªæœ‰è‡ªèº«æ‰èƒ½è§¦å‘ï¼ˆä¸èƒ½å†’æ³¡è§¦å‘ï¼‰ .once äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ 4.Vueç»„ä»¶ ä»€ä¹ˆæ˜¯ç»„ä»¶\nç»„ä»¶æ˜¯æ„æˆé¡µé¢ä¸­ç‹¬ç«‹ç»“æ„å•å…ƒï¼Œç»„ä»¶ä¸»è¦ä»¥é¡µé¢ç»“æ„å½¢å¼å­˜åœ¨ï¼Œä¸åŒç»„ä»¶ä¹Ÿå…·æœ‰åŸºæœ¬äº¤äº’åŠŸèƒ½\nç»„ä»¶ç†è§£ä¸ºè‡ªå®šä¹‰æ ‡ç­¾å³å¯ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾ç»„æˆï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªæ ‡ç­¾ç»„æˆ\nç»„ä»¶çš„å®šä¹‰ï¼šVue.component(id, [definition]);\nå‚æ•°idï¼šç»„ä»¶åç§°\nå‚æ•°[definition]ï¼šç»„ä»¶é…ç½®å¯¹è±¡ï¼ŒåŒ…æ‹¬dataã€template\nå±€éƒ¨æ³¨å†Œç»„ä»¶\nå±€éƒ¨ç»„ä»¶ï¼Œé€šè¿‡componentsé€‰é¡¹æ¥å®šä¹‰ å…¨å±€ç»„ä»¶ä¸å±€éƒ¨ç»„ä»¶çš„åŒºåˆ« å…¨å±€ç»„ä»¶å†é¡¹ç›®ä¸­çš„ä»»ä½•ç•Œé¢éƒ½å¯ä»¥ä½¿ç”¨ å±€éƒ¨ç»„ä»¶åªèƒ½åœ¨å½“å‰ç•Œé¢ä¸­ä½¿ç”¨ templateæ¨¡æ¿\nVueæä¾›äº†templateæ ‡ç­¾ï¼Œå¯ä»¥ç¼–å†™ç»„ä»¶çš„ç»“æ„ ä¼˜åŠ¿ æ”¹å–„å¼€å‘ä½“éªŒï¼šä¹‹å‰çš„ç»„ä»¶æ¨¡æ¿éƒ½æ˜¯ç›´æ¥ä»¥å­—ç¬¦ä¸²å½¢å¼ä¹¦å†™ï¼Œè¿™ç§æ–¹å¼å¾ˆå®¹æ˜“å‡ºé”™ æœ‰ä»£ç æç¤ºï¼Œä»£ç é«˜äº®ï¼Œæé«˜å¼€å‘æ•ˆç‡ ç»„ä»¶ä¹‹é—´æ•°æ®ä¼ é€’ï¼šåœ¨Vueå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å¤§é‡çš„ç»„ä»¶ï¼Œæ‰€ä»¥ä¼šå­˜åœ¨ç»„ä»¶åµŒå¥—çš„æƒ…å†µï¼Œé‚£ä¹ˆå­ç»„ä»¶ä¹‹é—´ç»å¸¸éœ€è¦ä¼ é€’æ•°æ®\npropsä¼ å€¼ propsï¼špropertiesï¼šæ„ä¸ºé€šè¿‡å±æ€§ä¼ æ™º è¿™ç§æ–¹å¼æ˜¯çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ my-parentæ˜¯çˆ¶ç»„ä»¶ templateä¸­çš„æ ‡ç­¾å°±æ˜¯å­ç»„ä»¶ çˆ¶ç»„ä»¶åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡å±æ€§ï¼Œç»™å­ç»„ä»¶divä¼ é€’å€¼ $emitä¼ å€¼ emitï¼šå‘å°„ï¼Œç†è§£ä¸ºè§¦å‘ Vueå®ä¾‹ä¸­æä¾›äº†ä¸€ä¸ª$emitæ–¹æ³•ï¼Œä¸“é—¨ç”¨äºè§¦å‘è‡ªå®šä¹‰äº‹ä»¶çš„æ‰§è¡Œ ç»„ä»¶åˆ‡æ¢\né€šè¿‡v-ifå’Œv-elseæ¥æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºç»„ä»¶ 5.Vueç”Ÿå‘½å‘¨æœŸ é’©å­å‡½æ•°ï¼šé’©å­å‡½æ•°ç”¨æ¥æè¿°Vueå®ä¾‹ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸ Vueç”Ÿå‘½å‘¨æœŸï¼šVueä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ åœ¨ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­ï¼Œä¼šæ‰§è¡Œå¾ˆå¤šå›è°ƒå‡½æ•°ï¼Œè¿™äº›å›è°ƒå‡½æ•°å«é’©å­å‡½æ•° å®ä¾‹åˆ›å»º beforeCreate:åˆ›å»ºå®ä¾‹å¯¹è±¡ä¹‹å‰æ‰§è¡Œï¼Œã€æ­¤æ—¶æ•°æ®ä¸èƒ½ä½¿ç”¨ã€‘ created:å»ºå®ä¾‹å¯¹è±¡ä¹‹åæ‰§è¡Œï¼Œã€æ­¤æ—¶æ•°æ®å¯ä»¥ä½¿ç”¨ã€‘ é¡µé¢æŒ‚è½½ beforeMount:é¡µé¢æŒ‚è½½æˆåŠŸä¹‹å‰æ‰§è¡Œï¼Œã€æ— æ³•å±•ç¤ºæ•°æ®ã€‘ Mounted: é¡µé¢æŒ‚è½½æˆåŠŸä¹‹åæ‰§è¡Œï¼Œã€å¯ä»¥å±•ç¤ºæ•°æ®ã€‘ æ•°æ®æ›´æ–° beforeUpdate:ç»„ä»¶æ›´æ–°ä¹‹å‰æ‰§è¡Œï¼Œã€æ•°æ®æ›´æ–°ä¹‹å‰ã€‘ update:ç»„ä»¶æ›´æ–°ä¹‹åæ‰§è¡Œï¼Œã€æ•°æ®æ›´æ–°ä¹‹åã€‘ å®ä¾‹é”€æ¯ beforeDestroy:å®ä¾‹é”€æ¯ä¹‹å‰æ‰§è¡Œï¼Œã€å¯ä»¥æ“ä½œDOMã€‘ destroyed:å®ä¾‹é”€æ¯ä¹‹åæ‰§è¡Œï¼Œã€æ— æ³•æ“ä½œDOMã€‘ Vueå¼€å‘åŸºç¡€ä¸‹ 1.å…¨å±€API Vue.directive\nç”¨æ¥æ³¨å†ŒæŒ‡ä»¤\næ³¨å†Œè¯­æ³•\nVue.directive(\u0026#39;focus\u0026#39;, { inserted(el, binding){ if(binding.value){ el.focus(); } } }) å‚æ•°1ï¼šè‡ªå®šä¹‰æŒ‡ä»¤çš„åç§°\nå‚æ•°2ï¼šé…ç½®å¯¹è±¡\né…ç½®å¯¹è±¡ä¸­ä½¿ç”¨insertedå‡½æ•°å¤„ç† insertedå‡½æ•°ï¼šä¼šåœ¨ä½¿ç”¨æŒ‡ä»¤çš„å…ƒç´ è¢«æ’å…¥åˆ°DOMä¸­çš„æ—¶å€™è¢«å¸¦å“¦ç”¨ insertedå‚æ•°elï¼šä½¿ç”¨æŒ‡ä»¤çš„å…ƒç´  insertedå‚æ•°bindingï¼šæŒ‡ä»¤ç›¸å…³çš„é…ç½® ä½¿ç”¨ï¼š\n\u0026lt;div\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; v-foucs/\u0026gt; \u0026lt;/div\u0026gt; Vue.use\nç”¨äºç»™Vueå®‰è£…æ’ä»¶\nè‡ªå®šä¹‰æ’ä»¶\n//å®šä¹‰ä¸€ä¸ªMyPlugin(è‡ªå®šä¹‰æ’ä»¶)å¯¹è±¡ let MyPlugin = {}; å®‰è£…æ’ä»¶\n//ç¼–å†™æ’ä»¶å¯¹è±¡çš„installæ–¹æ³• MyPlugin.install = function (Vue, options) { console.log(options); //åœ¨æ’ä»¶ä¸­ä¸ºVueæ·»åŠ è‡ªå®šä¹‰æŒ‡ä»¤ Vue.directive(\u0026#39;my-directive\u0026#39;, { bind(el, binding) { //ä¸ºè‡ªå®šä¹‰æŒ‡ä»¤v-my-directiveç»‘å®šçš„DOMå…ƒç´ è®¾ç½®styleæ ·å¼ el.style = \u0026#34;width:100px; height:100px; background-color:#ccc;\u0026#34;; } }); } Vue.use(MyPlugin, { options: true }); ä½¿ç”¨æ’ä»¶ä¸­çš„æŒ‡ä»¤\n\u0026lt;div id=\u0026#34;app\u0026#34; v-my-directive\u0026gt;\u0026lt;/div\u0026gt; Vue.extend\nç”¨äºåˆ›å»ºVueçš„å­ç±»ï¼Œå¯¹Vueè¿›è¡Œæ‰©å±•\nåˆ›å»ºå­ç±»\nVue2 = Vue.extend({ data() { return { title: \u0026#39;helloï¼Œæˆ‘æ˜¯vueçš„å­ç±»\u0026#39; } } }) è¿™ä¸ªVue2å­ç±»ä¸­ï¼Œé»˜è®¤æºå¸¦titleæ•°æ®\nä½¿ç”¨å­ç±»ï¼š\nvar vm = new Vue2({ el: \u0026#39;#app2\u0026#39;, }); \u0026lt;div id=\u0026#34;app2\u0026#34;\u0026gt; app2:{{title}} \u0026lt;/div\u0026gt; Vue.set\nç”¨äºå“åº”å¼å¯¹è±¡ä¸­å¢åŠ æ–°å±æ€§ï¼Œç¡®ä¿å±æ€§ä¹Ÿå…·å¤‡å“åº”å¼ç‰¹ç‚¹\nè¯­æ³•ï¼šVue.set(target, key, value)\ntargetï¼šè¦æ›´æ”¹çš„æ•°æ®æºï¼ˆå¯ä»¥æ˜¯å¯¹è±¡æˆ–è€…æ•°ç»„ï¼‰ keyï¼šè¦æ›´æ”¹æˆ–æ–°å¢çš„å±æ€§ valueï¼šæ–°å€¼ ä»£ç \nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { a: \u0026#34;æˆ‘æ˜¯æ ¹çº§å“åº”å¼å±æ€§a\u0026#34;, obj: {} } }); Vue.set(vm.obj, \u0026#39;b\u0026#39;, \u0026#39;æˆ‘æ˜¯Vue.setæ·»åŠ çš„å“åº”å¼çš„å±æ€§b\u0026#39;) æ³¨æ„\ndataä¸­çš„æ ¹æ•°æ®æ˜¯å“åº”å¼çš„ï¼šaå’Œobj å¦‚æœæ˜¯æ–°å¢åŠ çš„objçš„å±æ€§ï¼Œè¿™ä¸ªå±äºäºŒçº§æ•°æ®ï¼Œè€Œæ–°å¢åŠ çš„äºŒçº§æ•°æ®é»˜è®¤ä¸æ˜¯å“åº”å¼çš„ï¼Œå³ç›´æ¥é€šè¿‡vm.obj.b=\u0026ldquo;æˆ‘æ˜¯xxx\u0026rdquo;ï¼Œæ˜¯æ— æ³•åšåˆ°å“åº”çš„ é€šè¿‡Vue.setæ·»åŠ çš„äºŒçº§æ•°æ®å¯ä»¥æ˜¯å“åº”å¼çš„ Vue.mixin\nmixï¼šæ··åˆï¼Œinï¼šè¿›å…¥ï¼Œminxinï¼šæ··å…¥\nVue.mixinï¼šç”¨äºç»™Vueå¢åŠ æ··å…¥å¯¹è±¡\nç†è§£ï¼šåœ¨Vueä¸­æ··è¿›å»ä¸€ä¸ªæ‹“å±•çš„å¯¹è±¡ï¼Œå¢åŠ åŠŸèƒ½\nå®šä¹‰æ··å…¥ï¼š\nVue.mixin({ //æ··å…¥å¯¹è±¡å¯ä»¥æœ‰ç»„ä»¶çš„é€‰é¡¹ data() { return { msg: \u0026#39;æ··å…¥çš„æ•°æ®\u0026#39; } }, created() { console.log(\u0026#34;æ··å…¥çš„created\u0026#34;); var myOption = this.$options.myOption; if (myOption) { console.log(myOption.toUpperCase()); } }, }) Vueå®ä¾‹åŒ–ï¼š\nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, myOption: \u0026#39;hello vueï¼\u0026#39;, data: { title: \u0026#39;æˆ‘æ˜¯title\u0026#39; }, created() { console.log(\u0026#34;Vueçš„createdé’©å­å‡½æ•°\u0026#34;); }, }); 2.å®ä¾‹å±æ€§ vm.$props\nç”¨äºæ¥å—çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’çš„æ•°æ®\nä»£ç ï¼š\nVue.component(\u0026#39;my-child\u0026#39;, { props: [\u0026#34;name\u0026#34;], watch: { name() { var brand = this.$props.name; var found = false; this.content.forEach((value, index) =\u0026gt; { if (value.brand == brand) { found = value; } }); this.show = found ? found : { brand: \u0026#39;\u0026#39;, type: \u0026#39;\u0026#39;, price: \u0026#39;\u0026#39; } } } propså®šä¹‰å¯ä»¥é€šè¿‡nameä¼ é€’æ•°æ® ç„¶ååœ¨æ–¹æ³•æˆ–watchä¸­å¯ä»¥é€šè¿‡this.$props.nameè·å–nameå±æ€§ å…¶å®ä¹Ÿå¯ä»¥é€šè¿‡this.nameç›´æ¥è·å– vm.$options\nç”¨äºè·å–Vueå®ä¾‹åŒ–æ—¶ä¼ å…¥çš„é€‰é¡¹çš„å€¼\nä»£ç \nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, customOption: \u0026#39;æˆ‘æ˜¯è‡ªå®šä¹‰æ•°æ®\u0026#39;, data: { base: \u0026#34;æˆ‘æ˜¯dataé‡Œçš„åŸºç¡€æ•°æ®\u0026#34; }, created() { this.noBase = this.$options.customOption; }, }); \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{base}}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;{{noBase}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; vm.$el\nç”¨äºè·å–Vueç»‘å®šçš„æ ¹å…ƒç´ \nä»£ç \nvar vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: {} }); vm.$el.innerHTML = \u0026#34;\u0026lt;div\u0026gt;æˆ‘æ˜¯æ›¿æ¢åçš„divæ ‡ç­¾\u0026lt;/div\u0026gt;\u0026#34; é€šè¿‡vm.$elä¿®æ”¹æ ¹å…ƒç´ çš„å†…éƒ¨æ ‡ç­¾\nvm.$children\nç”¨äºè·å–å½“å‰å®ä¾‹çš„ç›´æ¥å­ç»„ä»¶\nä»€ä¹ˆæ˜¯ç›´æ¥å­ç»„ä»¶\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;child\u0026#34;\u0026gt;æŸ¥çœ‹å­ç»„ä»¶\u0026lt;/button\u0026gt; \u0026lt;my-componet\u0026gt;\u0026lt;/my-componet\u0026gt; \u0026lt;/div\u0026gt; åœ¨appæ ¹å…ƒç´ ä¸‹çš„my-componetå°±æ˜¯ç›´æ¥å­ç»„ä»¶\né€šè¿‡vm.$childrenå¯ä»¥è·å–åˆ°my-componet\nvm.$root\nç”¨äºè·å–å½“å‰ç»„ä»¶æ ‘çš„æ ¹Vueå®ä¾‹\nç»„ä»¶å®ä¾‹å¯¹è±¡å’ŒVueå®ä¾‹å¯¹è±¡éƒ½æœ‰$rootå±æ€§\nä»£ç \nVue.component(\u0026#39;my-component\u0026#39;, { template: \u0026#39;\u0026lt;button @click=\u0026#34;root\u0026#34;\u0026gt;æŸ¥çœ‹æ ¹å®ä¾‹\u0026lt;/button\u0026gt;\u0026#39;, methods: { root() { console.log(this.$root); console.log(this.$root == vm.$root); } } }) vm.$slot\nç”¨äºè·å–æ’æ§½\næ’æ§½æ˜¯ç”¨äºçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å†…å®¹\nä»£ç \n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;my-component\u0026gt;ä½ å¥½\u0026lt;/my-component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;template id=\u0026#39;first\u0026#39;\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- æ’æ§½ï¼šç”¨äºæ¥å—è‡ªå®šä¹‰ç»„ä»¶çš„å†…å®¹ --\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; è·å–æ’æ§½çš„å†…å®¹ï¼švm.$children[0].slots.default[0].text\nvm.$attrs\nç”¨äºè·å–ç»„ä»¶çš„å±æ€§ï¼Œä½†ä¸åŒ…å«classã€styleä»¥åŠè¢«å£°æ˜ä¸ºpropsçš„å±æ€§\nå®šä¹‰å±æ€§\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;my-component id=\u0026#34;test\u0026#34;\u0026gt;\u0026lt;/my-component\u0026gt; \u0026lt;/div\u0026gt; è·å–å±æ€§\nVue.component(\u0026#39;my-component\u0026#39;, { template: \u0026#39;\u0026lt;button @click=\u0026#34;showAttrs\u0026#34;\u0026gt;æŸ¥çœ‹å±æ€§\u0026lt;/button\u0026gt;\u0026#39;, methods: { showAttrs() { console.log(this.$attrs); } }, }) 3.å…¨å±€é…ç½® productionTip\nç”¨äºé…ç½®æ˜¯å¦æ˜¾ç¤ºç”Ÿäº§ä¿¡æ¯æç¤ºï¼Œé»˜è®¤æ‰“å¼€\nå…³é—­ç”Ÿäº§ä¿¡æ¯æç¤ºï¼š\nVue.config.productionTip = false productionTipï¼šç”Ÿäº§ä¿¡æ¯æç¤º\nsilent\nç”¨äºé…ç½®æ˜¯å¦æ˜¾ç¤ºVueæ—¥å¿—å’Œè­¦å‘Šï¼Œé»˜è®¤æ‰“å¼€\nå…³é—­æ—¥å¿—å’Œè­¦å‘Šï¼š\nVue.config.silent = true slientï¼šæ²‰é»˜çš„\næ³¨æ„ï¼šé…ç½®è¦å†™åœ¨Vueå®ä¾‹çš„ä¸Šæ–¹ï¼Œåœ¨Vueå®ä¾‹ä¸‹æ–¹ä¸ç”Ÿæ•ˆ\ndevtools\nç”¨äºé…ç½®æ˜¯å¦å…è®¸ä½¿ç”¨å¼€å‘å·¥å…·è°ƒè¯•ä»£ç ï¼Œé»˜è®¤å…è®¸\nå…³é—­è°ƒè¯•\nVue.config.devtools = false devtools: development tools, å¼€å‘å·¥å…·\n4.ç»„ä»¶è¿›é˜¶ mixins\nç”¨äºæ³¨å†Œæ··å…¥å¯¹è±¡ï¼Œæ··å…¥å¯¹è±¡ï¼šåŒ…å«å…¬å…±çš„æ–¹æ³•æˆ–è€…æ•°æ®ï¼Œè®¡ç®—å±æ€§ç­‰ï¼Œç„¶åæ··å…¥åˆ°å¤šä¸ªç»„ä»¶ä¸­ä½¿ç”¨ï¼Œæ–¹ä¾¿ç®¡ç†ä¸ç»Ÿä¸€ä¿®æ”¹\nå®šä¹‰æ··å…¥å¯¹è±¡å¹¶æ³¨å†Œ\nvar myMixin = { data() { return { message: \u0026#39;mixinçš„æ•°æ®\u0026#39; } } } var vm = new Vue({ data: { message: \u0026#39;Vueçš„æ•°æ®\u0026#39; }, mixins: [myMixin], created() { console.log(this.message); } }) render\nå®ç°å¯¹è™šæ‹ŸDOMçš„æ“ä½œï¼Œé€šè¿‡JSæ¥æ¸²æŸ“ç•Œé¢å…ƒç´ \nä»£ç \nrender(createElement) { return createElement(\u0026#39;p\u0026#39;, { style: { color: \u0026#39;red\u0026#39;, fontSize: \u0026#39;16px\u0026#39;, backgroundColor: \u0026#39;#eee\u0026#39; } }, this.$slots.default); }, è¯´æ˜\nrenderæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä»–ä½œä¸ºä¸€ä¸ªé€‰é¡¹å­˜åœ¨ï¼Œå¯ä»¥åœ¨Vueå’Œç»„ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ renderçš„å‚æ•°ï¼šcreateElmentæ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºå…ƒç´ çš„å‡½æ•° createElement\nç”¨äºåˆ›å»ºå…ƒç´ \nè¯´æ˜\ncreateElementï¼ŒcreateElement()å‡½æ•°è¿”å›çš„å¹¶ä¸æ˜¯ä¸€ä¸ªå®é™…çš„DOMå…ƒç´ ï¼Œ\nä»–è¿”å›çš„å…¶å®æ˜¯ä¸€ä¸ªæè¿°èŠ‚ç‚¹(createNodeDescription)ã€‚\nç¬¬1ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªHTMLæ ‡ç­¾åæˆ–ç»„ä»¶é€‰é¡¹å¯¹è±¡ ç¬¬2ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªä¸æ¨¡æ¿ä¸­å±æ€§å¯¹åº”çš„æ•°æ®å¯¹è±¡ã€‚ ç¬¬3ä¸ªå‚æ•°æ˜¯ç”±createElement()æ„å»ºè€Œæˆçš„å­çº§è™šæ‹ŸèŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æ¥ç”Ÿæˆæ–‡æœ¬è™šæ‹ŸèŠ‚ç‚¹ã€‚ ","permalink":"https://rexhub.space/posts/front/vue/vue%E5%9F%BA%E7%A1%80/","summary":"VueåŸºç¡€ åˆå§‹Vue å‰ç«¯æŠ€æœ¯çš„å‘å±• HTMLï¼šç”¨äºç¼–å†™ç½‘é¡µçš„ç»“æ„\nCSSï¼šç”¨äºç¾åŒ–ç½‘é¡µ\nJSï¼šç”¨äºå¤„ç†é¡µé¢çš„äº¤äº’æ•ˆæœ\nJQueryï¼šJSçš„å‡çº§ç‰ˆï¼Œä»£ç ç®€æ´ï¼Œæ›´é«˜æ•ˆçš„å¼€å‘é¡¹ç›®\nVueï¼šé‡‡ç”¨è™šæ‹ŸDOMæŠ€æœ¯ï¼Œä»£ç æ›´åŠ ç®€æ´\nè™šæ‹ŸDOMæŠ€æœ¯\nå’ŒçœŸå®DOMç»“æ„ç±»ä¼¼çš„JSå¯¹è±¡ å¯ä»¥æé«˜æµè§ˆå™¨çš„æ¸²æŸ“é€Ÿåº¦ ä»€ä¹ˆæ˜¯Vue ä¸€æ¡åŸºäºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶\næ¸è¿›å¼ç†è§£ï¼šVueæä¾›çš„ä¸€ç³»åˆ—æŠ€æœ¯ï¼Œå¯ä»¥æ¸æ¸çš„ï¼Œä¸€æ­¥ä¸€æ­¥çš„ä½¿ç”¨è¿™ä¸ªæ¡†æ¶ æ¡†æ¶ç†è§£ï¼šè§£å†³ä¸€ç±»é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œç†è§£ä¸ºå·¥å…· Vueçš„æ•°æ®ç»‘å®šåŸºäºMVVMè®¾è®¡æ€æƒ³\nMVVMï¼šModelï¼ŒViewï¼ŒViewModel\nå¯ä»¥å°†æ¨¡å‹æ•°æ®ä¸è§†å›¾è¿æ¥èµ·æ¥\næ¨¡å‹æ•°æ®å˜åŒ–ä¼šå½±å“è§†å›¾ è§†å›¾æ•°æ®å˜åŒ–ä¼šå½±å“æ¨¡å‹ Vueçš„ä¼˜åŠ¿ è½»é‡çº§ï¼šVueç®€å•ã€ç›´æ¥ï¼Œæ‰€ä»¥Vueä½¿ç”¨èµ·æ¥æ›´åŠ å‹å¥½ æ•°æ®ç»‘å®šï¼šæ•°æ®é©±åŠ¨è§†å›¾ï¼Œè§†å›¾ä¹Ÿå¯ä»¥é©±åŠ¨æ•°æ® æŒ‡ä»¤ï¼šæŒ‡ä»¤ç»‘å®šåœ¨å…ƒç´ ä¸Šæ—¶ï¼ŒæŒ‡ä»¤ä¼šç»™ç»‘å®šçš„å…ƒç´ æ·»åŠ ä¸€äº›ç‰¹æ®Šçš„è¡Œä¸º æ’ä»¶ï¼šæ’ä»¶ç”¨äºå¯¹Vueæ¡†æ¶åŠŸèƒ½è¿›è¡Œæ‰©å±• Vueã€Angularå’ŒReactçš„åŒºåˆ«ï¼š Angularç›¸å¯¹Vueå­¦ä¹ æˆæœ¬é«˜ï¼Œæ›´å¤æ‚ï¼Œæ€§èƒ½ç¨å·® Reacté‡‡ç”¨äº†ç‰¹æ®Šçš„JSXè¯­æ³•ï¼ŒVueä¸­æ¨å´‡ç¼–å†™ä»¥*.vueåç¼€å‘½åçš„æ–‡ä»¶æ ¼å¼ Vueå¼€å‘åŸºç¡€ä¸Š 1.Vueå®ä¾‹ è¯´æ˜\nVueå®ä¾‹ï¼šé€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–Vue({})æ„é€ å‡½æ•°\nå®ä¾‹åŒ–Vueæ—¶çš„å‚æ•°å†…çš„å±æ€§ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé€‰é¡¹ï¼š\né€‰é¡¹ è¯´æ˜ data Vueå®ä¾‹æ•°æ®å¯¹è±¡ methods å®šä¹‰Vueå®ä¾‹ä¸­çš„æ–¹æ³• component å®šä¹‰å­ç»„ä»¶ computed è®¡ç®—å±æ€§ filters è¿‡æ»¤å™¨ el å”¯ä¸€æ ¹å…ƒç´  watch ç›‘å¬æ•°æ®å˜åŒ– elå”¯ä¸€æ ¹æ ‡ç­¾ï¼šåœ¨åˆ›å»ºVueå®ä¾‹æ—¶ï¼Œelè¡¨ç¤ºå”¯ä¸€æ ¹æ ‡ç­¾ï¼Œé€šè¿‡æŒ‡å®šclassæˆ–idé€‰æ‹©å™¨å¯ç”¨æ¥å°†é¡µé¢ç»“æ„ä¸Vueå®ä¾‹å¯¹è±¡vmè¿›è¡Œç»‘å®šã€‚ elï¼šelementï¼Œå…ƒç´  elé€‰é¡¹è¡¨ç¤ºï¼šå½“å‰Vueå®ä¾‹ç»‘å®šçš„é¡µé¢æ€¨æ€’æ˜¯ ç»‘å®šçš„è¿™ä¸ªå…ƒç´ ï¼Œä½œä¸ºVueå®ä¾‹åœ¨ç•Œé¢ä¸Šçš„å…ƒç´  elé€‰é¡¹çš„å€¼ï¼šâ€œidæˆ–ç±»é€‰æ‹©å™¨â€ æ³¨æ„ï¼šVueçš„æ•°æ®åªèƒ½åœ¨elç»‘å®šçš„å…ƒç´ å†…éƒ¨ä½¿ç”¨ dataåˆå§‹æ•°æ®ï¼šVueå®ä¾‹çš„æ•°æ®å¯¹è±¡ä¸ºdataï¼ŒVueä¼šå°†dataçš„å±æ€§è½¬æ¢ä¸ºgetterã€setterï¼Œä»è€Œè®©dataçš„å±æ€§èƒ½å¤Ÿå“åº”æ•°æ®å˜åŒ–ã€‚ dataï¼šæ•°æ® dataé€‰é¡¹è¡¨ç¤ºï¼šå½“å‰Vueå®ä¾‹å¯ä»¥ä½¿ç”¨çš„æ•°æ® dataé€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªæ•°æ® jsä¸­è·å–dataæ•°æ®ï¼švm.$data.nameã€vm.name methodså®šä¹‰æ–¹æ³•ï¼š methodï¼šæ–¹æ³•ï¼Œä¸ºå•¥åŠ sï¼Œå› ä¸ºå¯ä»¥æœ‰å¤šä¸ªæ–¹æ³• methodsé€‰é¡¹è¡¨ç¤ºï¼šå½“å‰Vueå®ä¾‹å¯ä»¥ç”¨åˆ°çš„æ–¹æ³• methodsé€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³• computedè®¡ç®—å±æ€§ï¼šè®¡ç®—å±æ€§ç»“æœä¼šè¢«ç¼“å­˜èµ·æ¥ï¼Œå½“ä¾èµ–çš„å“åº”å¼å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ï¼Œè¿”å›æœ€ç»ˆç»“æœã€‚ computedï¼šè®¡ç®— computedé€‰é¡¹è¡¨ç¤ºï¼šå½“å‰Vueå®ä¾‹å¯ä»¥ç”¨åˆ°çš„è®¡ç®—å±æ€§ computedé€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³• åº”ç”¨åœºæ™¯ï¼šå½“æœ‰äº›æ•°æ®éœ€è¦éšç€å…¶ä»–æ•°æ®å˜åŠ¨è€Œå˜åŠ¨æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨computedè®¡ç®—æ•°å­¦ï¼›ä¸€èˆ¬å¤„ç†è®¡ç®—é€»è¾‘ æ³¨æ„ï¼šè®¡ç®—å±æ€§ï¼Œå®šä¹‰æ—¶æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯å½“å±æ€§ä½¿ç”¨ï¼ˆæ‰€ä»¥æ‰å«è®¡ç®—å±æ€§ï¼‰ï¼›è®¡ç®—å±æ€§éœ€è¦å°†ç»“æœæ”¾å›ï¼›è®¡ç®—å±æ€§å…·æœ‰ç¼“å­˜ï¼Œè¿™å°±æ„å‘³ç€åªè¦è®¡ç®—å±æ€§çš„ä¾èµ–æ²¡æœ‰è¿›è¡Œç›¸åº”çš„æ•°æ®æ›´æ–°ï¼Œé‚£ä¹ˆcomputedä¼šç›´æ¥ä»ç¼“å­˜ä¸­è·å–å€¼ï¼Œå¤šæ¬¡è®¿é—®éƒ½ä¼šè¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœ watchçŠ¶æ€ç›‘å¬ï¼šç”¨æ¥æ£€æµ‹Vueå®ä¾‹ä¸­çš„æ•°æ®å˜åŠ¨ watchï¼šè§‚å¯Ÿã€æ£€æµ‹ watché€‰é¡¹è¡¨ç¤ºï¼šæ£€æµ‹dataé€‰é¡¹ä¸­çš„æ•°æ®å˜åŒ– watché€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³• åº”ç”¨åœºæ™¯ï¼šè¦åœ¨æ•°æ®å˜åŒ–åŒæ—¶è¿›è¡Œå¼‚æ­¥æ“ä½œæˆ–è€…æ˜¯æ¯”è¾ƒå¤§çš„å¼€é”€æ—¶ä½¿ç”¨ æ³¨æ„ï¼šwatchæ˜¯æ£€æµ‹dataçš„æ•°æ®å˜åŒ–ï¼Œwatchçš„æ–¹æ³•å¿…é¡»ä¸dataçš„å±æ€§åä¸€è‡´ filterè¿‡æ»¤å™¨ï¼šå¯¹æ•°æ®è¿›è¡Œæ ¼å¼åŒ–ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²å­—æ¯å˜å¤§å†™ï¼Œæ—¥æœŸæ ¼å¼åŒ–ç­‰ã€‚ filterï¼šè¿‡æ»¤å™¨ filtersé€‰é¡¹è¡¨ç¤ºï¼šå¯¹dataé€‰é¡¹ä¸­çš„æ•°æ®è¿›è¡Œæ ¼å¼åŒ– filtersé€‰é¡¹çš„å€¼ï¼šå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å®šä¹‰æ–¹æ³• åº”ç”¨åœºæ™¯ï¼šå¯¹æ•°æ®æ ¼å¼åŒ–ï¼ˆå­—ç¬¦ä¸²ä¸­é¦–å­—æ¯å¤§å†™ï¼Œå­—ç¬¦ä¸²å¤§å°å†™è½¬æ¢ã€æ—¥æœŸæ ¼å¼åŒ–ï¼‰ æ³¨æ„ï¼šè¿‡æ»¤å™¨å‡½æ•°ï¼Œå¿…é¡»å®šä¹‰ä¸€ä¸ªå‚æ•°ï¼Œæ­¤å‚æ•°å°±æ˜¯ä½¿ç”¨è¿‡æ»¤å™¨çš„æ•°æ®ï¼Œå°†æ ¼å¼åŒ–çš„ç»“æœè¿”å› ä½¿ç”¨è¿‡æ»¤å™¨ï¼šæ’å€¼è¡¨è¾¾å¼ä½¿ç”¨ï¼š{{dataå±æ€§å | è¿‡æ»¤å™¨åç§°}}æˆ–å±æ€§ç»‘å®šä½¿ç”¨ v-bind=\u0026quot;{{dataå±æ€§å | è¿‡æ»¤å™¨åç§°}}\u0026quot; 2.","title":"VueåŸºç¡€"},{"content":"Lambdaè¡¨è¾¾å¼ ä»€ä¹ˆæ˜¯Lambdaè¡¨è¾¾å¼ JDK8å¼€å§‹æ”¯æŒLambdaè¡¨è¾¾å¼ï¼Œç”¨æ¥è®©ç¨‹åºç¼–å†™æ›´ä¼˜é›… åˆ©ç”¨Lambdaå¯ä»¥æ›´ç®€æ´çš„å®ç°åŒ¿åå†…éƒ¨ç±»ä¸å‡½æ•°å£°æ˜ä¸è°ƒç”¨ åŸºäºLambdaæä¾›streamæµå¼å¤„ç†æå¤§ç®€åŒ–å¯¹é›†åˆçš„æ“ä½œ Lambdaè¡¨è¾¾å¼è¯­æ³•æ ¼å¼ï¼š è¯´æ˜ï¼š ä»£ç ç¤ºä¾‹ï¼š MathOperation.java\npackage com.imooc.lambda; /** * å››åˆ™è¿ç®—æ¥å£ * @author CubeMonkey * @create 2020-10-23 17:39 */ @FunctionalInterface //é€šçŸ¥ç¼–è¯‘å™¨è¿™æ˜¯å‡½æ•°å¼æ¥å£ï¼Œè¿›è¡ŒæŠ½è±¡æ–¹æ³•æ£€æŸ¥ public interface MathOperation { public Float operate(Integer a, Integer b); } LambdaSample.java\npackage com.imooc.lambda; /** * @author CubeMonkey * @create 2020-10-23 17:42 */ public class LambdaSample { public static void main(String[] args) { //1.æ ‡å‡†çš„ä½¿ç”¨æ–¹å¼ //çº¦æŸæ¡ä»¶ï¼šLambdaè¡¨è¾¾å¼åªèƒ½å®ç°æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼ŒJavaç§°ä¸º\u0026#34;å‡½æ•°å¼æ¥å£\u0026#34; MathOperation addition = (Integer a, Integer b)-\u0026gt;{ System.out.println(\u0026#34;åŠ æ³•è¿ç®—\u0026#34;); return a+b+0f; }; System.out.println(addition.operate(5, 3)); //2.Lambdaå…è®¸å¿½ç•¥å‚æ•°ç±»å‹ MathOperation substraction = (a, b)-\u0026gt;{ return a - b + 0f; }; System.out.println(substraction.operate(5, 3)); //3.å•è¡Œå®ç°ä»£ç å¯ä»¥çœç•¥å¤§æ‹¬å·å’Œreturn MathOperation multiplication = (a, b) -\u0026gt; a*b+0f; System.out.println(multiplication.operate(5, 3)); //test MathOperation division = (a, b) -\u0026gt;{ System.out.println(\u0026#34;é™¤æ³•è¿ç®—\u0026#34;); return a * 1.0f / b; }; System.out.println(division.operate(5, 3)); } } å‡½æ•°å¼ç¼–ç¨‹ ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ å‡½æ•°å¼ç¼–ç¨‹æ˜¯åŸºäºå‡½æ•°å¼æ¥å£å¹¶ä½¿ç”¨lambdaè¡¨è¾¾çš„ç¼–ç¨‹æ–¹å¼ å‡½æ•°å¼ç¼–ç¨‹ç†å¿µæ˜¯å°†ä»£ç ä½œä¸ºå¯é‡ç”¨æ•°æ®å¸¦å…¥åˆ°ç¨‹åºä¸­ å‡½æ•°å¼ç¼–ç¨‹å¼ºè°ƒâ€œä½ æƒ³åšä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œä½ æƒ³æ€ä¹ˆåšâ€ ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ å‡½æ•°å¼æ¥å£æ˜¯æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ Javaä¸­æ‹¥æœ‰å¤§é‡å‡½æ•°å¼æ¥å£ï¼Œå¦‚java.lang.Runnable JDK8åæä¾›äº†ä¸€ç³»åˆ—æ–°çš„å‡½æ•°å¼æ¥å£ï¼Œä½äºjava.util.function JDK8å¸¸ç”¨å‡½æ•°å¼æ¥å£ æ¥å£ ç”¨é€” Consumer å¯¹åº”ä¸€ä¸ªè¾“å…¥å‚æ•°æ— è¾“å‡ºçš„åŠŸèƒ½ä»£ç  Function\u0026lt;T, R\u0026gt; å¯¹åº”ä¸€ä¸ªè¾“å…¥å‚æ•°ä¸”éœ€è¦è¿”å›æ•°æ®çš„åŠŸèƒ½ä»£ç  Predicate ç”¨äºæ¡ä»¶åˆ¤æ–­ï¼Œå›ºå®šè¿”å›å¸ƒå°”å€¼ ä¸€ã€å‡½æ•°å¼æ¥å£Predicate è¯´æ˜ï¼š Predicateæ˜¯æ–°å¢çš„å‡½æ•°å¼æ¥å£ï¼Œä½äºjava.util.function Predicateç”¨äºæµ‹è¯•ä¼ å…¥çš„æ•°æ®æ˜¯å¦æ»¡è¶³åˆ¤æ–­è¦æ±‚ Predicateæ¥å£éœ€è¦å®ç°test()æ–¹æ³•è¿›è¡Œé€»è¾‘åˆ¤æ–­ ä»£ç ç¤ºä¾‹ï¼š package com.imooc.lambda; import java.util.Arrays; import java.util.List; import java.util.function.Predicate; /** * ç†è§£å‡½æ•°å¼ç¼–ç¨‹ * Predicateå‡½æ•°å¼æ¥å£çš„ä½¿ç”¨æ–¹æ³• * @author CubeMonkey * @create 2020-10-23 18:20 */ public class PredicateSample { public static void main(String[] args) { Predicate\u0026lt;Integer\u0026gt; predicate = n-\u0026gt;n\u0026lt;4; boolean result = predicate.test(10); System.out.println(result); List\u0026lt;Integer\u0026gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10); /*for (Integer num:list){ if (num % 2 == 1){ System.out.println(num); } }*/ filter(list, n -\u0026gt; n % 2 == 1);//å–æ‰€æœ‰å¥‡æ•° filter(list, n -\u0026gt; n % 2 == 0);//å–æ‰€æœ‰å¶æ•° filter(list, n -\u0026gt; n \u0026gt; 5 \u0026amp;\u0026amp; n % 2 == 0);//å–æ‰€æœ‰å¤§äº5çš„å¶æ•° } public static void filter(List\u0026lt;Integer\u0026gt; list, Predicate\u0026lt;Integer\u0026gt; predicate){ for (Integer num:list){ if (predicate.test(num)){ System.out.print(num+\u0026#34; \u0026#34;); } } System.out.println(); } } äºŒã€å‡½æ•°å¼æ¥å£Consumer ä»£ç ç¤ºä¾‹ï¼š package com.imooc.lambda; import java.util.function.Consumer; /** * Consumeræ¥å£çš„ä½¿ç”¨ * @author CubeMonkey * @create 2020-10-23 18:57 */ public class ConsumerSample { public static void main(String[] args) { output(s-\u0026gt;System.out.println(\u0026#34;å‘æ§åˆ¶å°æ‰“å°ï¼š\u0026#34; + s)); output(s-\u0026gt;{ System.out.println(\u0026#34;å‘xxxç½‘ç«™å‘é€æ•°æ®åŒ…ï¼š\u0026#34;+s); }); } public static void output(Consumer\u0026lt;String\u0026gt; consumer){ String text = \u0026#34;å¤©å°†é™å¤§ä»»äºæ–¯äººä¹Ÿï¼Œå¿…å…ˆè‹¦å…¶å¿ƒå¿—ï¼ŒåŠ³å…¶ç­‹éª¨ï¼Œé¥¿å…¶ä½“è‚¤ï¼Œç©ºä¹å…¶èº«ï¼Œè¡Œæ‹‚ä¹±å…¶æ‰€ä¸ºã€‚\u0026#34;; consumer.accept(text); } } ä¸‰ã€å‡½æ•°å¼æ¥å£Function ä»£ç ç¤ºä¾‹ï¼š package com.imooc.lambda; import java.util.Random; import java.util.function.Function; /** * åˆ©ç”¨Functionå‡½æ•°å¼æ¥å£ç”Ÿæˆå®šé•¿éšæœºå­—ç¬¦ä¸² * @author CubeMonkey * @create 2020-10-23 19:07 */ public class FunctionSample { public static void main(String[] args) { Function\u0026lt;Integer, String\u0026gt; randomStringFunction = l -\u0026gt; { String chars = \u0026#34;abcdefhigklmnopqrstuvwxyz0123456789\u0026#34;; StringBuffer stringBuffer = new StringBuffer(); Random random = new Random(); for (int i = 0; i \u0026lt; l; i++) { int position = random.nextInt(chars.length()); stringBuffer.append(chars.charAt(position)); } return stringBuffer.toString(); }; System.out.println(randomStringFunction.apply(32)); } } é¢å‘å‡½æ•°å¼ç¼–ç¨‹ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹æ¯”è¾ƒ é¢å‘å¯¹è±¡ç¼–ç¨‹ å‡½æ•°å¼ç¼–ç¨‹ è®¾è®¡æ€è·¯ é¢å‘å¯¹è±¡ é¢å‘è¿‡ç¨‹ å¼€å‘ä¾§é‡ ä¾§é‡è¿‡ç¨‹ï¼Œé‡åˆ†æï¼Œé‡è®¾è®¡ ä¾§é‡ç»“æœï¼Œå¿«é€Ÿå®ç° å¯è¯»æ€§ ç»“æ„å¤æ‚ï¼Œç›¸å¯¹è¾ƒå·® æ›´é€‚åˆäººçœ¼é˜…è¯»ï¼Œå¯è¯»æ€§æ›´å¥½ ä»£ç é‡ å¤š å°‘ å¹¶å‘é—®é¢˜ è®¾è®¡ä¸å½“ï¼Œä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ å¥å£®æ€§ å¥½ å·® ä½¿ç”¨åœºæ™¯ ä¸­å¤§å‹é¡¹ç›®ï¼Œå¤šäººåä½œå·¥ç¨‹ å°å‹åº”ç”¨ï¼Œè¦æ±‚å¿«é€Ÿå®ç° Streamæµå¼å¤„ç† ä»€ä¹ˆæ˜¯Streamæµå¼å¤„ç† Streamæµå¼å¤„ç†æ˜¯å»ºç«‹åœ¨LambdaåŸºç¡€ä¸Šçš„å¤šæ•°æ®å¤„ç†æŠ€æœ¯ Streamå¯¹é›†åˆæ•°æ®å¤„ç†è¿›è¡Œé«˜åº¦æŠ½è±¡ï¼Œæå¤§ç®€åŒ–ä»£ç é‡ Streamå¯å¯¹é›†åˆè¿›è¡Œè¿­ä»£ï¼Œå»é‡ï¼Œç­›é€‰ï¼Œæ’åºï¼Œèšåˆç­‰ä¸€ç³»åˆ—å¤„ç† Streamå¸¸ç”¨æ–¹æ³• æ¥å£ ç”¨é€” forEach å¾ªç¯éå† map mapæ–¹æ³•ç”¨äºæ˜ å°„æ¯ä¸ªå…ƒç´ å¯¹åº”çš„ç»“æœ filter filteræ–¹æ³•ç”¨äºé€šè¿‡è®¾ç½®çš„æ¡ä»¶è¿‡æ»¤å‡ºå…ƒç´  limit limitæ–¹æ³•ç”¨äºè·å–æŒ‡å®šæ•°é‡çš„æµ sorted sortedæ–¹æ³•ç”¨äºå¯¹æµè¿›è¡Œæ’åº Collectors Collectorsç±»å®ç°å°†æµè½¬æ¢æˆé›†åˆå’Œèšåˆå…ƒç´  Streamæµçš„äº”ç§åˆ›å»ºæ–¹å¼ package com.imooc.stream; import org.junit.Test; import java.util.ArrayList; import java.util.List; import java.util.Random; import java.util.stream.IntStream; import java.util.stream.Stream; /** * Streamæµå¯¹è±¡çš„äº”ç§åˆ›å»ºæ–¹å¼ * @author CubeMonkey * @create 2020-10-23 19:50 */ public class StreamGenerator { //åŸºäºæ•°ç»„è¿›è¡Œåˆ›å»º @Test public void generator1(){ String[] arr = {\u0026#34;Lily\u0026#34;, \u0026#34;Andy\u0026#34;, \u0026#34;Jackson\u0026#34;, \u0026#34;Smith\u0026#34;}; Stream\u0026lt;String\u0026gt; stream = Stream.of(arr); stream.forEach(s-\u0026gt; System.out.println(s)); } //2.åŸºäºé›†åˆè¿›è¡Œåˆ›å»º @Test public void generator2(){ List\u0026lt;String\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(\u0026#34;Lily\u0026#34;); list.add(\u0026#34;Andy\u0026#34;); list.add(\u0026#34;Jackson\u0026#34;); list.add(\u0026#34;Smith\u0026#34;); Stream\u0026lt;String\u0026gt; stream = list.stream(); stream.forEach(s-\u0026gt; System.out.println(s)); } //3.åˆ©ç”¨generateæ–¹æ³•åˆ›å»ºæ— é™é•¿åº¦æµ @Test public void generator3(){ Stream\u0026lt;Integer\u0026gt; stream = Stream.generate(() -\u0026gt; new Random().nextInt(100000)); stream.limit(10).forEach(i-\u0026gt; System.out.println(i)); } //4.åŸºäºè¿­ä»£å™¨åˆ›å»ºæµ @Test public void generator4(){ Stream\u0026lt;Integer\u0026gt; stream = Stream.iterate(1, n -\u0026gt; n + 1); stream.limit(100).forEach(i-\u0026gt; System.out.println(i)); } //5.åŸºäºå­—ç¬¦åºåˆ—åˆ›å»ºæµ @Test public void generator5(){ String str = \u0026#34;abcdefgæˆ‘çš„\u0026#34;; IntStream stream = str.chars(); stream.forEach(c-\u0026gt; System.out.println(c)); } } Streamå¸¸ç”¨æ–¹æ³•ä»£ç ç¤ºä¾‹ package com.imooc.stream; import org.junit.Test; import java.util.Arrays; import java.util.List; import java.util.Set; import java.util.stream.Collectors; import java.util.stream.Stream; /** * @author CubeMonkey * @create 2020-10-23 20:29 */ public class StreamMethod { //æå–é›†åˆä¸­æ‰€æœ‰å¶æ•°å¹¶æ±‚å’Œ @Test public void case1(){ List\u0026lt;String\u0026gt; list = Arrays.asList(\u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;, \u0026#34;4\u0026#34;, \u0026#34;5\u0026#34;, \u0026#34;6\u0026#34;); int sum = list.stream()//è·å–streamå¯¹è±¡ .mapToInt(s -\u0026gt; Integer.parseInt(s)) //mapToIntå°†æµä¸­æ¯ä¸€ä¸ªæ•°æ®è½¬ä¸ºæ•´æ•° .filter(num -\u0026gt; num % 2 == 0)//filterå¯¹æµæ•°æ®è¿›è¡Œè¿‡æ»¤ .sum();//æ±‚å’Œ System.out.println(sum); } //æ‰€æœ‰åå­—é¦–å­—æ¯å¤§å†™ @Test public void case2(){ List\u0026lt;String\u0026gt; list = Arrays.asList(\u0026#34;lily\u0026#34;, \u0026#34;smith\u0026#34;, \u0026#34;jackson\u0026#34;); Stream\u0026lt;String\u0026gt; stream = list.stream(); //æŒ‰è§„åˆ™å¯¹æ¯ä¸€ä¸ªæµè¿›è¡Œè½¬åŒ– List\u0026lt;String\u0026gt; collect = stream.map(s -\u0026gt; s.substring(0, 1).toUpperCase() + s.substring(1)) //collectå¯¹æµæ•°æ®è¿›è¡Œæ”¶é›†ï¼Œç”Ÿæˆæ–°çš„List/Set .collect(Collectors.toList()); for (String s : collect) { System.out.println(s); } } //å°†æ‰€æœ‰å¥‡æ•°ä»å¤§åˆ°å°è¿›è¡Œæ’åºï¼Œä¸”ä¸è®¸å‡ºç°é‡å¤ @Test public void case3(){ List\u0026lt;Integer\u0026gt; list = Arrays.asList(1, 60, 38, 21, 51, 60, 51, 73); List\u0026lt;Integer\u0026gt; newList = list.stream().filter(num -\u0026gt; num % 2 == 1) .distinct() .sorted((a, b) -\u0026gt; b - a) .collect(Collectors.toList()); System.out.println(newList); } } ","permalink":"https://rexhub.space/posts/back/java/lambda/","summary":"Lambdaè¡¨è¾¾å¼ ä»€ä¹ˆæ˜¯Lambdaè¡¨è¾¾å¼ JDK8å¼€å§‹æ”¯æŒLambdaè¡¨è¾¾å¼ï¼Œç”¨æ¥è®©ç¨‹åºç¼–å†™æ›´ä¼˜é›… åˆ©ç”¨Lambdaå¯ä»¥æ›´ç®€æ´çš„å®ç°åŒ¿åå†…éƒ¨ç±»ä¸å‡½æ•°å£°æ˜ä¸è°ƒç”¨ åŸºäºLambdaæä¾›streamæµå¼å¤„ç†æå¤§ç®€åŒ–å¯¹é›†åˆçš„æ“ä½œ Lambdaè¡¨è¾¾å¼è¯­æ³•æ ¼å¼ï¼š è¯´æ˜ï¼š ä»£ç ç¤ºä¾‹ï¼š MathOperation.java\npackage com.imooc.lambda; /** * å››åˆ™è¿ç®—æ¥å£ * @author CubeMonkey * @create 2020-10-23 17:39 */ @FunctionalInterface //é€šçŸ¥ç¼–è¯‘å™¨è¿™æ˜¯å‡½æ•°å¼æ¥å£ï¼Œè¿›è¡ŒæŠ½è±¡æ–¹æ³•æ£€æŸ¥ public interface MathOperation { public Float operate(Integer a, Integer b); } LambdaSample.java\npackage com.imooc.lambda; /** * @author CubeMonkey * @create 2020-10-23 17:42 */ public class LambdaSample { public static void main(String[] args) { //1.æ ‡å‡†çš„ä½¿ç”¨æ–¹å¼ //çº¦æŸæ¡ä»¶ï¼šLambdaè¡¨è¾¾å¼åªèƒ½å®ç°æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼ŒJavaç§°ä¸º\u0026#34;å‡½æ•°å¼æ¥å£\u0026#34; MathOperation addition = (Integer a, Integer b)-\u0026gt;{ System.out.println(\u0026#34;åŠ æ³•è¿ç®—\u0026#34;); return a+b+0f; }; System.","title":"Lambda(java)"},{"content":"Mavenå…¥é—¨ Mavenä»‹ç» Mavenæ˜¯é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯¹è½¯ä»¶é¡¹ç›®æä¾›æ„å»ºä¸ä¾èµ–ç®¡ç† Mavenæ˜¯Apacheä¸‹çš„Javaå¼€æºé¡¹ç›® Mavenä¸ºJavaé¡¹ç›®æä¾›äº†ç»Ÿä¸€çš„ç®¡ç†æ–¹å¼ï¼Œå·²æˆä¸ºä¸šç•Œæ ‡å‡† è§£å†³äº†çš„é—®é¢˜ å·¥ç¨‹çš„ç»“æ„ä¸ç»Ÿä¸€ ç¬¬ä¸‰æ–¹jaråŒ…å¤šçš„æ—¶å€™ï¼Œä¸ä¾¿äºç®¡ç† å·¥ç¨‹æ‰“åŒ…çš„å›°éš¾ Mavenæ ¸å¿ƒç‰¹æ€§ é¡¹ç›®è®¾ç½®éµå¾ªç»Ÿä¸€çš„è§„åˆ™ï¼Œä¿è¯ä¸åŒå¼€å‘ç¯å¢ƒçš„å…¼å®¹æ€§ å¼ºå¤§çš„ä¾èµ–ç®¡ç†ï¼Œé¡¹ç›®ä¾èµ–ç»„ä»¶è‡ªåŠ¨ä¸‹è½½ã€è‡ªåŠ¨æ›´æ–° å¯æ‰©å±•çš„æ’ä»¶æœºåˆ¶ï¼Œä½¿ç”¨ç®€å•ï¼ŒåŠŸèƒ½ä¸°å¯Œ Mavençš„åæ ‡ï¼š GroupIdï¼šæœºæ„æˆ–è€…å›¢é˜Ÿçš„è‹±æ–‡ï¼Œé‡‡ç”¨\u0026quot;é€†å‘åŸŸå\u0026quot;å½¢å¼ä¹¦å†™ ArtifactIdï¼šé¡¹ç›®åç§°ï¼Œè¯´æ˜å…¶ç”¨é€”ï¼Œä¾‹å¦‚ï¼šcms(å†…å®¹ç®¡ç†ç³»ç»Ÿ)ï¼Œoa(åŠå…¬è‡ªåŠ¨åŒ–ç³»ç»Ÿ) Versionï¼šç‰ˆæœ¬å·ï¼Œä¸€èˆ¬é‡‡ç”¨â€œç‰ˆæœ¬+å•è¯â€å½¢å¼ï¼Œä¾‹å¦‚ï¼š1.0.0.RELEASE Mavené¡¹ç›®æ ‡å‡†ç»“æ„ ç›®å½• ç”¨é€” ${basedir} æ ¹ç›®å½•ï¼Œç”¨äºä¿å­˜pom.xml ${basedir}/src/main/java Javaæºä»£ç ç›®å½• ${basedir}/src/main/resources èµ„æºç›®å½•ï¼Œä¿å­˜é…ç½®æ–‡ä»¶ã€é™æ€å›¾ç‰‡ç­‰ ${basedir}/src/test/java æµ‹è¯•ç±»çš„æºä»£ç  ${basedir}/src/test/resources æµ‹è¯•æ—¶éœ€è¦ä½¿ç”¨çš„èµ„æºæ–‡ä»¶ ${basedir}/target é¡¹ç›®è¾“å‡ºçš„ç›®å½•ï¼Œç”¨äºå­˜å‚¨jarã€waræ–‡ä»¶ ${basedir}/target/classes å­—èŠ‚ç (.class)çš„ç¼–è¯‘è¾“å‡ºç›®å½• ${basedir}/pom.xml é¡¹ç›®(Project)å¯¹è±¡(Object)æ¨¡å‹(Model)æ–‡ä»¶ Mavençš„ä¾èµ–ç®¡ç† è¯´æ˜ Mavenåˆ©ç”¨dependency(ä¾èµ–)è‡ªåŠ¨ä¸‹è½½ã€ç®¡ç†ç¬¬ä¸‰æ–¹Jar åœ¨pom.xmlæ–‡ä»¶ä¸­é…ç½®é¡¹ç›®ä¾èµ–çš„ç¬¬ä¸‰æ–¹ç»„ä»¶ mavenè‡ªåŠ¨å°†ä¾èµ–ä»è¿œç¨‹ä»“åº“ä¸‹è½½è‡³æœ¬åœ°ä»“åº“ï¼Œå¹¶åœ¨å·¥ç¨‹ä¸­å¼•ç”¨ è·å– apacheï¼šhttps://search.maven.org/\né˜¿é‡Œäº‘ï¼šhttps://maven.aliyun.com/mvn/search\næœ¬åœ°ä»“åº“ä¸ä¸­å¤®ä»“åº“ ä½¿ç”¨ä»£ç†ï¼š\n\u0026lt;repositories\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;!-- åˆ›å»ºç§æœçš„åœ°å€ --\u0026gt; \u0026lt;id\u0026gt;aliyun\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;aliyun\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;https://maven.aliyun.com/repository/public\u0026lt;/url\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;/repositories\u0026gt; æ™®é€šé¡¹ç›®çš„åˆ›å»ºä¸æ‰“åŒ…æ¡ˆä¾‹ï¼ˆå®ç°ä¸­æ–‡ä¸æ‹¼éŸ³çš„è½¬åŒ–ï¼‰ åˆ›å»º\u0026amp;ä½¿ç”¨ï¼š æ–°å»ºä¸€ä¸ªMavené¡¹ç›®ï¼Œé»˜è®¤çš„jdkæ˜¯1.5ï¼Œå°†jdkçš„ç‰ˆæœ¬è°ƒæ•´ä¸º1.8\né…ç½®ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œä½¿å¾—mavenè‡ªåŠ¨ä»è¿œç¨‹ä»“åº“ä¸­ä¸‹è½½ç¬¬ä¸‰æ–¹jaråŒ…åˆ°æœ¬åœ°ä»“åº“\næ ¸å¿ƒè¯­å¥\n\u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.1.47\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt;\t\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.belerweb\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;pinyin4j\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.5.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-webmvc\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.1.1.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; åˆ›å»ºç®€å•çš„javaæ–‡ä»¶\nPinyinTestor.java\npublic class PinyinTestor { public static void main(String[] args) { Scanner scanner = new Scanner(System.in); String str = scanner.nextLine(); String[] pinyin = PinyinHelper.toHanyuPinyinStringArray(str.charAt(0)); for(String py:pinyin) { System.out.println(py); } } } è¿è¡Œmainæ–¹æ³•\næ‰“åŒ… åœ¨pom.xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œæ ¹ç›®å½•ä¸‹é…ç½®æ‰“åŒ…çš„ä¿¡æ¯ï¼Œä½¿ç”¨maven-assemble-pluginæ’ä»¶è¿›è¡Œæ‰“åŒ…è¾“å‡º\n\u0026lt;build\u0026gt; \u0026lt;!-- é…ç½®æ’ä»¶ --\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-assembly-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;!-- ç»å…¸ç‰ˆæœ¬ --\u0026gt; \u0026lt;version\u0026gt;2.5.5\u0026lt;/version\u0026gt; \u0026lt;!-- ç”¨äºè¯´æ˜æ‰“åŒ…è¿‡ç¨‹ä¸­çš„ä¸€äº›ç»†èŠ‚ --\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;!-- æŒ‡å®šé¡¹ç›®çš„å…¥å£ç±» --\u0026gt; \u0026lt;archive\u0026gt; \u0026lt;manifest\u0026gt; \u0026lt;mainClass\u0026gt;com.imooc.maven.PinyinTestor \u0026lt;/mainClass\u0026gt; \u0026lt;/manifest\u0026gt; \u0026lt;/archive\u0026gt; \u0026lt;!-- æè¿°ç¬¦å¼•ç”¨ æ‰“åŒ…è¿‡ç¨‹ä¸­æ‰€ç”¨åˆ°çš„å‚æ•° --\u0026gt; \u0026lt;descriptorRefs\u0026gt; \u0026lt;!-- all in one, åœ¨æ‰“åŒ…æ—¶ä¼šå°†æ‰€æœ‰å¼•ç”¨çš„jaråŒ…åˆå¹¶åˆ°jaræ–‡ä»¶ä¸­ --\u0026gt;\t\u0026lt;descriptorRef\u0026gt;jar-with-dependencies\u0026lt;/descriptorRef\u0026gt; \u0026lt;/descriptorRefs\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; è¿è¡Œassemblyæ’ä»¶ï¼Œè¾“å‡ºåˆå¹¶çš„jaræ–‡ä»¶\nç”¨å‘½ä»¤è¡Œæ‰§è¡Œè¾“å‡ºçš„jaråŒ…\nWebé¡¹ç›®çš„åˆ›å»ºä¸æ‰“åŒ…æ¡ˆä¾‹ åˆ›å»º\u0026amp;ä½¿ç”¨ é…ç½®å¥½tomcatï¼Œåˆ›å»ºä¸€ä¸ªæ™®é€šçš„Mavené¡¹ç›®ï¼Œé»˜è®¤çš„jdkæ˜¯1.5ï¼Œå°†jdkçš„ç‰ˆæœ¬è°ƒæ•´ä¸º1.8\nè¿›å…¥é¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼Œé…ç½®javaçš„ç¼–è¯‘çº§åˆ«ä¸ºjdk1.8\nåœ¨src/mainç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåä¸ºwebapp\nå°†mavenå·¥ç¨‹å˜æˆæ ‡å‡†çš„webé¡¹ç›®ï¼Œæ‰“å¼€è¯¥å·¥ç¨‹çš„å±æ€§é…ç½®é¡µé¢ï¼Œé€‰æ‹©Project Facetsï¼Œç‚¹å‡»Convert to facted from\u0026hellip;å¼€å¯é¡¹ç›®æ¨¡å—çš„é¢æ¿ï¼Œé€‰æ‹©ç‰ˆæœ¬ä¸º3.1ï¼Œå¹¶æŒ‡å®šè¿è¡Œç¯å¢ƒï¼Œä¸è¦ç›´æ¥ç‚¹å‡»apply and closeï¼Œè¿˜æ²¡å®Œ\nç‚¹å‡»å›¾ä¸­å‡ºç°çš„Further configuration available\u0026hellip;ï¼Œè®¾ç½®content directoryä¸ºsrc/main/webappï¼Œå‹¾é€‰é…ç½®xmlæ–‡ä»¶\nå†åœ¨å³ä¾§æ‰¾åˆ°deployment assemblyï¼Œæ·»åŠ mavençš„ä¾èµ–ï¼Œå¦åˆ™åœ¨mavenåŠ å…¥çš„jaråŒ…ä¼šå¤±æ•ˆ\nåœ¨åˆ›å»ºçš„webappæ–‡ä»¶å¤¹ä¸­å‡ºç°MATE-INFå’ŒWEB-INFç›®å½•è¯´æ˜ï¼Œå·²ç»æˆåŠŸå°†æ™®é€šçš„mavenå·¥ç¨‹å˜ä¸ºæ ‡å‡†çš„webå·¥ç¨‹\nåœ¨webappæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªindex.jsp ï¼Œ åœ¨é‡Œé¢å†™å¦‚this is a maven project!!!\nå°†å½“å‰å·¥ç¨‹å‘å¸ƒåˆ°tomcatä¸‹è¿è¡Œ\nåœ¨æµè§ˆå™¨çš„urlä¸­è¾“å…¥http:localhost:8080/web-maven/ï¼Œ åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºthis is a maven project!!!\nâ€‹\tæ‰“åŒ… åœ¨pom.xmlæ–‡ä»¶çš„æ ¹ç›®å½•ä¸­ç¼–å†™é…ç½®waråŒ…çš„ä¿¡æ¯\n\u0026lt;!-- packagingä»£è¡¨è¾“å‡ºçš„æ ¼å¼ï¼Œé»˜è®¤çš„æ˜¯jaråŒ… --\u0026gt; \u0026lt;packaging\u0026gt;war\u0026lt;/packaging\u0026gt; \u0026lt;build\u0026gt; \u0026lt;!-- è¾“å‡ºçš„waråŒ…å --\u0026gt; \u0026lt;finalName\u0026gt;web-maven\u0026lt;/finalName\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-war-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.2.2\u0026lt;/version\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; è¿è¡Œmavenä¸­çš„æ’ä»¶\nç‚¹å‡»run\nå°†ç”Ÿæˆçš„waråŒ…æ”¾åœ¨tomcatçš„webappç›®å½•ä¸‹ï¼Œè¿è¡Œtomcat binç›®å½•ä¸‹çš„startup.batæ–‡ä»¶ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥http:localhost:8080/web-maven/\nMavenå¸¸ç”¨å‘½ä»¤ å‘½ä»¤ ç”¨é€” mvn archetype:generate åˆ›å»ºå·¥ç¨‹ç»“æ„ mvn compile ç¼–è¯‘æºä»£ç  mvn test æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ mvn clean æ¸…é™¤äº§ç”Ÿçš„é¡¹ç›® mvn package é¡¹ç›®æ‰“åŒ… mvn install å®‰è£…è‡³æœ¬åœ°ä»“åº“ ","permalink":"https://rexhub.space/posts/back/java/build_tool/maven%E5%9F%BA%E7%A1%80/","summary":"Mavenå…¥é—¨ Mavenä»‹ç» Mavenæ˜¯é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯¹è½¯ä»¶é¡¹ç›®æä¾›æ„å»ºä¸ä¾èµ–ç®¡ç† Mavenæ˜¯Apacheä¸‹çš„Javaå¼€æºé¡¹ç›® Mavenä¸ºJavaé¡¹ç›®æä¾›äº†ç»Ÿä¸€çš„ç®¡ç†æ–¹å¼ï¼Œå·²æˆä¸ºä¸šç•Œæ ‡å‡† è§£å†³äº†çš„é—®é¢˜ å·¥ç¨‹çš„ç»“æ„ä¸ç»Ÿä¸€ ç¬¬ä¸‰æ–¹jaråŒ…å¤šçš„æ—¶å€™ï¼Œä¸ä¾¿äºç®¡ç† å·¥ç¨‹æ‰“åŒ…çš„å›°éš¾ Mavenæ ¸å¿ƒç‰¹æ€§ é¡¹ç›®è®¾ç½®éµå¾ªç»Ÿä¸€çš„è§„åˆ™ï¼Œä¿è¯ä¸åŒå¼€å‘ç¯å¢ƒçš„å…¼å®¹æ€§ å¼ºå¤§çš„ä¾èµ–ç®¡ç†ï¼Œé¡¹ç›®ä¾èµ–ç»„ä»¶è‡ªåŠ¨ä¸‹è½½ã€è‡ªåŠ¨æ›´æ–° å¯æ‰©å±•çš„æ’ä»¶æœºåˆ¶ï¼Œä½¿ç”¨ç®€å•ï¼ŒåŠŸèƒ½ä¸°å¯Œ Mavençš„åæ ‡ï¼š GroupIdï¼šæœºæ„æˆ–è€…å›¢é˜Ÿçš„è‹±æ–‡ï¼Œé‡‡ç”¨\u0026quot;é€†å‘åŸŸå\u0026quot;å½¢å¼ä¹¦å†™ ArtifactIdï¼šé¡¹ç›®åç§°ï¼Œè¯´æ˜å…¶ç”¨é€”ï¼Œä¾‹å¦‚ï¼šcms(å†…å®¹ç®¡ç†ç³»ç»Ÿ)ï¼Œoa(åŠå…¬è‡ªåŠ¨åŒ–ç³»ç»Ÿ) Versionï¼šç‰ˆæœ¬å·ï¼Œä¸€èˆ¬é‡‡ç”¨â€œç‰ˆæœ¬+å•è¯â€å½¢å¼ï¼Œä¾‹å¦‚ï¼š1.0.0.RELEASE Mavené¡¹ç›®æ ‡å‡†ç»“æ„ ç›®å½• ç”¨é€” ${basedir} æ ¹ç›®å½•ï¼Œç”¨äºä¿å­˜pom.xml ${basedir}/src/main/java Javaæºä»£ç ç›®å½• ${basedir}/src/main/resources èµ„æºç›®å½•ï¼Œä¿å­˜é…ç½®æ–‡ä»¶ã€é™æ€å›¾ç‰‡ç­‰ ${basedir}/src/test/java æµ‹è¯•ç±»çš„æºä»£ç  ${basedir}/src/test/resources æµ‹è¯•æ—¶éœ€è¦ä½¿ç”¨çš„èµ„æºæ–‡ä»¶ ${basedir}/target é¡¹ç›®è¾“å‡ºçš„ç›®å½•ï¼Œç”¨äºå­˜å‚¨jarã€waræ–‡ä»¶ ${basedir}/target/classes å­—èŠ‚ç (.class)çš„ç¼–è¯‘è¾“å‡ºç›®å½• ${basedir}/pom.xml é¡¹ç›®(Project)å¯¹è±¡(Object)æ¨¡å‹(Model)æ–‡ä»¶ Mavençš„ä¾èµ–ç®¡ç† è¯´æ˜ Mavenåˆ©ç”¨dependency(ä¾èµ–)è‡ªåŠ¨ä¸‹è½½ã€ç®¡ç†ç¬¬ä¸‰æ–¹Jar åœ¨pom.xmlæ–‡ä»¶ä¸­é…ç½®é¡¹ç›®ä¾èµ–çš„ç¬¬ä¸‰æ–¹ç»„ä»¶ mavenè‡ªåŠ¨å°†ä¾èµ–ä»è¿œç¨‹ä»“åº“ä¸‹è½½è‡³æœ¬åœ°ä»“åº“ï¼Œå¹¶åœ¨å·¥ç¨‹ä¸­å¼•ç”¨ è·å– apacheï¼šhttps://search.maven.org/\né˜¿é‡Œäº‘ï¼šhttps://maven.aliyun.com/mvn/search\næœ¬åœ°ä»“åº“ä¸ä¸­å¤®ä»“åº“ ä½¿ç”¨ä»£ç†ï¼š\n\u0026lt;repositories\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;!-- åˆ›å»ºç§æœçš„åœ°å€ --\u0026gt; \u0026lt;id\u0026gt;aliyun\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;aliyun\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;https://maven.aliyun.com/repository/public\u0026lt;/url\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;/repositories\u0026gt; æ™®é€šé¡¹ç›®çš„åˆ›å»ºä¸æ‰“åŒ…æ¡ˆä¾‹ï¼ˆå®ç°ä¸­æ–‡ä¸æ‹¼éŸ³çš„è½¬åŒ–ï¼‰ åˆ›å»º\u0026amp;ä½¿ç”¨ï¼š æ–°å»ºä¸€ä¸ªMavené¡¹ç›®ï¼Œé»˜è®¤çš„jdkæ˜¯1.5ï¼Œå°†jdkçš„ç‰ˆæœ¬è°ƒæ•´ä¸º1.8\né…ç½®ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œä½¿å¾—mavenè‡ªåŠ¨ä»è¿œç¨‹ä»“åº“ä¸­ä¸‹è½½ç¬¬ä¸‰æ–¹jaråŒ…åˆ°æœ¬åœ°ä»“åº“\næ ¸å¿ƒè¯­å¥\n\u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.1.47\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt;\t\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.belerweb\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;pinyin4j\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.","title":"Maven"},{"content":"MyBatisåŸºç¡€å…¥é—¨ è½¯ä»¶å¼€å‘ä¸­çš„æ¡†æ¶ æ¡†æ¶æ˜¯å¯è¢«åº”ç”¨å¼€å‘è€…å®šåˆ¶çš„åº”ç”¨éª¨æ¶ æ¡†æ¶æ˜¯ä¸€ç§è§„åˆ™ï¼Œä¿è¯å¼€å‘è€…éµå¾ªç›¸åŒçš„æ–¹å¼å¼€å‘ç¨‹åº æ¡†æ¶æå€¡â€œä¸è¦é‡å¤é€ è½®å­â€ï¼Œå¯¹åŸºç¡€åŠŸèƒ½è¿›è¡Œå°è£… æ¡†æ¶çš„ä¼˜ç‚¹ æå¤§æé«˜äº†å¼€å‘æ•ˆç‡ ç»Ÿä¸€çš„ç¼–ç è§„åˆ™ï¼Œæœ‰åˆ©äºå›¢é˜Ÿç®¡ç† çµæ´»é…ç½®çš„åº”ç”¨ï¼Œæ‹¥æœ‰æ›´å¥½çš„ç»´æŠ¤æ€§ SSMå¼€å‘æ¡†æ¶ S -\u0026gt; Spring S -\u0026gt; Spring MVC M -\u0026gt; MyBatis ä»€ä¹ˆæ˜¯MyBatis MyBatisæ˜¯ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ MyBatisä½¿ç”¨XMLå°†SQLä¸ç¨‹åºè§£è€¦ï¼Œä¾¿äºç»´æŠ¤ MyBatiså­¦ä¹ ç®€å•ï¼Œæ‰§è¡Œé«˜æ•ˆï¼Œæ˜¯JDBCçš„å»¶å±• MyBatiså¼€å‘æµç¨‹ å¼•å…¥MyBatisä¾èµ– åˆ›å»ºæ ¸å¿ƒé…ç½®æ–‡ä»¶ åˆ›å»ºå®ä½“(Entity)ç±» åˆ›å»ºMapperæ˜ å°„æ–‡ä»¶ åˆå§‹åŒ–SessionFactory åˆ©ç”¨SqlSessionå¯¹è±¡æ“ä½œæ•°æ® MyBatisç¯å¢ƒé…ç½® mybatis-config.xmlè¯´æ˜ MyBatisé‡‡ç”¨XMLæ ¼å¼é…ç½®æ•°æ®åº“ç¯å¢ƒä¿¡æ¯ MyBatisç¯å¢ƒé…ç½®æ ‡ç­¾ environmentåŒ…å«æ•°æ®åº“é©±åŠ¨ã€URLã€ç”¨æˆ·åäºå¯†ç  mybatis-config.xmlç¤ºä¾‹ï¼š \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;environments default=\u0026#34;dev\u0026#34;\u0026gt; \u0026lt;!--æ ¹æ®ç¯å¢ƒï¼Œä¸åŒçš„ç¯å¢ƒä¸åŒçš„idï¼Œdev-\u0026gt;å¼€å‘ç¯å¢ƒ prd-\u0026gt;ç”Ÿäº§ç¯å¢ƒ --\u0026gt; \u0026lt;environment id=\u0026#34;dev\u0026#34;\u0026gt; \u0026lt;!--é‡‡ç”¨JDBCæ–¹å¼å¯¹æ•°æ®åº“äº‹åŠ¡è¿›è¡Œcommit/rollback--\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;\u0026gt;\u0026lt;/transactionManager\u0026gt; \u0026lt;!--æ•°æ®è¿æ¥æ–¹å¼ç®¡ç†æ•°æ®åº“è¿æ¥--\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/babytun?useUnicode=true\u0026amp;amp;characterEncoding=UTF-8\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;environment id=\u0026#34;prd\u0026#34;\u0026gt; \u0026lt;!--é‡‡ç”¨JDBCæ–¹å¼å¯¹æ•°æ®åº“äº‹åŠ¡è¿›è¡Œcommit/rollback--\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;\u0026gt;\u0026lt;/transactionManager\u0026gt; \u0026lt;!--æ•°æ®è¿æ¥æ–¹å¼ç®¡ç†æ•°æ®åº“è¿æ¥--\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://192.168.1.1:3306/babytun?useUnicode=true\u0026amp;amp;characterEncoding=UTF-8\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;/configuration\u0026gt; åˆ›å»ºSqlSession SqlSessionFactory SqlSessionFactoryæ˜¯MyBatisçš„æ ¸å¿ƒå¯¹è±¡ ç”¨äºåˆå§‹åŒ–MyBatisï¼Œåˆ›å»ºSqlSessionå¯¹è±¡ ä¿è¯SqlSessionFactoryåœ¨åº”ç”¨ä¸­å…¨å±€å”¯ä¸€ SqlSession SqlSessionæ˜¯MyBatisæ“ä½œæ•°æ®åº“çš„æ ¸å¿ƒå¯¹è±¡ SqlSessionä½¿ç”¨JDBCæ–¹å¼ä¸æ•°æ®åº“äº¤äº’ SqlSessionå¯¹è±¡æä¾›äº†æ•°æ®è¡¨CRUDå¯¹åº”æ–¹æ³• ç¤ºä¾‹ä»£ç  package com.imooc.mybatis; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import org.junit.Test; import java.io.IOException; import java.io.Reader; import java.sql.Connection; /** * JUNITå•å…ƒæµ‹è¯•ç±» * @author CubeMonkey * @create 2020-10-27 10:21 */ public class MyBatisTestor { @Test public void testSqlSessionFactory() throws IOException { //åˆ©ç”¨ReaderåŠ è½½classpathä¸‹çš„mybatis-config.xmlæ ¸å¿ƒé…ç½®æ–‡ä»¶ Reader reader = Resources.getResourceAsReader(\u0026#34;mybatis-config.xml\u0026#34;); //åˆå§‹åŒ–SqlSessionFactoryå¯¹è±¡ï¼ŒåŒæ—¶è§£æmybatis-config.xmlæ–‡ä»¶ SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader); SqlSession sqlSession = null; try { //åˆ›å»ºSqlSessionå¯¹è±¡ï¼ŒSqlSessionæ˜¯JDBCçš„æ‰©å±•ç±»ï¼Œç”¨äºä¸æ•°æ®åº“äº¤äº’ sqlSession = sqlSessionFactory.openSession(); //åˆ›å»ºæ•°æ®åº“è¿æ¥ï¼ˆæµ‹è¯•ç”¨ï¼‰ Connection conn = sqlSession.getConnection(); System.out.println(conn); }catch (Exception e){ e.printStackTrace(); } finally { if (sqlSession != null) { //å¦‚æœtype=\u0026#34;POOLED\u0026#34;, ä»£è¡¨ä½¿ç”¨è¿æ¥æ± ï¼Œcloseåˆ™æ˜¯å°†è¿æ¥å›æ”¶åˆ°è¿æ¥æ± ä¸­ //å¦‚æœtype=\u0026#34;UNPOOLED\u0026#34;,ä»£è¡¨ç›´è¿ï¼Œcloseåˆ™ä¼šè°ƒç”¨Connection.close()æ–¹æ³•å…³é—­è¿æ¥ sqlSession.close(); } } } } åˆå§‹åŒ–å·¥å…·ç±»MyBatisUtils MyBatisUtilsä»£ç ç¤ºä¾‹ï¼š package com.imooc.mybatis.utils; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import java.io.IOException; import java.io.Reader; /** * MyBatisUtilså·¥å…·ç±»ï¼Œåˆ›å»ºå…¨å±€å”¯ä¸€çš„SqlSessionFactoryå¯¹è±¡ * @author CubeMonkey * @create 2020-10-27 10:51 */ public class MyBatisUtils { //åˆ©ç”¨static(é™æ€)å±äºç±»ä¸å±äºå¯¹è±¡ï¼Œä¸”å…¨å±€å”¯ä¸€ private static SqlSessionFactory sqlSessionFactory = null; //åˆ©ç”¨é™æ€ä»£ç å—åœ¨åˆå§‹åŒ–ç±»æ—¶å®ä¾‹åŒ–sqlSessionFactory static{ Reader reader = null; try { reader = Resources.getResourceAsReader(\u0026#34;mybatis-config.xml\u0026#34;); sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader); } catch (IOException e) { e.printStackTrace(); //åˆå§‹åŒ–é”™è¯¯æ—¶ï¼Œé€šè¿‡æŠ›å‡ºå¼‚å¸¸ExceptionInitializerErroré€šçŸ¥è°ƒç”¨è€… throw new ExceptionInInitializerError(e); } } /** * openSession åˆ›å»ºä¸€ä¸ªæ–°çš„SqlSessionå¯¹è±¡ * @return SqlSessionå¯¹è±¡ */ public static SqlSession openSession(){ return sqlSessionFactory.openSession(); } /** * é‡Šæ”¾ä¸€ä¸ªæœ‰æ•ˆçš„SqlSessionå¯¹è±¡ * @param sqlSession å‡†å¤‡é‡Šæ”¾sqlSessionå¯¹è±¡ */ public static void closeSession(SqlSession sqlSession){ if (sqlSession != null){ sqlSession.close(); } } } MyBatisUtilså·¥å…·ç±»ä½¿ç”¨å®ä¾‹ï¼š\n@Test public void testMyBatisUtils(){ SqlSession sqlSession = null; try { sqlSession = MyBatisUtils.openSession(); Connection conn = sqlSession.getConnection(); System.out.println(conn); }catch (Exception e){ e.printStackTrace(); }finally { MyBatisUtils.closeSession(sqlSession); } } MyBatisæ•°æ®æŸ¥è¯¢ ç®€å•æŸ¥è¯¢ MyBatisæ•°æ®æŸ¥è¯¢æ­¥éª¤ åˆ›å»ºå®ä½“ç±»(Entity) åˆ›å»ºMapper Xml ç¼–å†™SQLæ ‡ç­¾ å¼€å¯é©¼å³°å‘½åæ˜ å°„ æ–°å¢ SqlSessionæ‰§è¡Œselectè¯­å¥ ç¤ºä¾‹ï¼š åˆ›å»ºå®ä½“ç±»\nGoods.java\npackage com.imooc.mybatis.entity; /** * @author CubeMonkey * @create 2020-10-27 11:28 */ public class Goods { private Integer goodsId;//å•†å“ç¼–å· private String title;//æ ‡é¢˜ private String subTitle;//å­æ ‡é¢˜ private Float originalCost;//åŸå§‹ä»·æ ¼ private Float currentPrice;//å½“å‰ä»·æ ¼ private Float discount;//æŠ˜æ‰£ç‡ private Integer isFreeDelivery;//æ˜¯å¦åŒ…é‚®ï¼Œ1-åŒ…é‚® 0-ä¸åŒ…é‚® private Integer categoryId;//åˆ†ç±»ç¼–å· public Integer getGoodsId() { return goodsId; } public void setGoodsId(Integer goodsId) { this.goodsId = goodsId; } public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getSubTitle() { return subTitle; } public void setSubTitle(String subTitle) { this.subTitle = subTitle; } public Float getOriginalCost() { return originalCost; } public void setOriginalCost(Float originalCost) { this.originalCost = originalCost; } public Float getCurrentPrice() { return currentPrice; } public void setCurrentPrice(Float currentPrice) { this.currentPrice = currentPrice; } public Float getDiscount() { return discount; } public void setDiscount(Float discount) { this.discount = discount; } public Integer getIsFreeDelivery() { return isFreeDelivery; } public void setIsFreeDelivery(Integer isFreeDelivery) { this.isFreeDelivery = isFreeDelivery; } public Integer getCategoryId() { return categoryId; } public void setCategoryId(Integer categoryId) { this.categoryId = categoryId; } } åˆ›å»ºMapper Xml\nç¼–å†™SQLæ ‡ç­¾\nresources/mappers/goods.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;goods\u0026#34;\u0026gt; \u0026lt;!--resultType-\u0026gt;è¿”å›çš„æ•°æ®ç±»å‹ --\u0026gt; \u0026lt;select id=\u0026#34;selectAll\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods order by goods_id desc limit 10 \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; å¼€å¯é©¼å³°å‘½åæ˜ å°„\nåœ¨mybatis-config.xmlä¸­çš„configurationä¸‹æ·»åŠ settingsé…ç½®\n\u0026lt;settings\u0026gt; \u0026lt;!--goods_id ==\u0026gt; goodsId é©¼å³°å‘½åè½¬åŒ–--\u0026gt; \u0026lt;setting name=\u0026#34;mapUnderscoreToCamelCase\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/settings\u0026gt; æ–°å¢\nåœ¨mybatis-config.xmlä¸­çš„configurationä¸‹æ·»åŠ mapperé…ç½®\n\u0026lt;mappers\u0026gt; \u0026lt;!--resourceæŒ‡çš„æ˜¯æ˜ å°„æ–‡ä»¶çš„ç›®å½•--\u0026gt; \u0026lt;mapper resource=\u0026#34;mappers/goods.xml\u0026#34;\u0026gt;\u0026lt;/mapper\u0026gt; \u0026lt;/mappers\u0026gt; SqlSessionæ‰§è¡Œselectè¯­å¥\nMyBatisTestoréƒ¨åˆ†æµ‹è¯•ä»£ç ï¼š\n@Test public void testSelectAll(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); List\u0026lt;Goods\u0026gt; list = session.selectList(\u0026#34;goods.selectAll\u0026#34;); for (Goods goods : list) { System.out.println(goods.getTitle()); } }catch (Exception e){ throw e; }finally { MyBatisUtils.closeSession(session); } } SQLä¼ å‚ å•å‚æ•°ä¼ å‚\ngoods.xml\n\u0026lt;!--å•å‚æ•°ä¼ é€’ï¼Œä½¿ç”¨parameterTypeæŒ‡å®šå‚æ•°çš„æ•°æ®ç±»å‹å³å¯ï¼ŒSQL#{value}æå–å‚æ•°--\u0026gt; \u0026lt;select id=\u0026#34;selectById\u0026#34; parameterType=\u0026#34;Integer\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods where goods_id = #{value} \u0026lt;/select\u0026gt; MyBatisTestor.javaéƒ¨åˆ†ä»£ç \n@Test public void testSelectById(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); Goods goods = session.selectOne(\u0026#34;goods.selectById\u0026#34;, 1603); System.out.println(goods.getTitle()); }catch (Exception e){ throw e; }finally { MyBatisUtils.closeSession(session); } } å¤šå‚æ•°ä¼ å‚\ngoods.xml\n\u0026lt;select id=\u0026#34;selectByPriceRange\u0026#34; parameterType=\u0026#34;java.util.Map\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods where current_price between #{min} and #{max} order by current_price limit 0, #{limit} \u0026lt;/select\u0026gt; MyBatisTestor.javaéƒ¨åˆ†ä»£ç \n@Test public void testSelectByPriceRange(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); Map param = new HashMap\u0026lt;String, Integer\u0026gt;(); param.put(\u0026#34;min\u0026#34;, 100); param.put(\u0026#34;max\u0026#34;, 500); param.put(\u0026#34;limit\u0026#34;, 10); List\u0026lt;Goods\u0026gt; list = session.selectList(\u0026#34;goods.selectByPriceRange\u0026#34;, param); for (Goods goods : list) { System.out.println(goods.getTitle()); } }catch (Exception e){ throw e; }finally { MyBatisUtils.closeSession(session); } } å¤šè¡¨æŸ¥è¯¢ ç¤ºä¾‹ï¼ˆä¸ç”¨ResultMapç»“æœæ˜ å°„ï¼‰ï¼š goods.xmlä¸­æ·»åŠ ä»¥ä¸‹ä»£ç \n\u0026lt;!--åˆ©ç”¨LinkedHashMapä¿å­˜å¤šè¡¨å…³è”ç»“æœ MyBatisä¼šå°†æ¯ä¸€æ¡è®°å½•åŒ…è£…ä¸ºLinkedHashMapå¯¹è±¡ keyæ˜¯å­—æ®µå valueæ˜¯å­—æ®µå¯¹åº”çš„å€¼ï¼Œå­—æ®µç±»å‹æ ¹æ®è¡¨ç»“æ„è¿›è¡Œè‡ªåŠ¨åˆ¤æ–­ ä¼˜ç‚¹ï¼šæ˜“äºæ‰©å±•ï¼Œæ˜“äºä½¿ç”¨ ç¼ºç‚¹ï¼šå¤ªè¿‡çµæ´»ï¼Œæ— æ³•è¿›è¡Œç¼–è¯‘æ—¶æ£€æŸ¥ --\u0026gt; \u0026lt;select id=\u0026#34;selectGoodsMap\u0026#34; resultType=\u0026#34;java.util.LinkedHashMap\u0026#34;\u0026gt; select g.*, c.category_name from t_goods g, t_category c where g.category_id = c.category_id \u0026lt;/select\u0026gt; MyBatisTestor.javaéƒ¨åˆ†ä»£ç \n@Test public void testSelectGoodsMap(){ SqlSession sqlSession = null; sqlSession = MyBatisUtils.openSession(); List\u0026lt;Map\u0026gt;list = sqlSession.selectList(\u0026#34;goods.selectGoodsMap\u0026#34;); for (Map map : list) { System.out.println(map); } } ResultMapç»“æœæ˜ å°„ ResultMapå¯ä»¥å°†æŸ¥è¯¢ç»“æœæ˜ å°„ä¸ºå¤æ‚ç±»å‹çš„Javaå¯¹è±¡ ResultMapä½¿ç”¨äºJavaå¯¹è±¡ä¿å­˜å¤šè¡¨å…³è”ç»“æœ ResultMapæ”¯æŒå¯¹è±¡å…³è”æŸ¥è¯¢ç­‰é«˜çº§ç‰¹æ€§ tip:DTO-\u0026gt;Data Transfer Object \u0026ndash; æ•°æ®ä¼ è¾“å¯¹è±¡ ä½¿ç”¨ResultMapç»“æœæ˜ å°„ ç¼–å†™GoodsDTO -\u0026gt;\npackage com.imooc.mybatis.dto; import com.imooc.mybatis.entity.Category; import com.imooc.mybatis.entity.Goods; /** * @author CubeMonkey * @create 2020-10-27 18:50 */ //Data Transfer Object --æ•°æ®ä¼ è¾“å¯¹è±¡ public class GoodsDTO { private Goods goods = new Goods(); private Category category = new Category(); private String test; public Goods getGoods() { return goods; } public void setGoods(Goods goods) { this.goods = goods; } public Category getCategory() { return category; } public void setCategory(Category category) { this.category = category; } public String getTest() { return test; } public void setTest(String test) { this.test = test; } } Goods.java\npackage com.imooc.mybatis.entity; /** * @author CubeMonkey * @create 2020-10-27 11:28 */ public class Goods { private Integer goodsId;//å•†å“ç¼–å· private String title;//æ ‡é¢˜ private String subTitle;//å­æ ‡é¢˜ private Float originalCost;//åŸå§‹ä»·æ ¼ private Float currentPrice;//å½“å‰ä»·æ ¼ private Float discount;//æŠ˜æ‰£ç‡ private Integer isFreeDelivery;//æ˜¯å¦åŒ…é‚®ï¼Œ1-åŒ…é‚® 0-ä¸åŒ…é‚® private Integer categoryId;//åˆ†ç±»ç¼–å· public Integer getGoodsId() { return goodsId; } public void setGoodsId(Integer goodsId) { this.goodsId = goodsId; } public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getSubTitle() { return subTitle; } public void setSubTitle(String subTitle) { this.subTitle = subTitle; } public Float getOriginalCost() { return originalCost; } public void setOriginalCost(Float originalCost) { this.originalCost = originalCost; } public Float getCurrentPrice() { return currentPrice; } public void setCurrentPrice(Float currentPrice) { this.currentPrice = currentPrice; } public Float getDiscount() { return discount; } public void setDiscount(Float discount) { this.discount = discount; } public Integer getIsFreeDelivery() { return isFreeDelivery; } public void setIsFreeDelivery(Integer isFreeDelivery) { this.isFreeDelivery = isFreeDelivery; } public Integer getCategoryId() { return categoryId; } public void setCategoryId(Integer categoryId) { this.categoryId = categoryId; } } Category.java\npackage com.imooc.mybatis.entity; /** * @author CubeMonkey * @create 2020-10-27 19:12 */ public class Category { private Integer categoryId; private String categoryName; private Integer parentId; private Integer categoryLevel; private Integer categoryOrder; public Integer getCategoryId() { return categoryId; } public void setCategoryId(Integer categoryId) { this.categoryId = categoryId; } public String getCategoryName() { return categoryName; } public void setCategoryName(String categoryName) { this.categoryName = categoryName; } public Integer getParentId() { return parentId; } public void setParentId(Integer parentId) { this.parentId = parentId; } public Integer getCategoryLevel() { return categoryLevel; } public void setCategoryLevel(Integer categoryLevel) { this.categoryLevel = categoryLevel; } public Integer getCategoryOrder() { return categoryOrder; } public void setCategoryOrder(Integer categoryOrder) { this.categoryOrder = categoryOrder; } } åœ¨goods.xmlä¸­æ·»åŠ å¦‚ä¸‹ä¿¡æ¯\n\u0026lt;!--ç»“æœæ˜ å°„--\u0026gt; \u0026lt;resultMap id=\u0026#34;rmGoods\u0026#34; type=\u0026#34;com.imooc.mybatis.dto.GoodsDTO\u0026#34;\u0026gt; \u0026lt;!--è®¾ç½®ä¸»é”®å­—æ®µä¸å±æ€§æ˜ å°„--\u0026gt; \u0026lt;id property=\u0026#34;goods.goodsId\u0026#34; column=\u0026#34;goods_id\u0026#34;\u0026gt;\u0026lt;/id\u0026gt; \u0026lt;!--è®¾ç½®éä¸»é”®å­—æ®µä¸å±æ€§æ˜ å°„--\u0026gt; \u0026lt;result property=\u0026#34;goods.title\u0026#34; column=\u0026#34;title\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.originalCost\u0026#34; column=\u0026#34;original_cost\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.currentPrice\u0026#34; column=\u0026#34;current_price\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.discount\u0026#34; column=\u0026#34;discount\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.isFreeDelivery\u0026#34; column=\u0026#34;is_free_delivery\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.categoryId\u0026#34; column=\u0026#34;category_id\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryId\u0026#34; column=\u0026#34;category_id\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryName\u0026#34; column=\u0026#34;category_name\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryId\u0026#34; column=\u0026#34;category_id\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.parentId\u0026#34; column=\u0026#34;parent_id\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryLevel\u0026#34; column=\u0026#34;category_level\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryOrder\u0026#34; column=\u0026#34;category_order\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;test\u0026#34; column=\u0026#34;test\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;/resultMap\u0026gt; \u0026lt;select id=\u0026#34;selectGoodsDTO\u0026#34; resultMap=\u0026#34;rmGoods\u0026#34;\u0026gt; select g.*, c.*, \u0026#34;1\u0026#34; as test from t_goods g, t_category c where g.category_id = c.category_id \u0026lt;/select\u0026gt; MyBatisçš„å†™æ“ä½œ Insertæ“ä½œ åœ¨goods.xmlä¸­é…ç½®å¦‚ä¸‹ä¿¡æ¯\n\u0026lt;insert id=\u0026#34;insert\u0026#34; parameterType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; insert into t_goods(title, sub_title, original_cost, current_price, discount, is_free_delivery, category_id) values(#{title}, #{subTitle}, #{originalCost}, #{currentPrice}, #{discount}, #{isFreeDelivery}, #{categoryId}) \u0026lt;!--æ›´æ–°goodsä¸­çš„id--\u0026gt; \u0026lt;selectKey resultType=\u0026#34;Integer\u0026#34; keyProperty=\u0026#34;goodsId\u0026#34; order=\u0026#34;AFTER\u0026#34;\u0026gt; select last_insert_id(); \u0026lt;/selectKey\u0026gt; \u0026lt;/insert\u0026gt; MyBatisTestor.java æµ‹è¯•ä»£ç \n@Test public void testInsert() { SqlSession session = null; try { session = MyBatisUtils.openSession(); Goods goods = new Goods(); goods.setTitle(\u0026#34;æµ‹è¯•ç”¨ä¾‹æ ‡é¢˜\u0026#34;); goods.setSubTitle(\u0026#34;æµ‹è¯•ç”¨ä¾‹å­æ ‡é¢˜\u0026#34;); goods.setOriginalCost(1f); goods.setCurrentPrice(100f); goods.setDiscount(0.5f); goods.setIsFreeDelivery(1); goods.setCategoryId(12); int num = session.insert(\u0026#34;goods.insert\u0026#34;, goods); session.commit();//è¿™ä¸ªå¾ˆé‡è¦ï¼Œä¸èƒ½å¿˜è®° if (num == 1) System.out.println(\u0026#34;æ’å…¥æˆåŠŸ\u0026#34;); else System.out.println(\u0026#34;æ’å…¥å¤±è´¥\u0026#34;); System.out.println(goods.getGoodsId()); } catch (Exception e){ session.rollback(); throw e; } finally { MyBatisUtils.closeSession(session); } } selectKeyä¸useGeneratedKeyåŒºåˆ« selectKey: \u0026lt;insert id=\u0026#34;insert\u0026#34; parameterType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; INSERT INTO è¯­å¥ \u0026lt;!--æ›´æ–°goodsä¸­çš„id--\u0026gt; \u0026lt;selectKey resultType=\u0026#34;Integer\u0026#34; keyProperty=\u0026#34;goodsId\u0026#34; order=\u0026#34;AFTER\u0026#34;\u0026gt; select last_insert_id(); \u0026lt;/selectKey\u0026gt; \u0026lt;/insert\u0026gt; useGeneratedKey: \u0026lt;insert id=\u0026#34;insert\u0026#34; parameterType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34; useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;goodsId\u0026#34; keyColumn=\u0026#34;goods_id\u0026#34;\u0026gt; INSERT INTO è¯­å¥ \u0026lt;/insert\u0026gt; äºŒè€…åŒºåˆ« - æ˜¾ç¤ºä¸éšå¼ selectKeyæ ‡ç­¾éœ€è¦æ˜ç¡®ç¼–å†™è·å–æœ€æ–°ä¸»é”®çš„SQLè¯­å¥(ä¸åŒçš„æ•°æ®åº“é©±åŠ¨è·å–æœ€æ–°ä¸»é”®çš„SQLè¯­å¥ä¸åŒ) useGeneratedKeyså±æ€§ä¼šè‡ªåŠ¨æ ¹æ®é©±åŠ¨ç”Ÿæˆå¯¹åº”SQLè¯­å¥ äºŒè€…åŒºåˆ«-åº”ç”¨åœºæ™¯ä¸åŒ selectKeyé€‚ç”¨äºæ‰€æœ‰çš„å…³ç³»å‹æ•°æ®åº“ useGeneratedKeysåªæ”¯æŒâ€œè‡ªå¢ä¸»é”®â€ç±»å‹çš„æ•°æ®åº“ tip: â€‹\tä¸æ”¯æŒè‡ªå¢ä¸»é”®çš„æ•°æ®åº“æœ‰ï¼šDB2ï¼Œ Oracle\nåœ¨oracleä¸­selectKeyçš„ç”¨æ³•ï¼š \u0026lt;insert id=\u0026#34;insert\u0026#34; parameterType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; INSERT INTO è¯­å¥ \u0026lt;!--æ›´æ–°goodsä¸­çš„id--\u0026gt; \u0026lt;selectKey resultType=\u0026#34;Integer\u0026#34; keyProperty=\u0026#34;goodsId\u0026#34; order=\u0026#34;BEFORE\u0026#34;\u0026gt; select seq_goods.nextval as id from dual \u0026lt;/selectKey\u0026gt; \u0026lt;/insert\u0026gt; æ€»ç»“ï¼š selectKeyæ ‡ç­¾æ˜¯é€šç”¨æ–¹æ¡ˆï¼Œä½¿ç”¨äºæ‰€æœ‰æ•°æ®åº“ï¼Œä½†ç¼–å†™éº»çƒ¦ useGeneratedKeyså±æ€§åªæ”¯æŒâ€œè‡ªå¢ä¸»é”®â€æ•°æ®åº“ï¼Œä½¿ç”¨ç®€å• updateæ“ä½œ goods.xml:\n\u0026lt;update id=\u0026#34;update\u0026#34; parameterType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; update t_goods set title = #{title}, sub_title = #{subTitle}, original_cost = #{originalCost}, current_price = #{currentPrice}, discount = #{discount}, is_free_delivery = #{isFreeDelivery}, category_id = #{categoryId} where goods_id = #{goodsId} \u0026lt;/update\u0026gt; MyBatisTestor.java\n@Test public void testUpdate(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); Goods goods = session.selectOne(\u0026#34;selectById\u0026#34;, 739); goods.setTitle(\u0026#34;æ›´æ–°æµ‹è¯•å•†å“\u0026#34;); int num = session.update(\u0026#34;goods.update\u0026#34;, goods); if (num == 1) System.out.println(\u0026#34;æ›´æ–°æˆåŠŸ\u0026#34;); else System.out.println(\u0026#34;æ›´æ–°å¤±è´¥\u0026#34;); System.out.println(goods.getTitle()); session.commit(); } catch (Exception e) { session.rollback(); throw e; } finally { MyBatisUtils.closeSession(session); } } â€‹\ndeleteæ“ä½œ goods.xml\n\u0026lt;delete id=\u0026#34;delete\u0026#34; parameterType=\u0026#34;Integer\u0026#34;\u0026gt; delete from t_goods where goods_id = #{value} \u0026lt;/delete\u0026gt; MyBatisTestor.java\n@Test public void testDelete(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); int num = session.delete(\u0026#34;goods.delete\u0026#34;, 739); if (num == 1) System.out.println(\u0026#34;åˆ é™¤æˆåŠŸ\u0026#34;); else System.out.println(\u0026#34;åˆ é™¤å¤±è´¥\u0026#34;); session.commit(); } catch (Exception e) { e.printStackTrace(); } finally { MyBatisUtils.closeSession(session); } } MyBatisé¢„é˜²SQLæ³¨å…¥æ”»å‡» SQLæ³¨å…¥æ”»å‡» SQLæ³¨å…¥æ˜¯æŒ‡æ”»å‡»è€…åˆ©ç”¨SQLæ¼æ´ï¼Œç»•è¿‡ç³»ç»Ÿçº¦æŸï¼Œè¶Šæƒè·å–æ•°æ®çš„æ”»å‡»æ–¹å¼ MyBatisä¿©ç§ä¼ å€¼æ–¹å¼ ${}æ–‡æœ¬æ›¿æ¢ï¼Œæœªç»ä»»ä½•å¤„ç†å¯¹SQLæ–‡æœ¬æ›¿æ¢ï¼ˆå¯ä»¥ç”¨äºåŠ¨æ€ä½¿ç”¨SQLè¯­å¥ï¼Œä½¿ç”¨æ—¶ç»å¯¹ä¸èƒ½ä»å¤–ç•Œè¾“å…¥ï¼‰ #{}é¢„ç¼–è¯‘ä¼ å€¼ï¼Œä½¿ç”¨é¢„ç¼–è¯‘ä¼ å€¼å¯ä»¥é¢„é˜²SQLæ³¨å…¥ MyBatiså·¥ä½œæµç¨‹ ","permalink":"https://rexhub.space/posts/back/java/jdbctool/mybatis%E5%9F%BA%E7%A1%80/","summary":"MyBatisåŸºç¡€å…¥é—¨ è½¯ä»¶å¼€å‘ä¸­çš„æ¡†æ¶ æ¡†æ¶æ˜¯å¯è¢«åº”ç”¨å¼€å‘è€…å®šåˆ¶çš„åº”ç”¨éª¨æ¶ æ¡†æ¶æ˜¯ä¸€ç§è§„åˆ™ï¼Œä¿è¯å¼€å‘è€…éµå¾ªç›¸åŒçš„æ–¹å¼å¼€å‘ç¨‹åº æ¡†æ¶æå€¡â€œä¸è¦é‡å¤é€ è½®å­â€ï¼Œå¯¹åŸºç¡€åŠŸèƒ½è¿›è¡Œå°è£… æ¡†æ¶çš„ä¼˜ç‚¹ æå¤§æé«˜äº†å¼€å‘æ•ˆç‡ ç»Ÿä¸€çš„ç¼–ç è§„åˆ™ï¼Œæœ‰åˆ©äºå›¢é˜Ÿç®¡ç† çµæ´»é…ç½®çš„åº”ç”¨ï¼Œæ‹¥æœ‰æ›´å¥½çš„ç»´æŠ¤æ€§ SSMå¼€å‘æ¡†æ¶ S -\u0026gt; Spring S -\u0026gt; Spring MVC M -\u0026gt; MyBatis ä»€ä¹ˆæ˜¯MyBatis MyBatisæ˜¯ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ MyBatisä½¿ç”¨XMLå°†SQLä¸ç¨‹åºè§£è€¦ï¼Œä¾¿äºç»´æŠ¤ MyBatiså­¦ä¹ ç®€å•ï¼Œæ‰§è¡Œé«˜æ•ˆï¼Œæ˜¯JDBCçš„å»¶å±• MyBatiså¼€å‘æµç¨‹ å¼•å…¥MyBatisä¾èµ– åˆ›å»ºæ ¸å¿ƒé…ç½®æ–‡ä»¶ åˆ›å»ºå®ä½“(Entity)ç±» åˆ›å»ºMapperæ˜ å°„æ–‡ä»¶ åˆå§‹åŒ–SessionFactory åˆ©ç”¨SqlSessionå¯¹è±¡æ“ä½œæ•°æ® MyBatisç¯å¢ƒé…ç½® mybatis-config.xmlè¯´æ˜ MyBatisé‡‡ç”¨XMLæ ¼å¼é…ç½®æ•°æ®åº“ç¯å¢ƒä¿¡æ¯ MyBatisç¯å¢ƒé…ç½®æ ‡ç­¾ environmentåŒ…å«æ•°æ®åº“é©±åŠ¨ã€URLã€ç”¨æˆ·åäºå¯†ç  mybatis-config.xmlç¤ºä¾‹ï¼š \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;environments default=\u0026#34;dev\u0026#34;\u0026gt; \u0026lt;!--æ ¹æ®ç¯å¢ƒï¼Œä¸åŒçš„ç¯å¢ƒä¸åŒçš„idï¼Œdev-\u0026gt;å¼€å‘ç¯å¢ƒ prd-\u0026gt;ç”Ÿäº§ç¯å¢ƒ --\u0026gt; \u0026lt;environment id=\u0026#34;dev\u0026#34;\u0026gt; \u0026lt;!--é‡‡ç”¨JDBCæ–¹å¼å¯¹æ•°æ®åº“äº‹åŠ¡è¿›è¡Œcommit/rollback--\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;\u0026gt;\u0026lt;/transactionManager\u0026gt; \u0026lt;!--æ•°æ®è¿æ¥æ–¹å¼ç®¡ç†æ•°æ®åº“è¿æ¥--\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/babytun?useUnicode=true\u0026amp;amp;characterEncoding=UTF-8\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;environment id=\u0026#34;prd\u0026#34;\u0026gt; \u0026lt;!","title":"MybatisåŸºç¡€"},{"content":"MyBatisè¿›é˜¶ ä»€ä¹ˆæ˜¯æ—¥å¿— æ—¥å¿—æ–‡ä»¶æ˜¯ç”¨äºè®°å½•ç³»ç»Ÿæ“ä½œäº‹ä»¶çš„è®°å½•æ–‡ä»¶æˆ–æ–‡ä»¶é›†åˆ æ—¥å¿—ä¿å­˜å†å²æ•°æ®ï¼Œæ˜¯è¯Šæ–­é—®é¢˜ä»¥åŠç†è§£ç³»ç»Ÿæ´»åŠ¨çš„é‡è¦ä¾æ® SLF4jä¸Logback æ—¥å¿—çš„ä½¿ç”¨: å¼•å…¥logbackä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;ch.qos.logback\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;logback-classic\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åˆ›å»ºlogback.xmlï¼Œå¹¶å†™å…¥å¦‚ä¸‹ä»£ç ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;appender name=\u0026#34;console\u0026#34; class=\u0026#34;ch.qos.logback.core.ConsoleAppender\u0026#34;\u0026gt; \u0026lt;encoder\u0026gt; \u0026lt;pattern\u0026gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\u0026lt;/pattern\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼ˆä¼˜å…ˆçº§é«˜åˆ°ä½ï¼‰ error: é”™è¯¯ - ç³»ç»Ÿçš„æ•…éšœæ—¥å¿— warn: è­¦å‘Š - å­˜åœ¨é£é™©æˆ–ä½¿ç”¨ä¸å½“çš„æ—¥å¿— info: ä¸€èˆ¬æ€§æ¶ˆæ¯ debug: ç¨‹åºå†…éƒ¨ç”¨äºè°ƒè¯•ä¿¡æ¯ trace: ç¨‹åºå…è®¸çš„è·Ÿè¸ªä¿¡æ¯ --\u0026gt; \u0026lt;root level=\u0026#34;debug\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;console\u0026#34;\u0026gt;\u0026lt;/appender-ref\u0026gt; \u0026lt;/root\u0026gt; \u0026lt;/configuration\u0026gt; åŠ¨æ€SQL åŠ¨æ€SQLæ˜¯æŒ‡æ ¹æ®å‚æ•°æ•°æ®åŠ¨æ€ç»„ç»‡SQLçš„æŠ€æœ¯ ä»£ç ç¤ºä¾‹ï¼š goods.xmlä¸­åŠ å…¥å¦‚ä¸‹sqlè¯­å¥\n\u0026lt;select id=\u0026#34;dynamicSelect\u0026#34; parameterType=\u0026#34;java.util.Map\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods \u0026lt;where\u0026gt; \u0026lt;if test=\u0026#34;categoryId != null\u0026#34;\u0026gt; and category_id = #{categoryId} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;currentPrice != null\u0026#34;\u0026gt; and current_price \u0026amp;lt; #{currentPrice} \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; MyBatisTestor.javaä¸­ä½¿ç”¨dynamicSelect\n@Test public void testDynamicSQL(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); HashMap\u0026lt;String, Object\u0026gt; param = new HashMap\u0026lt;\u0026gt;(); param.put(\u0026#34;categoryId\u0026#34;, 44); param.put(\u0026#34;currentPrice\u0026#34;, 500); List\u0026lt;Goods\u0026gt; list = session.selectList(\u0026#34;goods.dynamicSelect\u0026#34;, param); for (Goods goods : list) { System.out.println(goods.getTitle()); } } catch (Exception e) { e.printStackTrace(); } finally { MyBatisUtils.closeSession(session); } } MyBatisäºŒçº§ç¼“å­˜ ä¸€çº§ç¼“å­˜é»˜è®¤å¼€å¯ï¼Œç¼“å­˜èŒƒå›´SqlSessionä¼šè¯ äºŒçº§ç¼“å­˜æ‰‹åŠ¨å¼€å¯ï¼Œå±äºMapper Namespace ç¼“å­˜çš„èŒƒå›´ äºŒçº§ç¼“å­˜è¿è¡Œè§„åˆ™ äºŒçº§å¼€å¯åé»˜è®¤æ‰€æœ‰æŸ¥è¯¢æ“ä½œå‡ä½¿ç”¨ç¼“å­˜ å†™æ“ä½œcommitæäº¤æ—¶å¯¹è¯¥namespaceç¼“å­˜å¼ºåˆ¶æ¸…ç©º é…ç½®useCache=falseå¯ä»¥ä¸ç”¨ç¼“å­˜ é…ç½®flushCache=trueä»£è¡¨å¼ºåˆ¶æ¸…ç©ºç¼“å­˜ äºŒçº§ç¼“å­˜çš„ä½¿ç”¨ï¼š\ngoods.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;goods\u0026#34;\u0026gt; \u0026lt;!--å¼€å¯äº†äºŒçº§ç¼“å­˜ 1.LRU - æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ 2.LFU - æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼šç§»é™¤æœ€è¿‘è®¿é—®é¢‘ç‡æœ€ä½çš„å¯¹è±¡ 3.FIFO - å…ˆè¿›åå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤ä»–ä»¬ã€‚ 4.SOFT - è½¯å¼•ç”¨ï¼šç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ 5.WEAK - å¼±å¼•ç”¨ï¼šæ›´ç§¯æçš„ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚ flushInterval ä»£è¡¨é—´éš”å¤šé•¿æ—¶é—´è‡ªåŠ¨æ¸…ç©ºç¼“å­˜ï¼Œå•ä½æ¯«ç§’ï¼Œ600000æ¯«ç§’ = 10åˆ†é’Ÿ size ç¼“å­˜å­˜å‚¨ä¸Šé™ï¼Œç”¨äºä¿å­˜å¯¹è±¡æˆ–é›†åˆï¼ˆ1ä¸ªé›†åˆç®—1ä¸ªå¯¹è±¡ï¼‰çš„æ•°é‡ä¸Šé™ readOnly è®¾ç½®ä¸ºtrueï¼Œä»£è¡¨è¿”å›åªè¯»ç¼“å­˜ï¼Œæ¯æ¬¡ä»ç¼“å­˜å–å‡ºçš„æ˜¯ç¼“å­˜å¯¹è±¡æœ¬èº«ï¼Œè¿™ç§æ‰§è¡Œæ•ˆç‡è¾ƒé«˜ è®¾ç½®ä¸ºfalseï¼Œä»£è¡¨æ¯æ¬¡å–å‡ºçš„æ˜¯ç¼“å­˜å¯¹è±¡çš„â€œå‰¯æœ¬â€ï¼Œæ¯ä¸€æ¬¡å–å‡ºçš„å¯¹è±¡éƒ½æ˜¯ä¸åŒçš„ï¼Œè¿™ç§å®‰å…¨æ€§è¾ƒé«˜ --\u0026gt; \u0026lt;cache eviction=\u0026#34;LRU\u0026#34; flushInterval=\u0026#34;600000\u0026#34; size=\u0026#34;512\u0026#34; readOnly=\u0026#34;true\u0026#34;\u0026gt;\u0026lt;/cache\u0026gt; \u0026lt;!-- useCache=\u0026#34;false\u0026#34;ä»£è¡¨ä¸ä½¿ç”¨ç¼“å­˜--\u0026gt; \u0026lt;select id=\u0026#34;selectAll\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34; useCache=\u0026#34;false\u0026#34;\u0026gt; select * from t_goods order by goods_id desc limit 10 \u0026lt;/select\u0026gt; \u0026lt;!--å•å‚æ•°ä¼ é€’ï¼Œä½¿ç”¨parameterTypeæŒ‡å®šå‚æ•°çš„æ•°æ®ç±»å‹å³å¯ï¼ŒSQL#{value}æå–å‚æ•°--\u0026gt; \u0026lt;select id=\u0026#34;selectById\u0026#34; parameterType=\u0026#34;Integer\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods where goods_id = #{value} \u0026lt;/select\u0026gt; \u0026lt;!--å¤šå‚æ•°ä¼ é€’æ—¶ï¼Œä½¿ç”¨parameterTypeæŒ‡å®šjava.util.Map, SQLä¸­#{keyæå–å‚æ•°}--\u0026gt; \u0026lt;select id=\u0026#34;selectByPriceRange\u0026#34; parameterType=\u0026#34;java.util.Map\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods where current_price between #{min} and #{max} order by current_price limit 0, #{limit} \u0026lt;/select\u0026gt; \u0026lt;!--åˆ©ç”¨LinkedHashMapä¿å­˜å¤šè¡¨å…³è”ç»“æœ MyBatisä¼šå°†æ¯ä¸€æ¡è®°å½•åŒ…è£…ä¸ºLinkedHashMapå¯¹è±¡ keyæ˜¯å­—æ®µå valueæ˜¯å­—æ®µå¯¹åº”çš„å€¼ï¼Œå­—æ®µç±»å‹æ ¹æ®è¡¨ç»“æ„è¿›è¡Œè‡ªåŠ¨åˆ¤æ–­ ä¼˜ç‚¹ï¼šæ˜“äºæ‰©å±•ï¼Œæ˜“äºä½¿ç”¨ ç¼ºç‚¹ï¼šå¤ªè¿‡çµæ´»ï¼Œæ— æ³•è¿›è¡Œç¼–è¯‘æ—¶æ£€æŸ¥ --\u0026gt; \u0026lt;select id=\u0026#34;selectGoodsMap\u0026#34; resultType=\u0026#34;java.util.LinkedHashMap\u0026#34; flushCache=\u0026#34;true\u0026#34;\u0026gt; select g.*, c.category_name, \u0026#34;1\u0026#34; as test from t_goods g, t_category c where g.category_id = c.category_id \u0026lt;/select\u0026gt; \u0026lt;!--ç»“æœæ˜ å°„--\u0026gt; \u0026lt;resultMap id=\u0026#34;rmGoods\u0026#34; type=\u0026#34;com.imooc.mybatis.dto.GoodsDTO\u0026#34;\u0026gt; \u0026lt;!--è®¾ç½®ä¸»é”®å­—æ®µä¸å±æ€§æ˜ å°„--\u0026gt; \u0026lt;id property=\u0026#34;goods.goodsId\u0026#34; column=\u0026#34;goods_id\u0026#34;\u0026gt;\u0026lt;/id\u0026gt; \u0026lt;!--è®¾ç½®éä¸»é”®å­—æ®µä¸å±æ€§æ˜ å°„--\u0026gt; \u0026lt;result property=\u0026#34;goods.title\u0026#34; column=\u0026#34;title\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.originalCost\u0026#34; column=\u0026#34;original_cost\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.currentPrice\u0026#34; column=\u0026#34;current_price\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.discount\u0026#34; column=\u0026#34;discount\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.isFreeDelivery\u0026#34; column=\u0026#34;is_free_delivery\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;goods.categoryId\u0026#34; column=\u0026#34;category_id\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryId\u0026#34; column=\u0026#34;category_id\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryName\u0026#34; column=\u0026#34;category_name\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryId\u0026#34; column=\u0026#34;category_id\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.parentId\u0026#34; column=\u0026#34;parent_id\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryLevel\u0026#34; column=\u0026#34;category_level\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;category.categoryOrder\u0026#34; column=\u0026#34;category_order\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;result property=\u0026#34;test\u0026#34; column=\u0026#34;test\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;/resultMap\u0026gt; \u0026lt;select id=\u0026#34;selectGoodsDTO\u0026#34; resultMap=\u0026#34;rmGoods\u0026#34;\u0026gt; select g.*, c.*, \u0026#34;1\u0026#34; as test from t_goods g, t_category c where g.category_id = c.category_id \u0026lt;/select\u0026gt; \u0026lt;!--flushCache=\u0026#34;true\u0026#34;åœ¨sqlæ‰§è¡Œåå¼ºåˆ¶æ¸…ç©ºç¼“å­˜--\u0026gt; \u0026lt;insert id=\u0026#34;insert\u0026#34; parameterType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34; useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;goodsId\u0026#34; keyColumn=\u0026#34;goods_id\u0026#34; flushCache=\u0026#34;true\u0026#34;\u0026gt; insert into t_goods(title, sub_title, original_cost, current_price, discount, is_free_delivery, category_id) values(#{title}, #{subTitle}, #{originalCost}, #{currentPrice}, #{discount}, #{isFreeDelivery}, #{categoryId}) \u0026lt;!--æ›´æ–°goodsä¸­çš„id--\u0026gt; \u0026lt;!--\u0026lt;selectKey resultType=\u0026#34;Integer\u0026#34; keyProperty=\u0026#34;goodsId\u0026#34; order=\u0026#34;AFTER\u0026#34;\u0026gt; select last_insert_id(); \u0026lt;/selectKey\u0026gt;--\u0026gt; \u0026lt;/insert\u0026gt; \u0026lt;update id=\u0026#34;update\u0026#34; parameterType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; update t_goods set title = #{title}, sub_title = #{subTitle}, original_cost = #{originalCost}, current_price = #{currentPrice}, discount = #{discount}, is_free_delivery = #{isFreeDelivery}, category_id = #{categoryId} where goods_id = #{goodsId} \u0026lt;/update\u0026gt; \u0026lt;delete id=\u0026#34;delete\u0026#34; parameterType=\u0026#34;Integer\u0026#34;\u0026gt; delete from t_goods where goods_id = #{value} \u0026lt;/delete\u0026gt; \u0026lt;select id=\u0026#34;dynamicSelect\u0026#34; parameterType=\u0026#34;java.util.Map\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods \u0026lt;where\u0026gt; \u0026lt;if test=\u0026#34;categoryId != null\u0026#34;\u0026gt; and category_id = #{categoryId} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;currentPrice != null\u0026#34;\u0026gt; and current_price \u0026amp;lt; #{currentPrice} \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; å•†å“å’Œè¯¦æƒ…å¯¹è±¡å…³è”æŸ¥è¯¢ â€‹\tå…³è”å•†å“ä¸å•†å“è¯¦æƒ…ä¿¡æ¯\nä»£ç æ¡ˆä¾‹ï¼ˆä¸€å¯¹å¤šï¼‰ï¼š åœ¨Goods.javaä¸­æ·»åŠ goodDetailé›†åˆæˆå‘˜\nåˆ›å»ºgoods_detail.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;goodsDetail\u0026#34;\u0026gt; \u0026lt;select id=\u0026#34;selectByGoodsId\u0026#34; parameterType=\u0026#34;Integer\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.GoodsDetail\u0026#34;\u0026gt; select * from t_goods_detail where goods_id = #{value} \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; åœ¨mybatis-config.xmlä¸­æ·»åŠ goods_detail.xmlçš„æ˜ å°„\n\u0026lt;mapper resource=\u0026#34;mappers/goods_detail.xml\u0026#34;\u0026gt;\u0026lt;/mapper\u0026gt; åœ¨goods.xmlç¼–å†™selectè¯­å¥\n\u0026lt;!-- resultMapå¯ç”¨äºè¯´æ˜ä¸€å¯¹å¤šæˆ–è€…å¤šå¯¹ä¸€çš„æ˜ å°„é€»è¾‘ id æ˜¯resultMapå±æ€§å¼•ç”¨çš„æ ‡å¿— type æŒ‡å‘Oneçš„å®ä½“(Goods) --\u0026gt; \u0026lt;resultMap id=\u0026#34;rmGoods1\u0026#34; type=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; \u0026lt;!--æ˜ å°„Goodså¯¹è±¡çš„ä¸»é”®åˆ°goods_idå­—æ®µ--\u0026gt; \u0026lt;id column=\u0026#34;goods_id\u0026#34; property=\u0026#34;goodsId\u0026#34;\u0026gt;\u0026lt;/id\u0026gt; \u0026lt;!-- collectionçš„å«ä¹‰æ˜¯ï¼Œ åœ¨select * from t_goods limit 0, 1å¾—åˆ°ç»“æœåï¼Œå¯¹æ‰€æœ‰Goodså¯¹è±¡éå†å¾—åˆ°goods_idå­—æ®µå€¼ï¼Œ å¹¶å¸¦å…¥åˆ°goodsDetailå‘½åç©ºé—´çš„findByGoodsIdçš„SQLä¸­æ‰§è¡ŒæŸ¥è¯¢ å°†å¾—åˆ°çš„â€œå•†å“è¯¦æƒ…â€é›†åˆèµ‹å€¼ç»™goodsDetail Listå¯¹è±¡ --\u0026gt; \u0026lt;collection property=\u0026#34;goodsDetails\u0026#34; select=\u0026#34;goodsDetail.selectByGoodsId\u0026#34; column=\u0026#34;goods_id\u0026#34;/\u0026gt; \u0026lt;/resultMap\u0026gt; \u0026lt;select id=\u0026#34;selectOneToMany\u0026#34; resultMap=\u0026#34;rmGoods1\u0026#34;\u0026gt; select * from t_goods limit 0,10 \u0026lt;/select\u0026gt; åœ¨MyBatisUtilsä¸­ç¼–å†™æµ‹è¯•ä»£ç \n@Test public void testOneToMany() throws Exception{ SqlSession session = null; try { session = MyBatisUtils.openSession(); List\u0026lt;Goods\u0026gt; list = session.selectList(\u0026#34;goods.selectOneToMany\u0026#34;); for (Goods goods : list) { System.out.println(goods.getTitle()+\u0026#34;:\u0026#34;+goods.getGoodsDetails().size()); } }catch (Exception e){ throw e; }finally { MyBatisUtils.closeSession(session); } } ä»£ç æ¡ˆä¾‹ï¼ˆå¤šå¯¹ä¸€ï¼‰ï¼š åœ¨GoodsDetail.javaä¸­æ·»åŠ goodsæˆå‘˜\nåœ¨goods_detail.xmlä¸­æ·»åŠ selectè¯­å¥\n\u0026lt;resultMap id=\u0026#34;rmGoodsDetail\u0026#34; type=\u0026#34;com.imooc.mybatis.entity.GoodsDetail\u0026#34;\u0026gt; \u0026lt;id column=\u0026#34;gd_id\u0026#34; property=\u0026#34;gdId\u0026#34;\u0026gt;\u0026lt;/id\u0026gt; \u0026lt;result column=\u0026#34;goods_id\u0026#34; property=\u0026#34;goodsId\u0026#34;\u0026gt;\u0026lt;/result\u0026gt; \u0026lt;association property=\u0026#34;goods\u0026#34; select=\u0026#34;goods.selectById\u0026#34; column=\u0026#34;goods_id\u0026#34;\u0026gt;\u0026lt;/association\u0026gt; \u0026lt;/resultMap\u0026gt; \u0026lt;select id=\u0026#34;selectManyToOne\u0026#34; resultMap=\u0026#34;rmGoodsDetail\u0026#34;\u0026gt; select * from t_goods_detail limit 0, 100 \u0026lt;/select\u0026gt; åœ¨MyBatisTestor.javaä¸­æ·»åŠ å¦‚ä¸‹æµ‹è¯•ä»£ç ï¼š\n@Test public void testManyToOne(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); List\u0026lt;GoodsDetail\u0026gt; list = session.selectList(\u0026#34;goodsDetail.selectManyToOne\u0026#34;); for (GoodsDetail goodsDetail : list) { System.out.println(goodsDetail.getGdPicUrl()+\u0026#34;:\u0026#34;+goodsDetail.getGoods().getTitle()); } } catch (Exception e) { throw e; } finally { MyBatisUtils.closeSession(session); } } åˆ†é¡µæ’ä»¶PageHelper åˆ†é¡µæŸ¥è¯¢çš„éº»çƒ¦äº‹ å½“å‰é¡µæ•°æ®æŸ¥è¯¢ - select * from tab limit 0, 10 æ€»è®°å½•æ•°æŸ¥è¯¢ - select count(*) from tab ç¨‹åºè®¡ç®—æ€»é¡µæ•°ã€ä¸Šä¸€é¡µç ã€ä¸‹ä¸€é¡µç  PageHelperä½¿ç”¨æµç¨‹ mavenå¼•å…¥PageHelperä¸jsqlparser\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.github.pagehelper\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;pagehelper\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.1.10\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.github.jsqlparse\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jsqlparser\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; mybatis-config.xmlå¢åŠ Pluginé…ç½®\n\u0026lt;!-- å¯ç”¨PageHelperåˆ†é¡µæ’ä»¶ --\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin interceptor=\u0026#34;com.github.pagehelper.PageInterceptor\u0026#34;\u0026gt; \u0026lt;!-- è®¾ç½®æ•°æ®åº“ç±»å‹ --\u0026gt; \u0026lt;property name=\u0026#34;helperDialect\u0026#34; value=\u0026#34;mysql\u0026#34;/\u0026gt; \u0026lt;!-- åˆ†é¡µåˆç†åŒ– --\u0026gt; \u0026lt;property name=\u0026#34;reasonable\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; ä»£ç ä¸­ä½¿ç”¨PageHelper.startPage()è‡ªåŠ¨åˆ†é¡µ\ngoods.xmlä¸­çš„æŸ¥è¯¢è¯­å¥\n\u0026lt;select id=\u0026#34;selectPage\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods where current_price \u0026amp;lt; 1000 \u0026lt;/select\u0026gt; MyBatisTestor.javaä¸­çš„æŸ¥è¯¢ä»£ç \n@Test public void testSelectPage(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); /*startPageæ–¹æ³•ä¼šè‡ªåŠ¨å°†ä¸‹ä¸€æ¬¡æŸ¥è¯¢è¿›è¡Œåˆ†é¡µ*/ PageHelper.startPage(2, 10); Page\u0026lt;Goods\u0026gt; page = (Page)session.selectList(\u0026#34;goods.selectPage\u0026#34;); System.out.println(\u0026#34;æ€»é¡µæ•°ï¼š\u0026#34;+page.getPages()); System.out.println(\u0026#34;æ€»è®°å½•æ•°ï¼š\u0026#34;+page.getTotal()); System.out.println(\u0026#34;å¼€å§‹è¡Œå·ï¼š\u0026#34;+page.getStartRow()); System.out.println(\u0026#34;ç»“æŸè¡Œå·ï¼š\u0026#34;+page.getEndRow()); System.out.println(\u0026#34;å½“å‰é¡µç ï¼š\u0026#34;+page.getPageNum()); List\u0026lt;Goods\u0026gt; data = page.getResult(); for (Goods g : data) { System.out.println(g.getTitle()); } System.out.println(); } catch (Exception e) { throw e; } finally { MyBatisUtils.closeSession(session); } } ä¸åŒæ•°æ®åº“åˆ†é¡µçš„å®ç°åŸç† MySQLåˆ†é¡µ select * from table limit 10, 20; Oracleåˆ†é¡µï¼ˆå•†ä¸šæ•°æ®åº“NO.1ï¼‰ select t3.from( select t2.* rownum as rownum from( select * from table order by id asc )t2 where rownum \u0026lt;=20 )t3 where 52.row_num\u0026gt;11 SQL Server 2000 select top 3 * from table where id not in (select top 15 id from table) SQL Server 2012+ â€‹\nselect * from table order by id offset 4 rows fetch next 5 row only MyBatisæ•´åˆC3P0è¿æ¥æ±  å¼•å…¥C3P0çš„ä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.mchange\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;c3p0\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.9.5.4\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ç¼–å†™C3P0DataSourceFactoryç»§æ‰¿è‡ªUnpooledDataSourceFactory\npackage com.imooc.mybatis.datasource; import com.mchange.v2.c3p0.ComboPooledDataSource; import org.apache.ibatis.datasource.unpooled.UnpooledDataSourceFactory; /** * C3P0ä¸MyBatiså…¼å®¹ä½¿ç”¨çš„æ•°æ®æºå·¥å‚ç±» * @author CubeMonkey * @create 2020-10-29 20:04 */ public class C3P0DataSourceFactory extends UnpooledDataSourceFactory { public C3P0DataSourceFactory(){ this.dataSource = new ComboPooledDataSource(); } } åœ¨mybatis-config.xmlä¸­é…ç½®c3p0æ•°æ®åº“è¿æ¥æ± \n\u0026lt;dataSource type=\u0026#34;com.imooc.mybatis.datasource.C3P0DataSourceFactory\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driverClass\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;jdbcUrl\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/babytun?useUnicode=true\u0026amp;amp;characterEncoding=UTF-8\u0026amp;amp;serverTimezone=GMT\u0026amp;amp;useSSL=false\u0026amp;amp;allowPublicKeyRetrieval=true\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;user\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;initialPoolSize\u0026#34; value=\u0026#34;5\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;maxPoolSize\u0026#34; value=\u0026#34;20\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;minPoolSize\u0026#34; value=\u0026#34;5\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; MyBatisæ‰¹å¤„ç† æ‰¹é‡æ’å…¥æ•°æ®çš„å±€é™ï¼š æ— æ³•è·å¾—æ’å…¥æ•°æ®çš„id æ‰¹é‡ç”Ÿæˆçš„SQLå¤ªé•¿ï¼Œå¯èƒ½ä¼šè¢«æœåŠ¡å™¨æ‹’ç»ï¼ˆå¯é‡‡ç”¨æ•°æ®åˆ†æ®µçš„æ–¹å¼ï¼‰ æ‰¹é‡æ’å…¥ï¼š goods.xmlä¸­çš„insertè¯­å¥\n\u0026lt;insert id=\u0026#34;insertBatch\u0026#34; parameterType=\u0026#34;java.util.List\u0026#34;\u0026gt; insert into t_goods(title, sub_title, original_cost, current_price, discount, is_free_delivery, category_id) values \u0026lt;foreach collection=\u0026#34;list\u0026#34; separator=\u0026#34;,\u0026#34; item=\u0026#34;item\u0026#34; index=\u0026#34;index\u0026#34;\u0026gt; (#{item.title}, #{item.subTitle}, #{item.originalCost}, #{item.currentPrice}, #{item.discount}, #{item.isFreeDelivery}, #{item.categoryId}) \u0026lt;/foreach\u0026gt; \u0026lt;/insert\u0026gt; MyBatisTestor.javaä¸­testInsertBatch()\n@Test public void testInsertBatch(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); long st = new Date().getTime(); List\u0026lt;Goods\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); for(int i = 0; i \u0026lt; 1000; i++){ Goods goods = new Goods(); goods.setTitle(\u0026#34;æµ‹è¯•å•†å“\u0026#34;); goods.setSubTitle(\u0026#34;æµ‹è¯•å­æ ‡é¢˜\u0026#34;); goods.setOriginalCost(200f); goods.setCurrentPrice(100f); goods.setDiscount(0.5f); goods.setIsFreeDelivery(1); goods.setCategoryId(43); list.add(goods); } session.insert(\u0026#34;goods.insertBatch\u0026#34;, list); session.commit(); long et = new Date().getTime(); System.out.println(\u0026#34;æ‰§è¡Œæ—¶é—´ï¼š\u0026#34; + (et-st) + \u0026#34;æ¯«ç§’\u0026#34;);//1179 } catch (Exception e) { if (session != null){ session.rollback(); } } finally { MyBatisUtils.closeSession(session); } } æ‰¹é‡åˆ é™¤ï¼š goods.xmlä¸­deletè¯­å¥ï¼š\n\u0026lt;delete id=\u0026#34;deleteBatch\u0026#34; parameterType=\u0026#34;java.util.List\u0026#34;\u0026gt; delete from t_goods where goods_id in \u0026lt;foreach collection=\u0026#34;list\u0026#34; index=\u0026#34;index\u0026#34; item=\u0026#34;item\u0026#34; separator=\u0026#34;, \u0026#34; open=\u0026#34;(\u0026#34; close=\u0026#34;)\u0026#34;\u0026gt; #{item} \u0026lt;/foreach\u0026gt; \u0026lt;/delete\u0026gt; MyBatisTestor.javaä¸­testDeleteBatch()\n@Test public void testDeleteBatch(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); long st = new Date().getTime(); List\u0026lt;Integer\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(1920); list.add(1921); list.add(1922); session.insert(\u0026#34;goods.deleteBatch\u0026#34;, list); session.commit(); long et = new Date().getTime(); System.out.println(\u0026#34;æ‰§è¡Œæ—¶é—´ï¼š\u0026#34; + (et-st) + \u0026#34;æ¯«ç§’\u0026#34;);//725æ¯«ç§’ } catch (Exception e) { if (session != null){ session.rollback(); } } finally { MyBatisUtils.closeSession(session); } } MyBatisæ³¨è§£ æ³¨è§£å’Œxmlé…ç½®çš„ä¼˜ç‚¹ï¼š xmlæœ‰æ›´å¥½çš„ç»´æŠ¤æ€§ï¼Œæ›´é€‚åˆå¤§å‹çš„éœ€è¦å›¢é˜Ÿåä½œçš„é¡¹ç›® æ³¨è§£æœ‰æ›´å¥½çš„ç¨‹åºç¼–ç ä½“éªŒï¼Œæ›´é€‚åˆå°å‹æ•æ·å¼€å‘çš„å·¥ç¨‹ MyBatiså¸¸ç”¨æ³¨è§£ æ³¨è§£ å¯¹åº”XML è¯´æ˜ @Insert æ–°å¢SQL @Update æ›´æ–°SQL @Delect åˆ é™¤SQL @Select æŸ¥è¯¢SQL @Param \u0026ndash; å‚æ•°æ˜ å°„ @Results ç»“æœæ˜ å°„ @Result å­—æ®µæ˜ å°„ å‡†å¤‡å·¥ä½œï¼ˆä¸å†ä½¿ç”¨ä¹‹å‰ç”¨çš„å·¥ç¨‹ï¼‰ï¼› å¼•å…¥mybatisã€logbackæ—¥å¿—ã€æ•°æ®åº“é©±åŠ¨çš„ä¾èµ–ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.1.47\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;ch.qos.logback\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;logback-classic\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½®mybatis-config.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;settings\u0026gt; \u0026lt;!-- goods_id ==\u0026gt; goodsId é©¼å³°å‘½åè½¬æ¢ --\u0026gt; \u0026lt;setting name=\u0026#34;mapUnderscoreToCamelCase\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/settings\u0026gt; \u0026lt;!--è®¾ç½®é»˜è®¤æŒ‡å‘çš„æ•°æ®åº“--\u0026gt; \u0026lt;environments default=\u0026#34;dev\u0026#34;\u0026gt; \u0026lt;!--é…ç½®ç¯å¢ƒï¼Œä¸åŒçš„ç¯å¢ƒä¸åŒçš„idåå­—--\u0026gt; \u0026lt;environment id=\u0026#34;dev\u0026#34;\u0026gt; \u0026lt;!-- é‡‡ç”¨JDBCæ–¹å¼å¯¹æ•°æ®åº“äº‹åŠ¡è¿›è¡Œcommit/rollback --\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;\u0026gt;\u0026lt;/transactionManager\u0026gt; \u0026lt;!--é‡‡ç”¨è¿æ¥æ± æ–¹å¼ç®¡ç†æ•°æ®åº“è¿æ¥--\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/babytun?useSSL=false\u0026amp;amp;serverTimezone=Asia/Shanghai\u0026amp;amp;allowPublicKeyRetrieval=true\u0026amp;amp;useUnicode=true\u0026amp;amp;characterEncoding=UTF-8\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;/configuration\u0026gt; é…ç½®å¥½logback.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;appender name=\u0026#34;console\u0026#34; class=\u0026#34;ch.qos.logback.core.ConsoleAppender\u0026#34;\u0026gt; \u0026lt;encoder\u0026gt; \u0026lt;pattern\u0026gt;[%thread] %d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n\u0026lt;/pattern\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- æ—¥å¿—è¾“å‡ºçº§åˆ«(ä¼˜å…ˆçº§é«˜åˆ°ä½): error: é”™è¯¯ - ç³»ç»Ÿçš„æ•…éšœæ—¥å¿— warn: è­¦å‘Š - å­˜åœ¨é£é™©æˆ–ä½¿ç”¨ä¸å½“çš„æ—¥å¿— info: ä¸€èˆ¬æ€§æ¶ˆæ¯ debug: ç¨‹åºå†…éƒ¨ç”¨äºè°ƒè¯•ä¿¡æ¯ trace: ç¨‹åºè¿è¡Œçš„è·Ÿè¸ªä¿¡æ¯ --\u0026gt; \u0026lt;root level=\u0026#34;debug\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;console\u0026#34;/\u0026gt; \u0026lt;/root\u0026gt; \u0026lt;/configuration\u0026gt; åœ¨javaç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªdaoåŒ…ï¼Œåœ¨daoä¸‹åˆ›å»ºGoodsDAO\nåœ¨mybatis-config.xmlä¸­é…ç½®mapperæ˜ å°„\n\u0026lt;mappers\u0026gt; \u0026lt;!--å½“æœ‰å¤šä¸ªdaoæ¥å£æ—¶ï¼Œmapperä¸ä¾¿äºç»´æŠ¤--\u0026gt; \u0026lt;!-- \u0026lt;mapper class=\u0026#34;com.imooc.mybatis.dao.GoodsDAO\u0026#34;\u0026gt;\u0026lt;/mapper\u0026gt;--\u0026gt; \u0026lt;package name=\u0026#34;com.imooc.mybatis.dao\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; æŒ‰ä»·æ ¼èŒƒå›´æŸ¥è¯¢å•†å“çš„ä»£ç ï¼š åœ¨GoodsDAOä¸‹å†™å…¥å¦‚ä¸‹æ–¹æ³•ï¼š\n@Select(\u0026#34;select * from t_goods where current_price between #{min} and #{max} order by current_price limit 0, #{limt}\u0026#34;) public List\u0026lt;Goods\u0026gt; selectByPriceRange(@Param(\u0026#34;min\u0026#34;) Float min, @Param(\u0026#34;max\u0026#34;) Float max, @Param(\u0026#34;limt\u0026#34;) Integer limt); åœ¨MyBatisTestorä¸­ä½¿ç”¨è¿™ä¸ªæ–¹æ³•:\n@Test public void testSelectByPrice(){ SqlSession session = null; try { session = MyBatisUtils.openSession(); GoodsDAO goodsDAO = session.getMapper(GoodsDAO.class); List\u0026lt;Goods\u0026gt; list = goodsDAO.selectByPriceRange(100f, 500f, 20); System.out.println(list.size()); } catch (Exception e) { e.printStackTrace(); } finally { MyBatisUtils.closeSession(session); } } æ’å…¥å•†å“çš„ä»£ç ï¼š åœ¨GoodsDAOä¸‹å†™å…¥å¦‚ä¸‹æ–¹æ³•ï¼š\n@Insert(\u0026#34;INSERT INTO t_goods(title, sub_title, original_cost, current_price, discount, is_free_delivery, category_id) values(#{title}, #{subTitle}, #{originalCost}, #{currentPrice}, #{discount}, #{isFreeDelivery}, #{categoryId})\u0026#34;) @SelectKey(statement = \u0026#34;select last_insert_id()\u0026#34;, before = false, keyProperty = \u0026#34;goodsId\u0026#34;, resultType = Integer.class) public int insert(Goods goods); åœ¨MyBatisTestorä¸­ä½¿ç”¨è¿™ä¸ªæ–¹æ³•:\n@Test public void testInsert() throws Exception { SqlSession session = null; try { session = MyBatisUtils.openSession(); Goods goods = new Goods(); goods.setTitle(\u0026#34;æµ‹è¯•å•†å“\u0026#34;); goods.setSubTitle(\u0026#34;æµ‹è¯•å­æ ‡é¢˜\u0026#34;); goods.setOriginalCost(200f); goods.setCurrentPrice(100f); goods.setDiscount(0.5f); goods.setIsFreeDelivery(1); goods.setCategoryId(43); GoodsDAO goodsDAO = session.getMapper(GoodsDAO.class); int num = goodsDAO.insert(goods); session.commit(); System.out.println(goods.getGoodsId()); } catch (Exception e) { if (session != null){ session.rollback(); } throw e; } finally { MyBatisUtils.closeSession(session); } } ç»“æœæ˜ å°„çš„ä»£ç ï¼š åœ¨GoodsDAOä¸‹å†™å…¥å¦‚ä¸‹æ–¹æ³•ï¼š\n@Select(\u0026#34;select * from t_goods\u0026#34;) //\u0026lt;resultMap\u0026gt; @Results({ @Result(column = \u0026#34;goods_id\u0026#34;, property = \u0026#34;goodsId\u0026#34;, id = true), @Result(column = \u0026#34;title\u0026#34;, property = \u0026#34;title\u0026#34;), @Result(column = \u0026#34;current_price\u0026#34;, property = \u0026#34;currentPrice\u0026#34;) }) public List\u0026lt;GoodsDTO\u0026gt; selectAll(); åœ¨MyBatisTestorä¸­ä½¿ç”¨è¿™ä¸ªæ–¹æ³•:\n@Test public void selectAll() throws Exception { SqlSession session = null; try { session = MyBatisUtils.openSession(); GoodsDAO goodsDAO = session.getMapper(GoodsDAO.class); List\u0026lt;GoodsDTO\u0026gt; list = goodsDAO.selectAll(); System.out.println(list.size()); } catch (Exception e) { session.rollback(); throw e; } finally { MyBatisUtils.closeSession(session); } } ","permalink":"https://rexhub.space/posts/back/java/jdbctool/mybatis%E8%BF%9B%E9%98%B6/","summary":"MyBatisè¿›é˜¶ ä»€ä¹ˆæ˜¯æ—¥å¿— æ—¥å¿—æ–‡ä»¶æ˜¯ç”¨äºè®°å½•ç³»ç»Ÿæ“ä½œäº‹ä»¶çš„è®°å½•æ–‡ä»¶æˆ–æ–‡ä»¶é›†åˆ æ—¥å¿—ä¿å­˜å†å²æ•°æ®ï¼Œæ˜¯è¯Šæ–­é—®é¢˜ä»¥åŠç†è§£ç³»ç»Ÿæ´»åŠ¨çš„é‡è¦ä¾æ® SLF4jä¸Logback æ—¥å¿—çš„ä½¿ç”¨: å¼•å…¥logbackä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;ch.qos.logback\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;logback-classic\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åˆ›å»ºlogback.xmlï¼Œå¹¶å†™å…¥å¦‚ä¸‹ä»£ç ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;appender name=\u0026#34;console\u0026#34; class=\u0026#34;ch.qos.logback.core.ConsoleAppender\u0026#34;\u0026gt; \u0026lt;encoder\u0026gt; \u0026lt;pattern\u0026gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\u0026lt;/pattern\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼ˆä¼˜å…ˆçº§é«˜åˆ°ä½ï¼‰ error: é”™è¯¯ - ç³»ç»Ÿçš„æ•…éšœæ—¥å¿— warn: è­¦å‘Š - å­˜åœ¨é£é™©æˆ–ä½¿ç”¨ä¸å½“çš„æ—¥å¿— info: ä¸€èˆ¬æ€§æ¶ˆæ¯ debug: ç¨‹åºå†…éƒ¨ç”¨äºè°ƒè¯•ä¿¡æ¯ trace: ç¨‹åºå…è®¸çš„è·Ÿè¸ªä¿¡æ¯ --\u0026gt; \u0026lt;root level=\u0026#34;debug\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;console\u0026#34;\u0026gt;\u0026lt;/appender-ref\u0026gt; \u0026lt;/root\u0026gt; \u0026lt;/configuration\u0026gt; åŠ¨æ€SQL åŠ¨æ€SQLæ˜¯æŒ‡æ ¹æ®å‚æ•°æ•°æ®åŠ¨æ€ç»„ç»‡SQLçš„æŠ€æœ¯ ä»£ç ç¤ºä¾‹ï¼š goods.xmlä¸­åŠ å…¥å¦‚ä¸‹sqlè¯­å¥\n\u0026lt;select id=\u0026#34;dynamicSelect\u0026#34; parameterType=\u0026#34;java.util.Map\u0026#34; resultType=\u0026#34;com.imooc.mybatis.entity.Goods\u0026#34;\u0026gt; select * from t_goods \u0026lt;where\u0026gt; \u0026lt;if test=\u0026#34;categoryId != null\u0026#34;\u0026gt; and category_id = #{categoryId} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;currentPrice !","title":"Mybatisè¿›é˜¶"},{"content":"RESTfulå¼€å‘é£æ ¼ RESTä¸RESTful REST(Representational State Transfer)-è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼Œèµ„æºåœ¨ç½‘ç»œä¸­ä»¥æŸç§è¡¨ç°å½¢å¼è¿›è¡ŒçŠ¶æ€è½¬ç§» RESTfulæ˜¯åŸºäºRESTç†å¿µçš„ä¸€å¥—å¼€å‘é£æ ¼ï¼Œæ˜¯å…·ä½“çš„å¼€å‘è§„åˆ™ RESTfulä¼ è¾“æ•°æ® RESTfulå¼€å‘è§„èŒƒ ä½¿ç”¨URLä½œä¸ºç”¨æˆ·äº¤äº’å…¥å£ æ˜ç¡®çš„è¯­ä¹‰è§„èŒƒ(GET|POST|PUT|DELETE-\u0026gt;æŸ¥|å¢|æ”¹|åˆ ) åªè¿”å›æ•°æ®(JSON|XML)ï¼Œä¸åŒ…å«ä»»ä½•å±•ç° RESTfulå‘½åè¦æ±‚ URI è¯´æ˜ ä¿®æ”¹å»ºè®® GET /articles?au=lily æ­£ç¡®ç”¨æ³• GET /a/1 URIå¿…é¡»å…·æœ‰è¯­ä¹‰ GET /student/1 POST /createArticle/1 URIå¿…é¡»ä½¿ç”¨åè¯ POST /article/1 GET /articles/author/1 URIæ‰å¹³åŒ–ï¼Œä¸è¶…ä¸¤çº§ GET /articles/author?id=1 DELETE /articles/1 URIåè¯åŒºåˆ†å•å¤æ•° GET /articles?au=lily\nDELETE /article/1 å¼€å‘ç¬¬ä¸€ä¸ªRESTfulåº”ç”¨ RestfulController.java\npackage com.imooc.restful.controller; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.*; /** * @author Rex * @create 2021-01-12 12:00 */ @Controller @RequestMapping(\u0026#34;/restful\u0026#34;) public class RestfulController { @GetMapping(\u0026#34;/request\u0026#34;) @ResponseBody public String doGetRequest(){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;è¿”å›æŸ¥è¯¢ç»“æœ\\\u0026#34;}\u0026#34;; } @PostMapping(\u0026#34;/request\u0026#34;) @ResponseBody public String doPostRequest(){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;æ•°æ®æ–°å»ºæˆåŠŸ\\\u0026#34;}\u0026#34;; } @PutMapping(\u0026#34;/request\u0026#34;) @ResponseBody public String doPutRequest(){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;æ•°æ®æ›´æ–°æˆåŠŸ\\\u0026#34;}\u0026#34;; } @DeleteMapping(\u0026#34;/request\u0026#34;) @ResponseBody public String doDeleteRequest(){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;æ•°æ®åˆ é™¤æˆåŠŸ\\\u0026#34;}\u0026#34;; } } client.html\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;RESTfulå®éªŒå®¤\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;./jquery-3.5.1.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; $(function () { $(\u0026#34;#btnGet\u0026#34;).click(function () { $.ajax({ \u0026#34;url\u0026#34;:\u0026#34;/restful/request\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;get\u0026#34;, \u0026#34;dataType\u0026#34;:\u0026#34;json\u0026#34;, \u0026#34;success\u0026#34;: function (json) { $(\u0026#34;#message\u0026#34;).text(json.message); } }) }); $(\u0026#34;#btnPost\u0026#34;).click(function () { $.ajax({ \u0026#34;url\u0026#34;:\u0026#34;/restful/request\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;post\u0026#34;, \u0026#34;dataType\u0026#34;:\u0026#34;json\u0026#34;, \u0026#34;success\u0026#34;: function (json) { $(\u0026#34;#message\u0026#34;).text(json.message); } }) }); $(\u0026#34;#btnPut\u0026#34;).click(function () { $.ajax({ \u0026#34;url\u0026#34;:\u0026#34;/restful/request\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;put\u0026#34;, \u0026#34;dataType\u0026#34;:\u0026#34;json\u0026#34;, \u0026#34;success\u0026#34;: function (json) { $(\u0026#34;#message\u0026#34;).text(json.message); } }) }); $(\u0026#34;#btnDelete\u0026#34;).click(function () { $.ajax({ \u0026#34;url\u0026#34;:\u0026#34;/restful/request\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;delete\u0026#34;, \u0026#34;dataType\u0026#34;:\u0026#34;json\u0026#34;, \u0026#34;success\u0026#34;: function (json) { $(\u0026#34;#message\u0026#34;).text(json.message); } }) }); }) \u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;å‘é€Getè¯·æ±‚\u0026#34; id=\u0026#34;btnGet\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;å‘é€Postè¯·æ±‚\u0026#34; id=\u0026#34;btnPost\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;å‘é€Putè¯·æ±‚\u0026#34; id=\u0026#34;btnPut\u0026#34;/\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;å‘é€Deleteè¯·æ±‚\u0026#34; id=\u0026#34;btnDelete\u0026#34;/\u0026gt; \u0026lt;h1 id=\u0026#34;message\u0026#34;\u0026gt;\u0026lt;/h1\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ç»“æœï¼š\nä¸ºäº†è§£å†³jsonä¹±ç é—®é¢˜éœ€è¦åœ¨applicationContextå¯¹MediaTypesè¿›è¡Œå¤„ç†\n\u0026lt;mvc:annotation-driven\u0026gt; \u0026lt;mvc:message-converters\u0026gt; \u0026lt;bean class=\u0026#34;org.springframework.http.converter.StringHttpMessageConverter\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;supportedMediaTypes\u0026#34;\u0026gt; \u0026lt;list\u0026gt; \u0026lt;value\u0026gt;text/html; charset=utf-8\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;application/json; charset=utf-8\u0026lt;/value\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/mvc:message-converters\u0026gt; \u0026lt;/mvc:annotation-driven\u0026gt; RestControlleræ³¨è§£ @RestController = @ResposneBody + @Controller, é»˜è®¤å°†Stringå‘è¯·æ±‚ä¸­è¾“å‡ºï¼Œè€Œä¸æ˜¯å°†è¯·æ±‚è½¬å‘åˆ°è¯¥è·¯å¾„ä¸‹\nè·¯å¾„å˜é‡(@PathVariable) è·¯å¾„å˜é‡ï¼šå­˜æ”¾åœ¨URIä¸­å¯å˜çš„æ•°å€¼ ä»£ç ç¤ºä¾‹ï¼š RestfulController.java\n@PostMapping(\u0026#34;/request/{rid}\u0026#34;) public String doPostRequest(@PathVariable(\u0026#34;rid\u0026#34;) Integer requestId){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;æ•°æ®æ–°å»ºæˆåŠŸ\\\u0026#34;, \\\u0026#34;id\\\u0026#34;:\\\u0026#34;\u0026#34;+requestId+\u0026#34;\\\u0026#34;}\u0026#34;; } client.html\n$(\u0026#34;#btnPost\u0026#34;).click(function () { $.ajax({ \u0026#34;url\u0026#34;:\u0026#34;/restful/request/100\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;post\u0026#34;, \u0026#34;dataType\u0026#34;:\u0026#34;json\u0026#34;, \u0026#34;success\u0026#34;: function (json) { $(\u0026#34;#message\u0026#34;).text(json.message + \u0026#34;:\u0026#34;+json.id); } }) }); ç»“æœï¼š\nç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ ç®€å•è¯·æ±‚æ˜¯æŒ‡æ ‡å‡†ç»“æ„çš„HTTPè¯·æ±‚ï¼Œå¯¹åº”GET/POSTè¯·æ±‚ éç®€å•è¯·æ±‚æ˜¯æŒ‡å¤æ‚è¦æ±‚çš„HTTPè¯·æ±‚ï¼ŒæŒ‡PUT/DELETEã€æ‰©å±•æ ‡å‡†è¯·æ±‚ ä¸¤è€…æœ€å¤§åŒºåˆ«æ˜¯éç®€å•è¯·æ±‚å‘é€å‰éœ€è¦å‘é€é¢„æ£€è¯·æ±‚ éç®€å•è¯·æ±‚ éç®€å•è¯·æ±‚ä¸­å‚æ•°ä¼ é€’ éœ€è¦é…ç½®FormContentFilterè¿‡æ»¤å™¨\nä»£ç ç¤ºä¾‹ï¼š web.xml\n\u0026lt;filter\u0026gt; \u0026lt;filter-name\u0026gt;formContent\u0026lt;/filter-name\u0026gt; \u0026lt;filter-class\u0026gt;org.springframework.web.filter.FormContentFilter\u0026lt;/filter-class\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;filter-mapping\u0026gt; \u0026lt;filter-name\u0026gt;formContent\u0026lt;/filter-name\u0026gt; \u0026lt;url-pattern\u0026gt;/*\u0026lt;/url-pattern\u0026gt; \u0026lt;/filter-mapping\u0026gt; RestfulController.java\n@PutMapping(\u0026#34;/request\u0026#34;) public String doPutRequest(Person person){ System.out.println(person.getName()+\u0026#34;:\u0026#34;+person.getAge()); return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;æ•°æ®æ›´æ–°æˆåŠŸ\\\u0026#34;}\u0026#34;; } client.html\n$(\u0026#34;#btnPut\u0026#34;).click(function () { $.ajax({ \u0026#34;url\u0026#34;:\u0026#34;/restful/request\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;put\u0026#34;, \u0026#34;dataType\u0026#34;:\u0026#34;json\u0026#34;, \u0026#34;data\u0026#34;:\u0026#34;name=lily\u0026amp;age=23\u0026#34;, \u0026#34;success\u0026#34;: function (json) { $(\u0026#34;#message\u0026#34;).text(json.message); } }) }); ç»“æœï¼š\nJSONåºåˆ—åŒ– å¼•å…¥jackson-core -\u0026gt; jackæ ¸å¿ƒåŒ… å¼•å…¥jackson-databind-\u0026gt;ç”¨äºjacksonä¸ç›®æ ‡å¯¹è±¡äº¤äº’ å¼•å…¥jackson-annotationsç”¨äºjacksonçš„æ³¨è§£ tipï¼šæ—¥æœŸç±»å‹ã€æ•°å­—ç±»å‹ã€è´§å¸ç±»å‹çš„å¤„ç†éœ€è¦åŠ ä¸Š@JsonFormatæ³¨è§£ï¼Œå¦‚@JsonFormat(pattern=\u0026quot;\u0026quot;, timezone=\u0026ldquo;GMT+8\u0026rdquo;)\nä½¿ç”¨ç¤ºä¾‹ï¼š RestController.java\n@GetMapping(\u0026#34;/persons\u0026#34;) public List\u0026lt;Person\u0026gt; findPersons(){ List list = new ArrayList(); Person p1 = new Person(); p1.setName(\u0026#34;lily\u0026#34;); p1.setAge(23); p1.setBirthday(new Date()); Person p2 = new Person(); p2.setName(\u0026#34;smith\u0026#34;); p2.setAge(22); p2.setBirthday(new Date()); list.add(p1); list.add(p2); return list; } Person.java\npackage com.imooc.restful.entity; import com.fasterxml.jackson.annotation.JsonFormat; import java.util.Date; /** * @author Rex * @create 2021-01-12 14:02 */ public class Person { private String name; private Integer age; @JsonFormat(pattern = \u0026#34;yyyy-MM-dd HH-mm-ss\u0026#34;, timezone = \u0026#34;GMT+8\u0026#34;) private Date birthday; public String getName() { return name; } public void setName(String name) { this.name = name; } public Integer getAge() { return age; } public void setAge(Integer age) { this.age = age; } public Date getBirthday() { return birthday; } public void setBirthday(Date birthday) { this.birthday = birthday; } } client.html\n\u0026lt;script\u0026gt; //... $(\u0026#34;#btnPersons\u0026#34;).click(function () { $.ajax({ \u0026#34;url\u0026#34;:\u0026#34;/restful/persons\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;get\u0026#34;, \u0026#34;dataType\u0026#34;:\u0026#34;json\u0026#34;, \u0026#34;success\u0026#34;: function (json) { console.log(json) // $(\u0026#34;#message\u0026#34;).text(json.message); for (var i = 0; i \u0026lt; json.length; i++) { var p = json[i]; $(\u0026#34;#divPersons\u0026#34;).append(\u0026#34;\u0026lt;h2\u0026gt;\u0026#34;+p.name+\u0026#34;-\u0026#34;+p.age+\u0026#34;-\u0026#34;+p.birthday+\u0026#34;\u0026lt;/h2\u0026gt;\u0026#34;) } } }) }); \u0026lt;/script\u0026gt; \u0026lt;!--...--\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; id=\u0026#34;btnPersons\u0026#34; value=\u0026#34;æŸ¥è¯¢æ‰€æœ‰äººå‘˜\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;divPersons\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ç»“æœï¼š\næµè§ˆå™¨çš„è·¨åŸŸè®¿é—® æµè§ˆå™¨çš„åŒæºç­–ç•¥ åŒæºç­–ç•¥é˜»æ­¢ä»ä¸€ä¸ªåŸŸåŠ è½½çš„è„šæœ¬å»è·å–å¦ä¸€ä¸ªåŸŸä¸Šçš„èµ„æº åªè¦åè®®ã€åŸŸåã€ç«¯å£å·æœ‰ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œéƒ½è¢«å½“ä½œæ˜¯ä¸åŒçš„åŸŸ æµè§ˆå™¨Consoleçœ‹åˆ°Access-Control-Allow-Originå°±ä»£è¡¨è·¨åŸŸäº† åŒæºç­–ç•¥ç¤ºä¾‹ æºURL ç›®æ ‡URL ç›´æ¥è®¿é—®ï¼Ÿ http://imooc.com https://xxx.com:8080/test ä¸èƒ½ http://imooc.com https://imooc.com ä¸èƒ½ http://imooc.com http://abc.imooc.com ä¸èƒ½ http://imooc.com http://imooc.com:8080 ä¸èƒ½ http://localhost http://127.0.0.1 ä¸èƒ½ http://imooc.com http://imooc.com/user/test å¯ä»¥ HTMLä¸­å…è®¸è·¨åŸŸçš„æ ‡ç­¾ \u0026lt;img\u0026gt; - æ˜¾ç¤ºè¿œç¨‹å›¾ç‰‡ \u0026lt;script\u0026gt; - åŠ è½½è¿œç¨‹JS \u0026lt;link\u0026gt; - åŠ è½½è¿œç¨‹CSS SpringMVCè·¨åŸŸè®¿é—® CORSè·¨åŸŸèµ„æºè®¿é—® CORSæ˜¯ä¸€ç§æœºåˆ¶ï¼Œä½¿ç”¨é¢å¤–çš„HTTPå¤´é€šçŸ¥æµè§ˆå™¨å¯ä»¥è®¿é—®å…¶ä»–åŸŸ URLå“åº”å¤´åŒ…å« Access-Control-*æŒ‡æ˜è¯·æ±‚å…è®¸è·¨åŸŸ SpringMVCè§£å†³è·¨åŸŸè®¿é—® @CrossOrigin - Controllerè·¨åŸŸæ³¨è§£\nä»£ç ç¤ºä¾‹ï¼š\n80ç«¯å£ä¸‹çš„RestfulController.javaï¼š\npackage com.imooc.restful.controller; import com.imooc.restful.entity.Person; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.*; import java.util.ArrayList; import java.util.Date; import java.util.List; /** * @author Rex * @create 2021-01-12 12:00 */ @RestController @RequestMapping(\u0026#34;/restful\u0026#34;) //@CrossOrigin(origins = {\u0026#34;http://localhost:8080\u0026#34;, \u0026#34;http://www.imooc.com\u0026#34;}) @CrossOrigin(origins = \u0026#34;*\u0026#34;, maxAge = 3600)//åŒ¹é…æ¯ä¸€ä¸ªURL, maxAge-\u0026gt;è®¾ç½®é¢„æ£€è¯·æ±‚çš„è®¿é—®æ—¶é—´ public class RestfulController { //.... } 8080ç«¯å£ä¸‹çš„client.html\n$(\u0026#34;#btnPersons\u0026#34;).click(function () { $.ajax({ \u0026#34;url\u0026#34;:\u0026#34;http://localhost/restful/persons\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;get\u0026#34;, \u0026#34;dataType\u0026#34;:\u0026#34;json\u0026#34;, \u0026#34;success\u0026#34;: function (json) { console.log(json) // $(\u0026#34;#message\u0026#34;).text(json.message); for (var i = 0; i \u0026lt; json.length; i++) { var p = json[i]; $(\u0026#34;#divPersons\u0026#34;).append(\u0026#34;\u0026lt;h2\u0026gt;\u0026#34;+p.name+\u0026#34;-\u0026#34;+p.age+\u0026#34;-\u0026#34;+p.birthday+\u0026#34;\u0026lt;/h2\u0026gt;\u0026#34;) } } }) }); ç»“æœï¼š\n\u0026lt;mvc:cors\u0026gt; - Spring MVC å…¨å±€è·¨åŸŸé…ç½®\napplicationContext.xml\n\u0026lt;mvc:cors\u0026gt; \u0026lt;mvc:mapping path=\u0026#34;/restful/**\u0026#34; allowed-origins=\u0026#34;http://localhost:8080, http://www.imooc.com\u0026#34; max-age=\u0026#34;3600\u0026#34;/\u0026gt; \u0026lt;/mvc:cors\u0026gt; ","permalink":"https://rexhub.space/posts/back/java/framework/springmvc/restful/","summary":"RESTfulå¼€å‘é£æ ¼ RESTä¸RESTful REST(Representational State Transfer)-è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼Œèµ„æºåœ¨ç½‘ç»œä¸­ä»¥æŸç§è¡¨ç°å½¢å¼è¿›è¡ŒçŠ¶æ€è½¬ç§» RESTfulæ˜¯åŸºäºRESTç†å¿µçš„ä¸€å¥—å¼€å‘é£æ ¼ï¼Œæ˜¯å…·ä½“çš„å¼€å‘è§„åˆ™ RESTfulä¼ è¾“æ•°æ® RESTfulå¼€å‘è§„èŒƒ ä½¿ç”¨URLä½œä¸ºç”¨æˆ·äº¤äº’å…¥å£ æ˜ç¡®çš„è¯­ä¹‰è§„èŒƒ(GET|POST|PUT|DELETE-\u0026gt;æŸ¥|å¢|æ”¹|åˆ ) åªè¿”å›æ•°æ®(JSON|XML)ï¼Œä¸åŒ…å«ä»»ä½•å±•ç° RESTfulå‘½åè¦æ±‚ URI è¯´æ˜ ä¿®æ”¹å»ºè®® GET /articles?au=lily æ­£ç¡®ç”¨æ³• GET /a/1 URIå¿…é¡»å…·æœ‰è¯­ä¹‰ GET /student/1 POST /createArticle/1 URIå¿…é¡»ä½¿ç”¨åè¯ POST /article/1 GET /articles/author/1 URIæ‰å¹³åŒ–ï¼Œä¸è¶…ä¸¤çº§ GET /articles/author?id=1 DELETE /articles/1 URIåè¯åŒºåˆ†å•å¤æ•° GET /articles?au=lily\nDELETE /article/1 å¼€å‘ç¬¬ä¸€ä¸ªRESTfulåº”ç”¨ RestfulController.java\npackage com.imooc.restful.controller; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.*; /** * @author Rex * @create 2021-01-12 12:00 */ @Controller @RequestMapping(\u0026#34;/restful\u0026#34;) public class RestfulController { @GetMapping(\u0026#34;/request\u0026#34;) @ResponseBody public String doGetRequest(){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;è¿”å›æŸ¥è¯¢ç»“æœ\\\u0026#34;}\u0026#34;; } @PostMapping(\u0026#34;/request\u0026#34;) @ResponseBody public String doPostRequest(){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;æ•°æ®æ–°å»ºæˆåŠŸ\\\u0026#34;}\u0026#34;; } @PutMapping(\u0026#34;/request\u0026#34;) @ResponseBody public String doPutRequest(){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;æ•°æ®æ›´æ–°æˆåŠŸ\\\u0026#34;}\u0026#34;; } @DeleteMapping(\u0026#34;/request\u0026#34;) @ResponseBody public String doDeleteRequest(){ return \u0026#34;{\\\u0026#34;message\\\u0026#34;:\\\u0026#34;æ•°æ®åˆ é™¤æˆåŠŸ\\\u0026#34;}\u0026#34;; } } client.","title":"Restfulå¼€å‘é£æ ¼"},{"content":"Spring MVC Spring MVCä»‹ç» MVCæ˜¯ä»€ä¹ˆ Spring MVC Spring MVCæ˜¯Springä½“ç³»çš„è½»é‡çº§WEB MVCæ¡†æ¶ Spring MVCçš„æ ¸å¿ƒControlleræ§åˆ¶å™¨ï¼Œç”¨äºå¤„ç†è¯·æ±‚ï¼Œäº§ç”Ÿå“åº” Spring MVCåŸºäºSpring IoCå®¹å™¨è¿è¡Œï¼Œæ‰€æœ‰å¯¹è±¡è¢«IoCç®¡ç† Spring 5.Xç‰ˆæœ¬å˜åŒ– Spring 5.xæœ€ä½è¦æ±‚JDK8ä¸J2EE 7(Servlet 3.1/Tomcat 8.5+) Spring 5.xæ”¯æŒJDK8/9,å¯ä»¥ä½¿ç”¨æ–°ç‰¹æ€§ Spring 5.xæœ€é‡è¦çš„æ–°ç‰¹æ€§æ”¯æŒå“åº”å¼ç¼–ç¨‹ Spring MVCç¯å¢ƒé…ç½® Mavenä¾èµ–spring-webmvc web.xmlé…ç½®DispatcherServlet é…ç½®applicationContextçš„mvcæ ‡è®° å¼€å‘Controlleræ§åˆ¶å™¨ ç®€å•ç¤ºä¾‹ï¼š applicationContext.xml:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:mvc=\u0026#34;http://www.springframework.org/schema/mvc\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:mv=\u0026#34;http://www.springframework.org/schema/mvc\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\u0026#34;\u0026gt; \u0026lt;!-- context:component-scan æ ‡ç­¾ä½œç”¨ åœ¨Spring IOCåˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨åˆ›å»ºå¹¶ç®¡ç†com.imooc.springmvcåŠå­åŒ… æ‹¥æœ‰ä»¥ä¸‹æ³¨è§£çš„å¯¹è±¡ @Repository @Service @Controller @Component --\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.imooc.springmvc\u0026#34;/\u0026gt; \u0026lt;!--å¯ç”¨Spring MVCçš„æ³¨è§£å¼€å‘æ¨¡å¼--\u0026gt; \u0026lt;mvc:annotation-driven/\u0026gt; \u0026lt;!--å°†å›¾ç‰‡/JS/CSSç­‰é™æ€èµ„æºæ’é™¤åœ¨å¤–ï¼Œå¯æé«˜æ‰§è¡Œæ•ˆç‡--\u0026gt; \u0026lt;mvc:default-servlet-handler/\u0026gt; \u0026lt;/beans\u0026gt; web.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;web-app xmlns=\u0026#34;http://xmlns.jcp.org/xml/ns/javaee\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\u0026#34; version=\u0026#34;3.1\u0026#34;\u0026gt; \u0026lt;!--DispatchServlet--\u0026gt; \u0026lt;servlet\u0026gt; \u0026lt;servlet-name\u0026gt;springmvc\u0026lt;/servlet-name\u0026gt; \u0026lt;!-- DispatcherServletæ˜¯Spring MVCæœ€æ ¸å¿ƒçš„å¯¹è±¡ DispatcherServletç”¨äºæ‹¦æˆªHttpè¯·æ±‚, å¹¶æ ¹æ®è¯·æ±‚çš„URLè°ƒç”¨ä¸ä¹‹å¯¹åº”çš„Controlleræ–¹æ³•,æ¥å®ŒæˆHttpè¯·æ±‚çš„å¤„ç† --\u0026gt; \u0026lt;servlet-class\u0026gt;org.springframework.web.servlet.DispatcherServlet\u0026lt;/servlet-class\u0026gt; \u0026lt;!--applicationContext.xml--\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;param-name\u0026gt;contextConfigLocation\u0026lt;/param-name\u0026gt; \u0026lt;param-value\u0026gt;classpath:applicationContext.xml\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;!-- åœ¨Webåº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºSpring IOCå®¹å™¨, å¹¶åˆå§‹åŒ–DispatcherServlet --\u0026gt; \u0026lt;load-on-startup\u0026gt;0\u0026lt;/load-on-startup\u0026gt; \u0026lt;/servlet\u0026gt; \u0026lt;servlet-mapping\u0026gt; \u0026lt;servlet-name\u0026gt;springmvc\u0026lt;/servlet-name\u0026gt; \u0026lt;!--\u0026#34;/\u0026#34; ä»£è¡¨æ‹¦æˆªæ‰€æœ‰è¯·æ±‚--\u0026gt; \u0026lt;url-pattern\u0026gt;/\u0026lt;/url-pattern\u0026gt; \u0026lt;/servlet-mapping\u0026gt; \u0026lt;/web-app\u0026gt; TestController.java\npackage com.imooc.springmvc.controller; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.ResponseBody; import org.springframework.web.bind.annotation.RestController; /** * @author Rex * @create 2021-01-08 16:59 */ @Controller public class TestController { @GetMapping(\u0026#34;/t\u0026#34;) @ResponseBody //ç›´æ¥å‘å“åº”è¾“å‡ºå­—ç¬¦ä¸²æ•°æ®ï¼Œä¸è·³è½¬é¡µé¢ public String test(){ return \u0026#34;HELLO WORLD\u0026#34;; } } ç»“æœï¼š Spring MVCæ•°æ®ç»‘å®š URL Mapping URL MappingæŒ‡å°†URLä¸Controlleræ–¹æ³•ç»‘å®š é€šè¿‡å°†URLä¸æ–¹æ³•ç»‘å®šï¼ŒSpringMVCä¾¿å¯é€šè¿‡Tomcatå¯¹å¤–æš´éœ²æœåŠ¡ URL Mappingæ³¨è§£ @RequestMapping - é€šç”¨ç»‘å®š @GetMapping - ç»‘å®šGetè¯·æ±‚ @PostMapping - ç»‘å®šPostè¯·æ±‚ æ¥å—è¯·æ±‚å‚æ•°çš„å¸¸ç”¨åšæ³• ä½¿ç”¨Controlleræ–¹æ³•å‚æ•°æ¥å—ï¼ˆ@RequestParamï¼‰ ä½¿ç”¨Java Beanæ¥å—æ•°æ® æ¥å—è¡¨å•å¤åˆæ•°æ® åˆ©ç”¨æ•°ç»„æˆ–è€…Listæ¥å—è¯·æ±‚ä¸­ç»™çš„å¤åˆæ•°æ® åˆ©ç”¨@RequestParamä¸ºå‚æ•°è®¾ç½®é»˜è®¤å€¼ ä½¿ç”¨Mapå¯¹è±¡æ¥å—è¯·æ±‚å‚æ•°åŠæ³¨æ„äº‹é¡¹ å…³è”å¯¹è±¡èµ‹å€¼ æ—¥æœŸç±»å‹è½¬æ¢ @DateTimeFormat\nè‡ªå®šä¹‰è½¬æ¢å™¨\nMyDateConverter.java\npackage com.imooc.springmvc.converter; import org.springframework.core.convert.converter.Converter; import java.text.ParseException; import java.text.SimpleDateFormat; import java.util.Date; /** * @author Rex * @create 2021-01-09 10:34 */ public class MyDateConverter implements Converter\u0026lt;String, Date\u0026gt; { @Override public Date convert(String s) { SimpleDateFormat sdf = new SimpleDateFormat(\u0026#34;yyyy-MM-dd\u0026#34;); try { Date d = sdf.parse(s); return d; } catch (ParseException e) { return null; } } } applicationContext.xml\n\u0026lt;mvc:annotation-driven conversion-service=\u0026#34;conversionService\u0026#34;/\u0026gt; \u0026lt;bean id=\u0026#34;conversionService\u0026#34; class=\u0026#34;org.springframework.format.support.FormattingConversionServiceFactoryBean\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;converters\u0026#34;\u0026gt; \u0026lt;set\u0026gt; \u0026lt;bean class=\u0026#34;com.imooc.springmvc.converter.MyDateConverter\u0026#34;/\u0026gt; \u0026lt;/set\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; tip: @DateTimeFormatå’Œè‡ªå®šä¹‰è½¬æ¢å™¨æœ€å¥½ä¸è¦åŒæ—¶ä½¿ç”¨ï¼Œspringä¼šä¼˜å…ˆä½¿ç”¨è‡ªå®šä¹‰è½¬æ¢å™¨\nè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ Webåº”ç”¨çš„ä¸­æ–‡ä¹±ç ç”±æ¥ Tomcaté»˜è®¤ä½¿ç”¨å­—ç¬¦é›†ISO-8859-1ï¼Œå±äºè¥¿æ¬§å­—ç¬¦é›† è§£å†³ä¹±ç çš„æ ¸å¿ƒæ€è·¯æ˜¯å°†ISO-8859-1è½¬æ¢ä¸ºUTF-8 Controllerä¸­è¯·æ±‚ä¸å“åº”éƒ½éœ€è¦è®¾ç½®UTF-8å­—ç¬¦é›† ä¸­æ–‡ä¹±ç çš„é…ç½® Getè¯·æ±‚ä¹±ç -server.xmlå¢åŠ URIEncodingå±æ€§\nPostè¯·æ±‚ä¹±ç -web.xmlé…ç½®CharacterEncodingFilter\nResponseå“åº”ä¹±ç -Springé…ç½®StringHttpMessageConverter\nç¤ºä¾‹ä»£ç ï¼š\nweb.xml\n\u0026lt;filter\u0026gt; \u0026lt;filter-name\u0026gt;characterFilter\u0026lt;/filter-name\u0026gt; \u0026lt;filter-class\u0026gt;org.springframework.web.filter.CharacterEncodingFilter\u0026lt;/filter-class\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;param-name\u0026gt;encoding\u0026lt;/param-name\u0026gt; \u0026lt;param-value\u0026gt;UTF-8\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;filter-mapping\u0026gt; \u0026lt;filter-name\u0026gt;characterFilter\u0026lt;/filter-name\u0026gt; \u0026lt;url-pattern\u0026gt;/*\u0026lt;/url-pattern\u0026gt; \u0026lt;/filter-mapping\u0026gt; applicationContext.xml\n\u0026lt;mvc:annotation-driven conversion-service=\u0026#34;conversionService\u0026#34;\u0026gt; \u0026lt;mvc:message-converters\u0026gt; \u0026lt;bean class=\u0026#34;org.springframework.http.converter.StringHttpMessageConverter\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;supportedMediaTypes\u0026#34;\u0026gt; \u0026lt;list\u0026gt; \u0026lt;!--response.setContentType(\u0026#34;text/html; charset=utf-8\u0026#34;)--\u0026gt; \u0026lt;value\u0026gt;text/html;charset=utf-8\u0026lt;/value\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/mvc:message-converters\u0026gt; \u0026lt;/mvc:annotation-driven\u0026gt; å“åº”è¾“å‡º å“åº”ä¸­äº§ç”Ÿç»“æœ @ResponseBody - äº§ç”Ÿå“åº”æ–‡æœ¬ ModelAndView - åˆ©ç”¨æ¨¡æ¿å¼•æ“æ¸²æŸ“è¾“å‡º @ResponseBody @ResponseBodyç›´æ¥äº§ç”Ÿå“åº”ä½“çš„æ•°æ®ï¼Œè¿‡ç¨‹ä¸­ä¸äº§ç”Ÿä»»ä½•è§†å›¾ @ResponseBodyå¯äº§ç”Ÿæ ‡å‡†å­—ç¬¦ä¸²/JSON/XMLç­‰æ ¼å¼æ•°æ® @ResponseBodyè¢«StringHttpMessageConvertyæ‰€å½±å“ ModelAndViewæ¦‚è¿° ModelAndViewæ˜¯æŒ‡â€œæ¨¡å‹(æ•°æ®)ä¸è§†å›¾(ç•Œé¢)â€å¯¹è±¡ é€šè¿‡ModelAndViewå¯å°†æ•°æ®å¯¹è±¡ä¸æ¨¡æ¿å¼•æ“è¿›è¡Œç»‘å®š SpringMVCä¸­é»˜è®¤çš„Viewæ˜¯JSPï¼Œä¹Ÿå¯ä»¥é…ç½®å…¶ä»–æ¨¡æ¿å¼•æ“ ä½¿ç”¨ç¤ºä¾‹ï¼š URLMappingController.java\n@GetMapping(\u0026#34;/view\u0026#34;) public ModelAndView showView(Integer userId){ ModelAndView mav = new ModelAndView(\u0026#34;/view.jsp\u0026#34;); User user = new User(); if (userId == 1){ user.setUsername(\u0026#34;lily\u0026#34;); }else if(userId == 2){ user.setUsername(\u0026#34;smith\u0026#34;); }else if(userId == 3){ user.setUsername(\u0026#34;lina\u0026#34;); } mav.addObject(\u0026#34;u\u0026#34;, user); return mav; } view.jsp\n\u0026lt;%-- Created by IntelliJ IDEA. User: CubeMonkey Date: 2021/1/9 Time: 11:27 Email:2192231938@qq.com To change this template use File | Settings | File Templates. --%\u0026gt; \u0026lt;%@ page contentType=\u0026#34;text/html;charset=UTF-8\u0026#34; language=\u0026#34;java\u0026#34; %\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;View\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;I\u0026#39;m view page\u0026lt;/h1\u0026gt;\u0026lt;hr/\u0026gt; \u0026lt;h2\u0026gt;Username:${u.username}\u0026lt;/h2\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ModelAndViewæ–¹æ³• mav.addObject()æ–¹æ³•è®¾ç½®çš„å±æ€§é»˜è®¤å­˜æ”¾åœ¨å½“å‰è¯·æ±‚ä¸­ é»˜è®¤ModelAndViewä½¿ç”¨è¯·æ±‚è½¬å‘(forward)è‡³é¡µé¢ é‡å®šå‘ä½¿ç”¨new ModelAndView(\u0026ldquo;redirect:/index.jsp\u0026rdquo;) String+ModelMap å®ç°ModelAndViewï¼ˆå¸¸è§ï¼‰ ç¤ºä¾‹ä»£ç : //String ä¸ ModelMap //Controlleræ–¹æ³•è¿”å›Stringçš„æƒ…å†µ //1. æ–¹æ³•è¢«@ResponseBodyæè¿°ï¼ŒSpringMVCç›´æ¥å“åº”Stringå­—ç¬¦ä¸²æœ¬èº« //2. æ–¹æ³•ä¸å­˜åœ¨@ResponseBodyï¼Œåˆ™SpringMVCå¤„ç†StringæŒ‡ä»£çš„è§†å›¾(é¡µé¢) @GetMapping(\u0026#34;/xxxx\u0026#34;) @ResponseBody public String showView1(Integer userId, ModelMap modelMap){ String view = \u0026#34;/view.jsp\u0026#34;; User user = new User(); if (userId == 1){ user.setUsername(\u0026#34;lily\u0026#34;); }else if(userId == 2){ user.setUsername(\u0026#34;smith\u0026#34;); }else if(userId == 3){ user.setUsername(\u0026#34;lina\u0026#34;); } modelMap.addAttribute(\u0026#34;u\u0026#34;, user); return view; } SpringMVCæ•´åˆFreemarker pom.xmlå¼•å…¥ä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.freemarker\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;freemarker\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.30\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-context-support\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.3.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; å¯ç”¨Freemarkeræ¨¡æ¿å¼•æ“(FreeMarkerViewResolver)\n\u0026lt;bean id=\u0026#34;ViewReslover\u0026#34; class=\u0026#34;org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver\u0026#34;\u0026gt; \u0026lt;!--å‘å®¢æˆ·ç«¯è¾“å‡ºå†…å®¹çš„æ—¶å€™è®¾ç½®çš„å­—ç¬¦é›†--\u0026gt; \u0026lt;property name=\u0026#34;contentType\u0026#34; value=\u0026#34;text/html;charset=utf-8\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;suffix\u0026#34; value=\u0026#34;.ftl\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; é…ç½®Freemarkerå‚æ•°(FreemarkerConfigurer)\n\u0026lt;bean id=\u0026#34;freemarkerConfig\u0026#34; class=\u0026#34;org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;templateLoaderPath\u0026#34; value=\u0026#34;/WEB-INF/ftl\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;freemarkerSettings\u0026#34;\u0026gt; \u0026lt;props\u0026gt; \u0026lt;!--ä¸ºäº§ç”Ÿç»“æœçš„æ—¶å€™çš„å­—ç¬¦é›†--\u0026gt; \u0026lt;prop key=\u0026#34;defaultEnocding\u0026#34;\u0026gt;UTF-8\u0026lt;/prop\u0026gt; \u0026lt;/props\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; ä½¿ç”¨Freemarker\ntest.ftl\n\u0026lt;h1\u0026gt;${u.username}\u0026lt;/h1\u0026gt; FreemarkerController.java\npackage com.imooc.springmvc.controller; import com.imooc.springmvc.entity.User; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.servlet.ModelAndView; /** * @author Rex * @create 2021-01-09 14:25 */ @Controller @RequestMapping(\u0026#34;/fm\u0026#34;) public class FreemarkerController { @GetMapping(\u0026#34;/test\u0026#34;) public ModelAndView showTest(){ ModelAndView mav = new ModelAndView(\u0026#34;/test\u0026#34;); User user = new User(); user.setUsername(\u0026#34;andy\u0026#34;); mav.addObject(\u0026#34;u\u0026#34;, user); return mav; } } ","permalink":"https://rexhub.space/posts/back/java/framework/springmvc/springmvc%E5%9F%BA%E7%A1%80/","summary":"Spring MVC Spring MVCä»‹ç» MVCæ˜¯ä»€ä¹ˆ Spring MVC Spring MVCæ˜¯Springä½“ç³»çš„è½»é‡çº§WEB MVCæ¡†æ¶ Spring MVCçš„æ ¸å¿ƒControlleræ§åˆ¶å™¨ï¼Œç”¨äºå¤„ç†è¯·æ±‚ï¼Œäº§ç”Ÿå“åº” Spring MVCåŸºäºSpring IoCå®¹å™¨è¿è¡Œï¼Œæ‰€æœ‰å¯¹è±¡è¢«IoCç®¡ç† Spring 5.Xç‰ˆæœ¬å˜åŒ– Spring 5.xæœ€ä½è¦æ±‚JDK8ä¸J2EE 7(Servlet 3.1/Tomcat 8.5+) Spring 5.xæ”¯æŒJDK8/9,å¯ä»¥ä½¿ç”¨æ–°ç‰¹æ€§ Spring 5.xæœ€é‡è¦çš„æ–°ç‰¹æ€§æ”¯æŒå“åº”å¼ç¼–ç¨‹ Spring MVCç¯å¢ƒé…ç½® Mavenä¾èµ–spring-webmvc web.xmlé…ç½®DispatcherServlet é…ç½®applicationContextçš„mvcæ ‡è®° å¼€å‘Controlleræ§åˆ¶å™¨ ç®€å•ç¤ºä¾‹ï¼š applicationContext.xml:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:mvc=\u0026#34;http://www.springframework.org/schema/mvc\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:mv=\u0026#34;http://www.springframework.org/schema/mvc\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\u0026#34;\u0026gt; \u0026lt;!-- context:component-scan æ ‡ç­¾ä½œç”¨ åœ¨Spring IOCåˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨åˆ›å»ºå¹¶ç®¡ç†com.imooc.springmvcåŠå­åŒ… æ‹¥æœ‰ä»¥ä¸‹æ³¨è§£çš„å¯¹è±¡ @Repository @Service @Controller @Component --\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.imooc.springmvc\u0026#34;/\u0026gt; \u0026lt;!--å¯ç”¨Spring MVCçš„æ³¨è§£å¼€å‘æ¨¡å¼--\u0026gt; \u0026lt;mvc:annotation-driven/\u0026gt; \u0026lt;!--å°†å›¾ç‰‡/JS/CSSç­‰é™æ€èµ„æºæ’é™¤åœ¨å¤–ï¼Œå¯æé«˜æ‰§è¡Œæ•ˆç‡--\u0026gt; \u0026lt;mvc:default-servlet-handler/\u0026gt; \u0026lt;/beans\u0026gt; web.xml\n\u0026lt;?xml version=\u0026#34;1.","title":"SpringMVCåŸºç¡€"},{"content":"SpringMVCæ‹¦æˆªå™¨ æ‹¦æˆªå™¨-Interceptor æ‹¦æˆªå™¨(Interveptor)ç”¨äºå¯¹URLè¯·æ±‚è¿›è¡Œå‰ç½®/åç½®è¿‡æ»¤ Interceptorä¸Filterç”¨é€”ç›¸ä¼¼ï¼Œä½†å®ç°æ–¹å¼ä¸åŒ Interceptoråº•å±‚å°±æ˜¯åŸºäºSpring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹å®ç° æ‹¦æˆªå™¨å¼€å‘æµç¨‹ Mavenä¾èµ–servlet-api\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javax.servlet-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.0.1\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; å®ç°HandlerInterceptor\npackage com.imooc.restful.interceptor; import org.springframework.web.servlet.HandlerInterceptor; import org.springframework.web.servlet.ModelAndView; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; /** * @author Rex * @create 2021-01-12 17:55 */ public class MyInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(request.getRequestURL()+\u0026#34;-å‡†å¤‡æ‰§è¡Œ\u0026#34;); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(request.getRequestURL()+\u0026#34;-ç›®æ ‡å¤„ç†æˆåŠŸ\u0026#34;); } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(request.getRequestURL()+\u0026#34;-å“åº”å†…å®¹å·²äº§ç”Ÿ\u0026#34;); } } applicationContexté…ç½®è¿‡æ»¤åœ°å€\n\u0026lt;mvc:interceptors\u0026gt; \u0026lt;mvc:interceptor\u0026gt; \u0026lt;mvc:mapping path=\u0026#34;/**\u0026#34;/\u0026gt; \u0026lt;bean class=\u0026#34;com.imooc.restful.interceptor.MyInterceptor\u0026#34;\u0026gt;\u0026lt;/bean\u0026gt; \u0026lt;/mvc:interceptor\u0026gt; \u0026lt;/mvc:interceptors\u0026gt; æ‰§è¡Œç»“æœ\nHandlerInterceptoræ¥å£ preHandle - å‰ç½®æ‰§è¡Œå¤„ç† postHandle - ç›®æ ‡èµ„æºå·²è¢«Spring MVCæ¡†æ¶å¤„ç† afterCompletion - å“åº”æ–‡æœ¬å·²ç»äº§ç”Ÿ å¤šInterceptoræ‰§è¡Œå…ˆåé¡ºåº ","permalink":"https://rexhub.space/posts/back/java/framework/springmvc/springmvc%E6%8B%A6%E6%88%AA%E5%99%A8/","summary":"SpringMVCæ‹¦æˆªå™¨ æ‹¦æˆªå™¨-Interceptor æ‹¦æˆªå™¨(Interveptor)ç”¨äºå¯¹URLè¯·æ±‚è¿›è¡Œå‰ç½®/åç½®è¿‡æ»¤ Interceptorä¸Filterç”¨é€”ç›¸ä¼¼ï¼Œä½†å®ç°æ–¹å¼ä¸åŒ Interceptoråº•å±‚å°±æ˜¯åŸºäºSpring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹å®ç° æ‹¦æˆªå™¨å¼€å‘æµç¨‹ Mavenä¾èµ–servlet-api\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javax.servlet-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.0.1\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; å®ç°HandlerInterceptor\npackage com.imooc.restful.interceptor; import org.springframework.web.servlet.HandlerInterceptor; import org.springframework.web.servlet.ModelAndView; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; /** * @author Rex * @create 2021-01-12 17:55 */ public class MyInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(request.getRequestURL()+\u0026#34;-å‡†å¤‡æ‰§è¡Œ\u0026#34;); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.","title":"SpringMVCæ‹¦æˆªå™¨"},{"content":"Rediså…¥é—¨ Redisä»‹ç» Redisæ˜¯Key-Valueå‹NoSQLæ•°æ®åº“ Rediså°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿèƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ Rediså¸¸ç”¨äºç¼“å­˜ï¼Œåˆ©ç”¨å†…å­˜çš„é«˜æ•ˆæé«˜ç¨‹åºçš„å¤„ç†é€Ÿåº¦ Redisç‰¹ç‚¹ é€Ÿåº¦å¿« æŒä¹…åŒ– ä¸»ä»å¤åˆ¶ å¹¿æ³›çš„è¯­è¨€æ”¯æŒ å¤šç§æ•°æ®ç»“æ„ åˆ†å¸ƒå¼ä¸é«˜å¯ç”¨ Redisçš„å®‰è£…ä¸ä½¿ç”¨ åœ¨Linuxç³»ç»Ÿä¸­å®‰è£…Redis https://redis.io/download\nåœ¨windowsç³»ç»Ÿä¸­å®‰è£…Redis https://github.com/microsoftarchive/redis/releases\nRedisçš„å¸¸ç”¨åŸºæœ¬é…ç½® é…ç½®é¡¹ ç¤ºä¾‹ è¯´æ˜ daemonize daemonize yes æ˜¯å¦å¯ç”¨åå°å…è®¸ï¼Œé»˜è®¤no port port 6379 è®¾ç½®ç«¯å£å·ï¼Œé»˜è®¤6379 logfile logfile æ—¥å¿—æ–‡ä»¶ è®¾ç½®æ—¥å¿—æ–‡ä»¶ databases databases 255 è®¾ç½®redisæ•°æ®åº“æ€»é‡ dir diræ•°æ®æ–‡ä»¶ç›®å½• è®¾ç½®æ•°æ®æ–‡ä»¶å­˜å‚¨ç›®å½• requirepass requirepass 12345 è®¾ç½®ä½¿ç”¨å¯†ç  Redisé€šç”¨å‘½ä»¤ å‘½ä»¤ ç¤ºä¾‹ è¯´æ˜ select select 0 é€‰æ‹©0å·æ•°æ®åº“ set set name lily è®¾ç½®key=name,value=lily get get hello è·å¾—key=helloç»“æœ keys keys he* æ ¹æ®Patternè¡¨è¾¾å¼æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„Key dbsize dbsize è¿”å›keyçš„æ€»æ•° exists exists a æ£€æŸ¥key=aæ˜¯å¦å­˜åœ¨ del del a åˆ é™¤key=açš„æ•°æ® expire expire hello 20 è®¾ç½®key=hello 20ç§’åè¿‡æœŸ ttl ttl æŸ¥çœ‹key=açš„è¿‡æœŸå‰©ä½™æ—¶é—´ Redisæ•°æ®ç±»å‹ String - å­—ç¬¦ä¸²ç±»å‹ Hash - Hashç±»å‹ List - åˆ—è¡¨ç±»å‹ Set - é›†åˆç±»å‹ Zset - æœ‰åºé›†åˆç±»å‹ Stringå­—ç¬¦ä¸²ç±»å‹ Stringæœ€å¤§512mb å»ºè®®å•ä¸ªkvä¸è¶…è¿‡100kb\nå­—ç¬¦ä¸²å‘½ä»¤\nå‘½ä»¤ ç¤ºä¾‹ è¯´æ˜ get get hello è·å¾—key=helloç»“æœ set set hello world è®¾ç½®key=helloï¼Œvalue=hello mset\nmget mset hello world java best\nmget hello java ä¸€æ¬¡æ€§è®¾ç½®æˆ–è€…è·å–å¤šä¸ªå€¼ del del hello åˆ é™¤key=hello incr/decr incr count\ndecr count keyå€¼è‡ªå¢/è‡ªå‡1 incrby/decrby incrby count 99\ndecrby count 99 è‡ªå¢è‡ªå‡æŒ‡å®šæ­¥é•¿ Hashé”®å€¼ç±»å‹ Hashç±»å‹ç”¨äºå­˜å‚¨ç»“æ„åŒ–æ•°æ® Hashå‘½ä»¤ å‘½ä»¤ ç¤ºä¾‹ è¯´æ˜ hget hget emp:1 age è·å–hashä¸­key=ageçš„å€¼ hset hset emp:1 age 23 è®¾ç½®hashä¸­age=23 hmset\nhmget\nhgetall hmset emp:1 age 30 name kaka\nhmget emp:1 age name\nhgetall emp:1 name è®¾ç½®hashå¤šä¸ªå€¼\nè·å–hashå¤šä¸ªå€¼\nè·å–hashæ‰€æœ‰å€¼ hdel hdel emp:1 age åˆ é™¤emp:1çš„age hexists hexists emp:1 name æ£€æŸ¥æ˜¯å¦å­˜åœ¨ hlen hlen emp:1 è·å–æŒ‡å®šé•¿åº¦ Liståˆ—è¡¨ç±»å‹ Liståˆ—è¡¨å°±æ˜¯ä¸€ç³»åˆ—å­—ç¬¦ä¸²çš„â€œæ•°ç»„â€ï¼ŒæŒ‰æ’å…¥é¡ºåºæ’åº\nListåˆ—è¡¨æœ€å¤§é•¿åº¦ä¸º2çš„32æ¬¡æ–¹-1ï¼Œå¯ä»¥åŒ…å«40äº¿ä¸ªå…ƒç´ \nListå‘½ä»¤\nâ€‹\nå‘½ä»¤ ç¤ºä¾‹ è¯´æ˜ rpush rpush listkey c b a å³ä¾§æ’å…¥ lpush lpush listkey f e d å·¦ä¾§æ’å…¥ rpop rpop listkey å³ä¾§æ’å…¥ lpop lpop listkey å·¦ä¾§æ’å…¥ Setä¸Zseté›†åˆç±»å‹ Seté›†åˆæ˜¯å­—ç¬¦ä¸²çš„æ— åºé›†åˆï¼Œé›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ Zseté›†åˆæ˜¯å­—ç¬¦ä¸²çš„æœ‰åºé›†åˆï¼Œé›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ Javaå®¢æˆ·ç«¯-Jedis Jedisæ˜¯Javaè¯­è¨€å¼€å‘çš„Rediså®¢æˆ·ç«¯å·¥å…·åŒ… Jedisåªæ˜¯å¯¹Rediså‘½ä»¤çš„å°è£…ï¼ŒæŒæ¡Rediså‘½ä»¤ä¾¿å¯è½»æ˜“ä¸Šæ‰‹ ","permalink":"https://rexhub.space/posts/nosql/redis%E5%9F%BA%E7%A1%80/","summary":"Rediså…¥é—¨ Redisä»‹ç» Redisæ˜¯Key-Valueå‹NoSQLæ•°æ®åº“ Rediså°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿèƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ Rediså¸¸ç”¨äºç¼“å­˜ï¼Œåˆ©ç”¨å†…å­˜çš„é«˜æ•ˆæé«˜ç¨‹åºçš„å¤„ç†é€Ÿåº¦ Redisç‰¹ç‚¹ é€Ÿåº¦å¿« æŒä¹…åŒ– ä¸»ä»å¤åˆ¶ å¹¿æ³›çš„è¯­è¨€æ”¯æŒ å¤šç§æ•°æ®ç»“æ„ åˆ†å¸ƒå¼ä¸é«˜å¯ç”¨ Redisçš„å®‰è£…ä¸ä½¿ç”¨ åœ¨Linuxç³»ç»Ÿä¸­å®‰è£…Redis https://redis.io/download\nåœ¨windowsç³»ç»Ÿä¸­å®‰è£…Redis https://github.com/microsoftarchive/redis/releases\nRedisçš„å¸¸ç”¨åŸºæœ¬é…ç½® é…ç½®é¡¹ ç¤ºä¾‹ è¯´æ˜ daemonize daemonize yes æ˜¯å¦å¯ç”¨åå°å…è®¸ï¼Œé»˜è®¤no port port 6379 è®¾ç½®ç«¯å£å·ï¼Œé»˜è®¤6379 logfile logfile æ—¥å¿—æ–‡ä»¶ è®¾ç½®æ—¥å¿—æ–‡ä»¶ databases databases 255 è®¾ç½®redisæ•°æ®åº“æ€»é‡ dir diræ•°æ®æ–‡ä»¶ç›®å½• è®¾ç½®æ•°æ®æ–‡ä»¶å­˜å‚¨ç›®å½• requirepass requirepass 12345 è®¾ç½®ä½¿ç”¨å¯†ç  Redisé€šç”¨å‘½ä»¤ å‘½ä»¤ ç¤ºä¾‹ è¯´æ˜ select select 0 é€‰æ‹©0å·æ•°æ®åº“ set set name lily è®¾ç½®key=name,value=lily get get hello è·å¾—key=helloç»“æœ keys keys he* æ ¹æ®Patternè¡¨è¾¾å¼æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„Key dbsize dbsize è¿”å›keyçš„æ€»æ•° exists exists a æ£€æŸ¥key=aæ˜¯å¦å­˜åœ¨ del del a åˆ é™¤key=açš„æ•°æ® expire expire hello 20 è®¾ç½®key=hello 20ç§’åè¿‡æœŸ ttl ttl æŸ¥çœ‹key=açš„è¿‡æœŸå‰©ä½™æ—¶é—´ Redisæ•°æ®ç±»å‹ String - å­—ç¬¦ä¸²ç±»å‹ Hash - Hashç±»å‹ List - åˆ—è¡¨ç±»å‹ Set - é›†åˆç±»å‹ Zset - æœ‰åºé›†åˆç±»å‹ Stringå­—ç¬¦ä¸²ç±»å‹ Stringæœ€å¤§512mb å»ºè®®å•ä¸ªkvä¸è¶…è¿‡100kb","title":"RedisåŸºç¡€"},{"content":"Spring JDBCä¸äº‹åŠ¡ç®¡ç† Spring JDBC Spring JDBCæ˜¯Springæ¡†æ¶ç”¨äºå¤„ç†å…³ç³»å‹æ•°æ®åº“çš„æ¨¡å— Spring JDBCå¯¹JDBC APIè¿›è¡Œå°è£…ï¼Œæå¤§ç®€åŒ–å¼€å‘å·¥ä½œé‡ JdbcTemplateæ˜¯Spring JDBCæ ¸å¿ƒç±»ï¼Œæä¾›æ•°æ®CRUDæ–¹æ³• Spring JDBCçš„ä½¿ç”¨æ­¥éª¤ Mavenå·¥ç¨‹å¼•å…¥ä¾èµ–spring-jdbc applicationContext.xmlé…ç½®DataSourceæ•°æ®æº åœ¨Daoæ³¨å…¥JdbcTemplateå¯¹è±¡ï¼Œå®ç°æ•°æ®CRUD JdbcTemplateå®ç°å¢åˆ æ”¹æŸ¥ Spring JDBCé…ç½®è¿‡ç¨‹ä»£ç ç¤ºä¾‹ï¼š applicationContext.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xsi:schemaLocation=\u0026#34; http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\u0026#34;\u0026gt; \u0026lt;!-- æ•°æ®æº --\u0026gt; \u0026lt;bean id=\u0026#34;dataSource\u0026#34; class=\u0026#34;org.springframework.jdbc.datasource.DriverManagerDataSource\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driverClassName\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/imooc?useSSL=false\u0026amp;amp;useUnicode=true\u0026amp;amp;characterEncoding=UTF-8\u0026amp;amp;serverTimezone=Asia/Shanghai\u0026amp;amp;allowPublicKeyRetrieval=true\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!--JdbcTemplateæä¾›CRUDçš„API--\u0026gt; \u0026lt;bean id=\u0026#34;jdbcTemplate\u0026#34; class=\u0026#34;org.springframework.jdbc.core.JdbcTemplate\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;dataSource\u0026#34; ref=\u0026#34;dataSource\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;employeeDao\u0026#34; class=\u0026#34;com.imooc.spring.jdbc.dao.EmployeeDao\u0026#34;\u0026gt; \u0026lt;!--ä¸ºDaoæ³¨å…¥JdbcTemplateå¯¹è±¡--\u0026gt; \u0026lt;property name=\u0026#34;jdbcTemplate\u0026#34; ref=\u0026#34;jdbcTemplate\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; Employee.java\npackage com.imooc.spring.jdbc.entity; import java.util.Date; /** * @author Rex * @create 2021-01-05 14:44 */ public class Employee { private Integer eno; private String ename; private Float salary; private String dname; private Date hiredate; public Integer getEno() { return eno; } public void setEno(Integer eno) { this.eno = eno; } public String getEname() { return ename; } public void setEname(String ename) { this.ename = ename; } public Float getSalary() { return salary; } public void setSalary(Float salary) { this.salary = salary; } public String getDname() { return dname; } public void setDname(String dname) { this.dname = dname; } public Date getHiredate() { return hiredate; } public void setHiredate(Date hiredate) { this.hiredate = hiredate; } @Override public String toString() { return \u0026#34;Employee{\u0026#34; + \u0026#34;eno=\u0026#34; + eno + \u0026#34;, ename=\u0026#39;\u0026#34; + ename + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, salary=\u0026#34; + salary + \u0026#34;, dname=\u0026#39;\u0026#34; + dname + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, hiredate=\u0026#34; + hiredate + \u0026#39;}\u0026#39;; } } EmployeeDao.java\npackage com.imooc.spring.jdbc.dao; import com.imooc.spring.jdbc.entity.Employee; import org.springframework.jdbc.core.BeanPropertyRowMapper; import org.springframework.jdbc.core.JdbcTemplate; import org.springframework.stereotype.Repository; /** * @author Rex * @create 2021-01-05 14:46 */ @Repository public class EmployeeDao { private JdbcTemplate jdbcTemplate; public Employee findById(Integer eno){ String sql = \u0026#34;select * from employee where eno = ?\u0026#34;; Employee employee = jdbcTemplate.queryForObject(sql, new Object[]{eno}, new BeanPropertyRowMapper\u0026lt;Employee\u0026gt;(Employee.class)); return employee; } public JdbcTemplate getJdbcTemplate() { return jdbcTemplate; } public void setJdbcTemplate(JdbcTemplate jdbcTemplate) { this.jdbcTemplate = jdbcTemplate; } } SpringApplication.java\npackage com.imooc.spring.jdbc; import com.imooc.spring.jdbc.dao.EmployeeDao; import com.imooc.spring.jdbc.entity.Employee; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; /** * @author Rex * @create 2021-01-05 14:52 */ public class SpringApplication { public static void main(String[] args) { ApplicationContext context = new ClassPathXmlApplicationContext(\u0026#34;classpath:applicationContext.xml\u0026#34;); EmployeeDao employeeDao = context.getBean(\u0026#34;employeeDao\u0026#34;, EmployeeDao.class); Employee employee = employeeDao.findById(3308); System.out.println(employee); } } JDBC Templateçš„æ•°æ®æŸ¥è¯¢ä»£ç ç¤ºä¾‹ï¼š EmployeeDao.java\npublic Employee findById(Integer eno){ String sql = \u0026#34;select * from employee where eno = ?\u0026#34;; //æŸ¥è¯¢å•æ¡æ•°æ® Employee employee = jdbcTemplate.queryForObject(sql, new Object[]{eno}, new BeanPropertyRowMapper\u0026lt;Employee\u0026gt;(Employee.class)); return employee; } public List\u0026lt;Employee\u0026gt; findByDname(String dname){ String sql = \u0026#34;select * from Employee where dname = ?\u0026#34;; //æŸ¥è¯¢å¤åˆæ•°æ® List\u0026lt;Employee\u0026gt; list = jdbcTemplate.query(sql, new Object[]{dname}, new BeanPropertyRowMapper\u0026lt;Employee\u0026gt;(Employee.class)); return list; } public List\u0026lt;Map\u0026lt;String, Object\u0026gt;\u0026gt; findMapByDname(String dname){ String sql = \u0026#34;select eno as empno, salary as s from employee where dname=?\u0026#34;; //å°†æŸ¥è¯¢ç»“æœä½œä¸ºMapè¿›è¡Œå°è£… List\u0026lt;Map\u0026lt;String, Object\u0026gt;\u0026gt; maps = jdbcTemplate.queryForList(sql, new Object[]{dname}); return maps; } å•æ¡æŸ¥è¯¢æµ‹è¯•\n@Test public void testFindById(){ Employee employee = employeeDao.findById(3308); System.out.println(employee); } æŸ¥è¯¢ç»“æœï¼š\n[Employee{eno=3308, ename=\u0026#39;å¼ ä¸‰\u0026#39;, salary=6000.0, dname=\u0026#39;ç ”å‘éƒ¨\u0026#39;, hiredate=2011-05-08 00:00:00.0}, Employee{eno=3420, ename=\u0026#39;æå››\u0026#39;, salary=8700.0, dname=\u0026#39;ç ”å‘éƒ¨\u0026#39;, hiredate=2006-11-11 00:00:00.0}] å¤šæ¡è®°å½•æŸ¥è¯¢æµ‹è¯•\n@Test public void testFindByDname(){ List\u0026lt;Employee\u0026gt; list = employeeDao.findByDname(\u0026#34;ç ”å‘éƒ¨\u0026#34;); System.out.println(list); } æŸ¥è¯¢ç»“æœï¼š\nEmployee{eno=3308, ename=\u0026#39;å¼ ä¸‰\u0026#39;, salary=6000.0, dname=\u0026#39;ç ”å‘éƒ¨\u0026#39;, hiredate=2011-05-08 00:00:00.0} å°†æŸ¥è¯¢ç»“æœä»¥Mapä½œä¸ºå°è£…æµ‹è¯•\n@Test public void testFindMapByDname(){ System.out.println(employeeDao.findMapByDname(\u0026#34;ç ”å‘éƒ¨\u0026#34;)); } æŸ¥è¯¢ç»“æœï¼š\n[{empno=3308, s=6000.0}, {empno=3420, s=8700.0}] JdbcTemplateæ•°æ®å†™å…¥ä»£ç ç¤ºä¾‹ æ•°æ®æ–°å¢ï¼š\npublic int insert(Employee employee){ String sql = \u0026#34;insert into employee(eno, ename, salary, dname, hiredate) values(?, ?, ?, ?, ?)\u0026#34;; //åˆ©ç”¨updateæ–¹æ³•å®ç°æ•°æ®å†™å…¥æ“ä½œ return jdbcTemplate.update(sql, new Object[]{employee.getEno(), employee.getEname(), employee.getSalary(), employee.getDname(), employee.getHiredate()}); } æµ‹è¯•ä»£ç ï¼š\n@Test public void testInsert(){ Employee employee = new Employee(); employee.setEno(8888); employee.setEname(\u0026#34;èµµå…­\u0026#34;); employee.setSalary(6666f); employee.setDname(\u0026#34;ç ”å‘éƒ¨\u0026#34;); employee.setHiredate(new Date()); int count = employeeDao.insert(employee); System.out.println(\u0026#34;æœ¬æ¬¡æ–°å¢\u0026#34;+count+\u0026#34;æ¡æ•°æ®\u0026#34;); } æµ‹è¯•ç»“æœï¼š\næœ¬æ¬¡æ’å…¥1æ¡æ•°æ® æ•°æ®ä¿®æ”¹ï¼š\npublic int update(Employee employee){ String sql = \u0026#34;update employee set ename = ?, salary = ?, dname = ?, hiredate = ? where eno = ?\u0026#34;; int count = jdbcTemplate.update(sql, new Object[]{employee.getEname(), employee.getSalary(), employee.getDname(), employee.getHiredate(), employee.getEno()}); return count; } æµ‹è¯•ä»£ç ï¼š\n@Test public void testUpdate(){ Employee employee = employeeDao.findById(8888); employee.setSalary(employee.getSalary()+1000f); int count = employeeDao.update(employee); System.out.println(\u0026#34;æœ¬æ¬¡æ›´æ–°\u0026#34;+count+\u0026#34;æ¡æ•°æ®\u0026#34;); } æµ‹è¯•ç»“æœï¼š\næœ¬æ¬¡æ›´æ–°1æ¡æ•°æ® æ•°æ®åˆ é™¤ï¼š\npublic int delete(Integer eno){ String sql = \u0026#34;delete from employee where eno = ?\u0026#34;; return jdbcTemplate.update(sql, new Object[]{eno}); } æµ‹è¯•ä»£ç ï¼š\n@Test public void testDelete(){ int count = employeeDao.delete(8888); System.out.println(\u0026#34;æœ¬æ¬¡åˆ é™¤\u0026#34;+count+\u0026#34;æ¡æ•°æ®\u0026#34;); } æµ‹è¯•ç»“æœï¼š\næœ¬æ¬¡åˆ é™¤1æ¡æ•°æ® Springç¼–ç¨‹å¼äº‹åŠ¡ ä»€ä¹ˆæ˜¯äº‹åŠ¡ äº‹åŠ¡ä»¥ä¸€ç§å¯é çš„ã€ä¸€è‡´çš„æ–¹å¼ï¼Œè®¿é—®å’Œé€ ä½œæ•°æ®åº“çš„ç¨‹åºå•å…ƒ è¯´äººè¯ï¼šè¦ä¹ˆæŠŠäº‹æƒ…åšå®Œï¼Œè¦ä¹ˆä»€ä¹ˆéƒ½ä¸åšï¼Œä¸è¦åšä¸€åŠ äº‹åŠ¡ä¾èµ–äºæ•°æ®åº“å®ç°ï¼ŒMySQLé€šè¿‡äº‹åŠ¡åŒºä½œä¸ºæ•°æ®ç¼“å†²åœ°å¸¦ ç¼–ç¨‹å¼äº‹åŠ¡ ç¼–ç¨‹å¼äº‹åŠ¡æ˜¯æŒ‡é€šè¿‡ä»£ç æ‰‹åŠ¨æäº¤å›æ»šäº‹åŠ¡çš„äº‹åŠ¡æ§åˆ¶æ–¹æ³• SpringJDBCé€šè¿‡TransactionManageäº‹åŠ¡ç®¡ç†å™¨å®ç°äº‹åŠ¡æ§åˆ¶ äº‹åŠ¡ç®¡ç†å™¨æä¾›commit/rollbackæ–¹æ³•è¿›è¡Œäº‹åŠ¡æäº¤ä¸å›æ»š ä»£ç ç¤ºä¾‹ï¼š ApplicationContext.xml\n\u0026lt;bean id=\u0026#34;employeeService\u0026#34; class=\u0026#34;com.imooc.spring.jdbc.service.EmployeeService\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;employeeDao\u0026#34; ref=\u0026#34;employeeDao\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;transactionManager\u0026#34; ref=\u0026#34;transactionManager\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!--äº‹åŠ¡ç®¡ç†å™¨--\u0026gt; \u0026lt;bean id=\u0026#34;transactionManager\u0026#34; class=\u0026#34;org.springframework.jdbc.datasource.DataSourceTransactionManager\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;dataSource\u0026#34; ref=\u0026#34;dataSource\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; EmployeeService.java\npackage com.imooc.spring.jdbc.service; import com.imooc.spring.jdbc.dao.EmployeeDao; import com.imooc.spring.jdbc.entity.Employee; import org.springframework.jdbc.datasource.DataSourceTransactionManager; import org.springframework.transaction.TransactionDefinition; import org.springframework.transaction.TransactionStatus; import org.springframework.transaction.support.DefaultTransactionDefinition; import java.util.Date; /** * @author Rex * @create 2021-01-05 16:31 */ public class EmployeeService { private EmployeeDao employeeDao; private DataSourceTransactionManager transactionManager; public void batchImport(){ //å®šä¹‰äº†äº‹åŠ¡é»˜è®¤çš„æ ‡å‡†é…ç½® TransactionDefinition definition = new DefaultTransactionDefinition(); //å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ TransactionStatus status = transactionManager.getTransaction(definition); try { for (int i = 0; i \u0026lt; 10; i++) { if ( i == 3) { throw new RuntimeException(\u0026#34;æ„æ–™ä¹‹å¤–çš„å¼‚å¸¸\u0026#34;); } Employee employee = new Employee(); employee.setEno(8000 + i); employee.setEname(\u0026#34;å‘˜å·¥\u0026#34; + i); employee.setSalary(4000f); employee.setDname(\u0026#34;å¸‚åœºéƒ¨\u0026#34;); employee.setHiredate(new Date()); employeeDao.insert(employee); } // //æäº¤äº‹åŠ¡ transactionManager.commit(status); }catch (RuntimeException e){ transactionManager.rollback(status); throw e; } } public EmployeeDao getEmployeeDao() { return employeeDao; } public void setEmployeeDao(EmployeeDao employeeDao) { this.employeeDao = employeeDao; } public DataSourceTransactionManager getTransactionManager() { return transactionManager; } public void setTransactionManager(DataSourceTransactionManager transactionManager) { this.transactionManager = transactionManager; } } JdbcTemplateTestor.java\n@Test public void testBatchImport(){ employeeService.batchImport(); System.out.println(\u0026#34;æ‰¹é‡å¯¼å…¥æˆåŠŸ\u0026#34;); } æµ‹è¯•ç»“æœï¼š\n... 16:55:40.411 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL statement [insert into employee(eno, ename, salary, dname, hiredate) values(?, ?, ?, ?, ?)] 16:55:40.490 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state \u0026#39;22007\u0026#39;, error code \u0026#39;1292\u0026#39;, message [Incorrect date value: \u0026#39;2021-01-05 16:55:40.405\u0026#39; for column \u0026#39;hiredate\u0026#39; at row 1] 16:55:40.498 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL update 16:55:40.498 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL statement [insert into employee(eno, ename, salary, dname, hiredate) values(?, ?, ?, ?, ?)] 16:55:40.502 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state \u0026#39;22007\u0026#39;, error code \u0026#39;1292\u0026#39;, message [Incorrect date value: \u0026#39;2021-01-05 16:55:40.498\u0026#39; for column \u0026#39;hiredate\u0026#39; at row 1] 16:55:40.502 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL update 16:55:40.503 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL statement [insert into employee(eno, ename, salary, dname, hiredate) values(?, ?, ?, ?, ?)] 16:55:40.507 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - SQLWarning ignored: SQL state \u0026#39;22007\u0026#39;, error code \u0026#39;1292\u0026#39;, message [Incorrect date value: \u0026#39;2021-01-05 16:55:40.502\u0026#39; for column \u0026#39;hiredate\u0026#39; at row 1] 16:55:40.507 [main] DEBUG org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback 16:55:40.507 [main] DEBUG org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@3646a422] 16:55:40.521 [main] DEBUG ... java.lang.RuntimeException: æ„æ–™ä¹‹å¤–çš„å¼‚å¸¸... Springå£°æ˜å¼äº‹åŠ¡ å£°æ˜å¼äº‹åŠ¡ å£°æ˜å¼äº‹åŠ¡æŒ‡åœ¨ä¸ä¿®æ”¹æºç æƒ…å†µä¸‹é€šè¿‡é…ç½®å½¢å¼è‡ªåŠ¨å®ç°äº‹åŠ¡æ§åˆ¶ï¼Œå£°æ˜å¼äº‹åŠ¡æœ¬è´¨å°±æ˜¯AOPç¯ç»•é€šçŸ¥ å½“ç›®æ ‡æ–¹æ³•æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œè‡ªåŠ¨æäº¤äº‹åŠ¡ å½“ç›®æ ‡æ–¹æ³•æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸æ—¶ï¼Œè‡ªåŠ¨äº‹åŠ¡å›æ»š é…ç½®è¿‡ç¨‹ é…ç½®TransactionManageräº‹åŠ¡ç®¡ç†å™¨ é…ç½®äº‹åŠ¡é€šçŸ¥ä¸äº‹åŠ¡å±æ€§ ä¸ºäº‹åŠ¡é€šçŸ¥ç»‘å®šPointCutåˆ‡ç‚¹ ä»£ç ç¤ºä¾‹ï¼š applicationContext.xml\n\u0026lt;!--1.äº‹åŠ¡ç®¡ç†å™¨ï¼Œç”¨äºåˆ›å»ºäº‹åŠ¡/æäº¤/å›æ»š--\u0026gt; \u0026lt;bean id=\u0026#34;transactionManager\u0026#34; class=\u0026#34;org.springframework.jdbc.datasource.DataSourceTransactionManager\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;dataSource\u0026#34; ref=\u0026#34;dataSource\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!--2.äº‹åŠ¡é€šçŸ¥é…ç½®ï¼Œå†³å®šå“ªäº›æ–¹æ³•ä½¿ç”¨äº‹åŠ¡ï¼Œå“ªäº›æ–¹æ³•ä¸ä½¿ç”¨äº‹åŠ¡--\u0026gt; \u0026lt;tx:advice id=\u0026#34;txAdvice\u0026#34; transaction-manager=\u0026#34;transactionManager\u0026#34;\u0026gt; \u0026lt;tx:attributes\u0026gt; \u0026lt;!--ç›®æ ‡æ–¹æ³•åä¸ºbatchImportæ—¶ï¼Œå¯ç”¨å£°æ˜å¼äº‹åŠ¡ï¼ŒæˆåŠŸæäº¤ï¼Œè¿è¡Œæ—¶å¼‚å¸¸å›æ»š--\u0026gt; \u0026lt;tx:method name=\u0026#34;batchImport\u0026#34; propagation=\u0026#34;REQUIRED\u0026#34;/\u0026gt; \u0026lt;tx:method name=\u0026#34;batch*\u0026#34; propagation=\u0026#34;REQUIRED\u0026#34;\u0026gt;\u0026lt;/tx:method\u0026gt; \u0026lt;!--è®¾ç½®æ‰€æœ‰findXXXæ–¹æ³•ä¸éœ€è¦ä½¿ç”¨äº‹åŠ¡--\u0026gt; \u0026lt;tx:method name=\u0026#34;find*\u0026#34; propagation=\u0026#34;NOT_SUPPORTED\u0026#34; read-only=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;tx:method name=\u0026#34;get*\u0026#34; propagation=\u0026#34;NOT_SUPPORTED\u0026#34; read-only=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;tx:method name=\u0026#34;*\u0026#34; propagation=\u0026#34;REQUIRED\u0026#34;/\u0026gt; \u0026lt;/tx:attributes\u0026gt; \u0026lt;/tx:advice\u0026gt; \u0026lt;!--3.å®šä¹‰å£°æ˜å¼äº‹åŠ¡çš„ä½œç”¨èŒƒå›´--\u0026gt; \u0026lt;aop:config\u0026gt; \u0026lt;aop:pointcut id=\u0026#34;pointcut\u0026#34; expression=\u0026#34;execution(public * com.imooc..*Service.*(..))\u0026#34;/\u0026gt; \u0026lt;aop:advisor advice-ref=\u0026#34;txAdvice\u0026#34; pointcut-ref=\u0026#34;pointcut\u0026#34;\u0026gt;\u0026lt;/aop:advisor\u0026gt; \u0026lt;/aop:config\u0026gt; EmployeeService.java\npackage com.imooc.spring.jdbc.service; import com.imooc.spring.jdbc.dao.EmployeeDao; import com.imooc.spring.jdbc.entity.Employee; import java.util.Date; public class EmployeeService { private EmployeeDao employeeDao; public void batchImport() { for (int i = 1; i \u0026lt;= 10; i++) { if(i == 3){ throw new RuntimeException(\u0026#34;æ„æ–™ä¹‹å¤–çš„å¼‚å¸¸\u0026#34;); } Employee employee = new Employee(); employee.setEno(8000 + i); employee.setEname(\u0026#34;å‘˜å·¥\u0026#34; + i); employee.setSalary(4000f); employee.setDname(\u0026#34;å¸‚åœºéƒ¨\u0026#34;); employee.setHiredate(new Date()); employeeDao.insert(employee); } } public EmployeeDao getEmployeeDao() { return employeeDao; } public void setEmployeeDao(EmployeeDao employeeDao) { this.employeeDao = employeeDao; } } æ‰§è¡Œç»“æœï¼š åŒä¸Š\näº‹åŠ¡ä¼ æ’­è¡Œä¸º äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ˜¯æŒ‡å¤šä¸ªæ‹¥æœ‰äº‹åŠ¡çš„æ–¹æ³•åœ¨åµŒå¥—è°ƒç”¨æ—¶çš„äº‹åŠ¡æ§åˆ¶æ–¹å¼ XMLï¼š\u0026lt;tx:method name=\u0026quot;\u0026hellip;\u0026quot; propagation=\u0026ldquo;REQUIRED\u0026rdquo;\u0026gt; æ³¨è§£ï¼š@Transactional(propagation=Propagation.REQUIRED) äº‹åŠ¡ä¼ æ’­è¡Œä¸ºä¸ƒç§ç±»å‹ äº‹åŠ¡ä¼ æ’­ç±»å‹ è¯´æ˜ PROPAGATION_REQUIRED å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ã€‚è¿™æ˜¯æœ€å¸¸è§çš„é€‰æ‹© PROPAGATION_SUPPORTS æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œ PROPAGATION_MANADATORY ä½¿ç”¨å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ PROPAGATION_REQUIRES_NEW æ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ· PROPAGATION_NOT_SUPPORT ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ· PROPAGATION_NEVER ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ PROPAGATION_NESTED å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸PROPAGATION_REQUIREDç±»ä¼¼çš„æ“ä½œ Springæ³¨è§£é…ç½®å£°æ˜å¼äº‹åŠ¡ ä»£ç ç¤ºä¾‹ applicationContext.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xmlns:tx=\u0026#34;http://www.springframework.org/schema/tx\u0026#34; xmlns:aop=\u0026#34;http://www.springframework.org/schema/aop\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx https://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd\u0026#34;\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.imooc\u0026#34;/\u0026gt; \u0026lt;!--æ•°æ®æº--\u0026gt; \u0026lt;bean id=\u0026#34;dataSource\u0026#34; class=\u0026#34;org.springframework.jdbc.datasource.DriverManagerDataSource\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driverClassName\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/imooc?useSSL=false\u0026amp;amp;useUnicode=true\u0026amp;amp;characterEncoding=utf-8\u0026amp;amp;serverTimezone=Asia/Shanghai\u0026amp;amp;usePublicKeyRetrieval=true\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!--JdbcTemplate--\u0026gt; \u0026lt;bean id=\u0026#34;jdbcTemplate\u0026#34; class=\u0026#34;org.springframework.jdbc.core.JdbcTemplate\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;dataSource\u0026#34; ref=\u0026#34;dataSource\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!--äº‹åŠ¡ç®¡ç†å™¨--\u0026gt; \u0026lt;bean id=\u0026#34;transactionManager\u0026#34; class=\u0026#34;org.springframework.jdbc.datasource.DataSourceTransactionManager\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;dataSource\u0026#34; ref=\u0026#34;dataSource\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!--å¯ç”¨æ³¨è§£å½¢å¼å£°æ˜å¼äº‹åŠ¡--\u0026gt; \u0026lt;tx:annotation-driven transaction-manager=\u0026#34;transactionManager\u0026#34;/\u0026gt; \u0026lt;/beans\u0026gt; Employee.java\npackage com.imooc.spring.jdbc.entity; import java.util.Date; public class Employee { private Integer eno; private String ename; private Float salary; private String dname; private Date hiredate; public Integer getEno() { return eno; } public void setEno(Integer eno) { this.eno = eno; } public String getEname() { return ename; } public void setEname(String ename) { this.ename = ename; } public Float getSalary() { return salary; } public void setSalary(Float salary) { this.salary = salary; } public String getDname() { return dname; } public void setDname(String dname) { this.dname = dname; } public Date getHiredate() { return hiredate; } public void setHiredate(Date hiredate) { this.hiredate = hiredate; } @Override public String toString() { return \u0026#34;Employee{\u0026#34; + \u0026#34;eno=\u0026#34; + eno + \u0026#34;, ename=\u0026#39;\u0026#34; + ename + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, salary=\u0026#34; + salary + \u0026#34;, dname=\u0026#39;\u0026#34; + dname + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, hiredate=\u0026#34; + hiredate + \u0026#39;}\u0026#39;; } } EmployeeDao.java\npackage com.imooc.spring.jdbc.dao; import com.imooc.spring.jdbc.entity.Employee; import org.springframework.jdbc.core.BeanPropertyRowMapper; import org.springframework.jdbc.core.JdbcTemplate; import org.springframework.stereotype.Repository; import javax.annotation.Resource; import java.util.List; import java.util.Map; @Repository public class EmployeeDao { @Resource private JdbcTemplate jdbcTemplate; public Employee findById(Integer eno){ String sql = \u0026#34;select * from employee where eno = ?\u0026#34;; //æŸ¥è¯¢å•æ¡æ•°æ® Employee employee = jdbcTemplate.queryForObject(sql, new Object[]{eno}, new BeanPropertyRowMapper\u0026lt;Employee\u0026gt;(Employee.class)); return employee; } public List\u0026lt;Employee\u0026gt; findByDname(String dname){ String sql = \u0026#34;select * from employee where dname = ?\u0026#34;; //æŸ¥è¯¢å¤åˆæ•°æ® List\u0026lt;Employee\u0026gt; list = jdbcTemplate.query(sql, new Object[]{dname}, new BeanPropertyRowMapper\u0026lt;Employee\u0026gt;(Employee.class)); return list; } public List\u0026lt;Map\u0026lt;String, Object\u0026gt;\u0026gt; findMapByDname(String dname){ String sql = \u0026#34;select eno as empno , salary as s from employee where dname = ?\u0026#34;; //å°†æŸ¥è¯¢ç»“æœä½œä¸ºMapè¿›è¡Œå°è£… List\u0026lt;Map\u0026lt;String, Object\u0026gt;\u0026gt; maps = jdbcTemplate.queryForList(sql, new Object[]{dname}); return maps; } public void insert(Employee employee){ String sql = \u0026#34;insert into employee(eno,ename,salary,dname,hiredate) values(?,?,?,?,?)\u0026#34;; //åˆ©ç”¨updateæ–¹æ³•å®ç°æ•°æ®å†™å…¥æ“ä½œ jdbcTemplate.update(sql,new Object[]{ employee.getEno() , employee.getEname(),employee.getSalary(),employee.getDname() , employee.getHiredate() }); } public int update(Employee employee){ String sql = \u0026#34;UPDATE employee SET ename = ?, salary = ?, dname = ?, hiredate = ? WHERE eno = ?\u0026#34;; int count = jdbcTemplate.update(sql, new Object[]{employee.getEname(), employee.getSalary(), employee.getDname(), employee.getHiredate(), employee.getEno()}); return count; } public int delete(Integer eno){ String sql = \u0026#34;delete from employee where eno = ?\u0026#34;; return jdbcTemplate.update(sql, new Object[]{eno}); } public JdbcTemplate getJdbcTemplate() { return jdbcTemplate; } public void setJdbcTemplate(JdbcTemplate jdbcTemplate) { this.jdbcTemplate = jdbcTemplate; } } BatchService.java\npackage com.imooc.spring.jdbc.service; import com.imooc.spring.jdbc.dao.EmployeeDao; import com.imooc.spring.jdbc.entity.Employee; import org.springframework.stereotype.Service; import org.springframework.transaction.annotation.Propagation; import org.springframework.transaction.annotation.Transactional; import javax.annotation.Resource; import java.util.Date; @Service @Transactional(propagation = Propagation.NOT_SUPPORTED, readOnly = true) public class BatchService { @Resource private EmployeeDao employeeDao; @Transactional(propagation = Propagation.REQUIRES_NEW) public void importJob1(){ for (int i = 1; i \u0026lt;= 10; i++) { Employee employee = new Employee(); employee.setEno(8000 + i); employee.setEname(\u0026#34;ç ”å‘éƒ¨å‘˜å·¥\u0026#34; + i); employee.setSalary(4000f); employee.setDname(\u0026#34;ç ”å‘éƒ¨\u0026#34;); employee.setHiredate(new Date()); employeeDao.insert(employee); } } @Transactional(propagation = Propagation.REQUIRES_NEW) public void importJob2(){ for (int i = 1; i \u0026lt;= 10; i++) { Employee employee = new Employee(); employee.setEno(9000 + i); employee.setEname(\u0026#34;å¸‚åœºéƒ¨å‘˜å·¥\u0026#34; + i); employee.setSalary(4500f); employee.setDname(\u0026#34;å¸‚åœºéƒ¨\u0026#34;); employee.setHiredate(new Date()); employeeDao.insert(employee); } } public EmployeeDao getEmployeeDao() { return employeeDao; } public void setEmployeeDao(EmployeeDao employeeDao) { this.employeeDao = employeeDao; } } EmployeeService.java\npackage com.imooc.spring.jdbc.service; import com.imooc.spring.jdbc.dao.EmployeeDao; import com.imooc.spring.jdbc.entity.Employee; import org.springframework.stereotype.Repository; import org.springframework.stereotype.Service; import org.springframework.transaction.annotation.Propagation; import org.springframework.transaction.annotation.Transactional; import javax.annotation.Resource; import java.util.Date; @Service //å£°æ˜å¼äº‹åŠ¡æ ¸å¿ƒæ³¨è§£ //æ”¾åœ¨ç±»ä¸Šï¼Œå°†å£°æ˜å¼äº‹åŠ¡é…ç½®åº”ç”¨äºå½“å‰ç±»æ‰€æœ‰æ–¹æ³•ï¼Œé»˜è®¤äº‹åŠ¡ä¼ æ’­ä¸ºREQUIRED @Transactional public class EmployeeService { @Resource private EmployeeDao employeeDao; @Resource private BatchService batchService; @Transactional(propagation = Propagation.NOT_SUPPORTED, readOnly = true) public Employee findById(Integer eno){ return employeeDao.findById(eno); } public void batchImport() { for (int i = 1; i \u0026lt;= 10; i++) { /*if(i==3){ throw new RuntimeException(\u0026#34;æ„æ–™ä¹‹å¤–çš„å¼‚å¸¸\u0026#34;); }*/ Employee employee = new Employee(); employee.setEno(8000 + i); employee.setEname(\u0026#34;å‘˜å·¥\u0026#34; + i); employee.setSalary(4000f); employee.setDname(\u0026#34;å¸‚åœºéƒ¨\u0026#34;); employee.setHiredate(new Date()); employeeDao.insert(employee); } } public void startImportJob(){ batchService.importJob1(); if(1==1){ throw new RuntimeException(\u0026#34;æ„æ–™ä¹‹å¤–çš„å¼‚å¸¸\u0026#34;); } batchService.importJob2(); System.out.println(\u0026#34;æ‰¹é‡å¯¼å…¥æˆåŠŸ\u0026#34;); } public EmployeeDao getEmployeeDao() { return employeeDao; } public void setEmployeeDao(EmployeeDao employeeDao) { this.employeeDao = employeeDao; } public BatchService getBatchService() { return batchService; } public void setBatchService(BatchService batchService) { this.batchService = batchService; } } ","permalink":"https://rexhub.space/posts/back/java/framework/spring/springjdbc/","summary":"Spring JDBCä¸äº‹åŠ¡ç®¡ç† Spring JDBC Spring JDBCæ˜¯Springæ¡†æ¶ç”¨äºå¤„ç†å…³ç³»å‹æ•°æ®åº“çš„æ¨¡å— Spring JDBCå¯¹JDBC APIè¿›è¡Œå°è£…ï¼Œæå¤§ç®€åŒ–å¼€å‘å·¥ä½œé‡ JdbcTemplateæ˜¯Spring JDBCæ ¸å¿ƒç±»ï¼Œæä¾›æ•°æ®CRUDæ–¹æ³• Spring JDBCçš„ä½¿ç”¨æ­¥éª¤ Mavenå·¥ç¨‹å¼•å…¥ä¾èµ–spring-jdbc applicationContext.xmlé…ç½®DataSourceæ•°æ®æº åœ¨Daoæ³¨å…¥JdbcTemplateå¯¹è±¡ï¼Œå®ç°æ•°æ®CRUD JdbcTemplateå®ç°å¢åˆ æ”¹æŸ¥ Spring JDBCé…ç½®è¿‡ç¨‹ä»£ç ç¤ºä¾‹ï¼š applicationContext.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xsi:schemaLocation=\u0026#34; http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\u0026#34;\u0026gt; \u0026lt;!-- æ•°æ®æº --\u0026gt; \u0026lt;bean id=\u0026#34;dataSource\u0026#34; class=\u0026#34;org.springframework.jdbc.datasource.DriverManagerDataSource\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driverClassName\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/imooc?useSSL=false\u0026amp;amp;useUnicode=true\u0026amp;amp;characterEncoding=UTF-8\u0026amp;amp;serverTimezone=Asia/Shanghai\u0026amp;amp;allowPublicKeyRetrieval=true\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!--JdbcTemplateæä¾›CRUDçš„API--\u0026gt; \u0026lt;bean id=\u0026#34;jdbcTemplate\u0026#34; class=\u0026#34;org.springframework.jdbc.core.JdbcTemplate\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;dataSource\u0026#34; ref=\u0026#34;dataSource\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;employeeDao\u0026#34; class=\u0026#34;com.imooc.spring.jdbc.dao.EmployeeDao\u0026#34;\u0026gt; \u0026lt;!--ä¸ºDaoæ³¨å…¥JdbcTemplateå¯¹è±¡--\u0026gt; \u0026lt;property name=\u0026#34;jdbcTemplate\u0026#34; ref=\u0026#34;jdbcTemplate\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; Employee.java\npackage com.","title":"Springjdbc"},{"content":"Spring æ¡†æ¶æ¦‚è¿° 1ã€Spring æ˜¯è½»é‡çº§çš„å¼€æºçš„JavaEEæ¡†æ¶ 2ã€Spring è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§ 3ã€Springæœ‰ä¸¤ä¸ªæ ¸å¿ƒçš„éƒ¨åˆ†ï¼šIOCå’ŒAOP ï¼ˆ1ï¼‰IOCï¼šæ§åˆ¶åè½¬ï¼ŒæŠŠåˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹äº¤ç»™Springè¿›è¡Œç®¡ç† ï¼ˆ2ï¼‰AOPï¼šé¢å‘åˆ‡é¢ï¼Œä¸ä¿®æ”¹æºä»£ç è¿›è¡ŒåŠŸèƒ½å¢å¼º 4ã€Springç‰¹ç‚¹ ï¼ˆ1ï¼‰æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ ï¼ˆ2ï¼‰AOPç¼–ç¨‹æ”¯æŒ ï¼ˆ3ï¼‰æ–¹ä¾¿ç¨‹åºæµ‹è¯• ï¼ˆ4ï¼‰æ–¹ä¾¿å’Œå…¶ä»–æ¡†æ¶è¿›è¡Œæ•´åˆ ï¼ˆ5ï¼‰æ–¹ä¾¿è¿›è¡Œäº‹åŠ¡æ“ä½œ ï¼ˆ6ï¼‰é™ä½APIçš„å¼€å‘éš¾åº¦ Core Container Beans Core Context Expression ","permalink":"https://rexhub.space/posts/back/java/framework/spring/spring%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0/","summary":"Spring æ¡†æ¶æ¦‚è¿° 1ã€Spring æ˜¯è½»é‡çº§çš„å¼€æºçš„JavaEEæ¡†æ¶ 2ã€Spring è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§ 3ã€Springæœ‰ä¸¤ä¸ªæ ¸å¿ƒçš„éƒ¨åˆ†ï¼šIOCå’ŒAOP ï¼ˆ1ï¼‰IOCï¼šæ§åˆ¶åè½¬ï¼ŒæŠŠåˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹äº¤ç»™Springè¿›è¡Œç®¡ç† ï¼ˆ2ï¼‰AOPï¼šé¢å‘åˆ‡é¢ï¼Œä¸ä¿®æ”¹æºä»£ç è¿›è¡ŒåŠŸèƒ½å¢å¼º 4ã€Springç‰¹ç‚¹ ï¼ˆ1ï¼‰æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ ï¼ˆ2ï¼‰AOPç¼–ç¨‹æ”¯æŒ ï¼ˆ3ï¼‰æ–¹ä¾¿ç¨‹åºæµ‹è¯• ï¼ˆ4ï¼‰æ–¹ä¾¿å’Œå…¶ä»–æ¡†æ¶è¿›è¡Œæ•´åˆ ï¼ˆ5ï¼‰æ–¹ä¾¿è¿›è¡Œäº‹åŠ¡æ“ä½œ ï¼ˆ6ï¼‰é™ä½APIçš„å¼€å‘éš¾åº¦ Core Container Beans Core Context Expression ","title":"Springæ¡†æ¶æ¦‚è¿°"},{"content":"Spring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹ Spring AOP Spring AOP - Aspect Oriented Programming é¢å‘åˆ‡é¢ç¼–ç¨‹ AOPçš„åšæ³•æ˜¯å°†é€šç”¨ã€äºä¸šåŠ¡æ— å…³çš„åŠŸèƒ½æŠ½è±¡å°è£…ä¸ºåˆ‡é¢ç±» åˆ‡é¢å¯é…ç½®åœ¨ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œå‰ã€åè¿è¡Œï¼ŒçœŸæ­£åšåˆ°å³æ’å³ç”¨ Spring AOP ç”¨åˆ°çš„ä¾èµ–dependencyï¼š\n\u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-context\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.3.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.aspectj\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aspectjweaver\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.9.6\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; applicationContext.xmlä¸­schemaä¾èµ–\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:aop=\u0026#34;http://www.springframework.org/schema/aop\u0026#34; xsi:schemaLocation=\u0026#34; http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd\u0026#34;\u0026gt; \u0026lt;!-- bean definitions here --\u0026gt; \u0026lt;/beans\u0026gt; Spring AOPæ¦‚å¿µ Spring AOPä¸AspectJçš„å…³ç³» Eclipse AspectJï¼Œä¸€ç§åŸºäºJavaå¹³å°çš„é¢å‘åˆ‡é¢ç¼–ç¨‹çš„è¯­è¨€ Spring AOPä½¿ç”¨AspectJWeaverå®ç°ç±»ä¸æ–¹æ³•çš„åŒ¹é… Spring AOPåˆ©ç”¨ä»£ç†æ¨¡å¼å®ç°å¯¹è±¡è¿è¡Œæ—¶åŠŸèƒ½æ‰©å±• å‡ ä¸ªå…³é”®æ¦‚å¿µ æ³¨è§£ è¯´æ˜ Aspect åˆ‡é¢ï¼Œå…·ä½“çš„å¯æ’æ‹”ç»„ä»¶åŠŸèƒ½ç±»ï¼Œé€šå¸¸ä¸€ä¸ªåˆ‡é¢åªå®ç°ä¸€ä¸ªé€šç”¨åŠŸèƒ½ Target Class/Method ç›®æ ‡ç±»ã€ç›®æ ‡æ–¹æ³•ï¼ŒæŒ‡çœŸæ­£è¦æ‰§è¡Œä¸ä¸šåŠ¡ç›¸å…³çš„æ–¹æ³• PointCut åˆ‡å…¥ç‚¹ï¼Œä½¿ç”¨executionè¡¨è¾¾å¼è¯´æ˜åˆ‡é¢è¦ä½œç”¨åœ¨ç³»ç»Ÿçš„å“ªäº›ç±»ä¸Š JoinPoint è¿æ¥ç‚¹ï¼Œåˆ‡é¢è¿è¡Œè¿‡ç¨‹ä¸­æ—¶åŒ…æ‹¬äº†ç›®æ ‡ç±»/æ–¹æ³•å…ƒæ•°æ®çš„å¯¹è±¡ Advice é€šçŸ¥ï¼Œè¯´æ˜å…·ä½“çš„åˆ‡é¢çš„æ‰§è¡Œæ—¶æœºï¼ŒSpringåŒ…å«äº†äº”ç§ä¸åŒç±»å‹é€šçŸ¥ AOPé…ç½®è¿‡ç¨‹ ä¾èµ–AspectJ å®ç°åˆ‡é¢ç±»/æ–¹æ³• é…ç½®Aspect Bean å®šä¹‰PointCut é…ç½®Advice JoinPointæ ¸å¿ƒæ–¹æ³• æ³¨è§£ è¯´æ˜ Object getTarget() è·å–IoCå®¹å™¨å†…ç›®æ ‡å¯¹è±¡ Signature getSignature() è·å–ç›®æ ‡æ–¹æ³• Object[] getArgs() è·å–ç›®æ ‡æ–¹æ³•å‚æ•° PointCutåˆ‡ç‚¹è¡¨è¾¾å¼ é€šçŸ¥ äº”ç§é€šçŸ¥ç±»å‹ æ³¨è§£ è¯´æ˜ Before Advice å‰ç½®é€šçŸ¥ï¼Œç›®æ ‡æ–¹æ³•è¿è¡Œå‰æ‰§è¡Œ After Returning Advice è¿”å›åé€šçŸ¥ï¼Œç›®æ ‡æ–¹æ³•è¿”å›æ•°æ®åæ‰§è¡Œ After Throwing Advice å¼‚å¸¸é€šçŸ¥ï¼Œç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ After Advice åç½®é€šçŸ¥ï¼Œç›®æ ‡æ–¹æ³•è¿è¡Œ Around Advice æœ€å¼ºå¤§é€šçŸ¥ï¼Œè‡ªå®šä¹‰é€šçŸ¥æ‰§è¡Œæ—¶æœºï¼Œå¯å†³å®šç›®æ ‡æ–¹æ³•æ˜¯å¦è¿è¡Œ ç‰¹æ®Šçš„â€œé€šçŸ¥â€-å¼•ä»‹å¢å¼º å¼•ä»‹å¢å¼º(Introduction Interceptor)æ˜¯å¯¹ç±»çš„å¢å¼ºï¼Œè€Œéæ–¹æ³• å¼•ä»‹å¢å¼ºå…è®¸åœ¨è¿è¡Œæ—¶ä¸ºç›®æ ‡ç±»å¢åŠ æ–°å±æ€§æˆ–æ–¹æ³• å¼•ä»‹å¢å¼ºå…è®¸åœ¨è¿è¡Œæ—¶æ”¹å˜ç±»çš„è¡Œä¸ºï¼Œè®©ç±»éšè¿è¡Œç¯å¢ƒåŠ¨æ€å˜æ›´ Spring AOPå®ç°åŸç† SpringåŸºäºä»£ç†æ¨¡å¼å®ç°åŠŸèƒ½åŠ¨æ€æ‰©å±•ï¼ŒåŒ…å«ä¿©ç§å½¢å¼ ç›®æ ‡ç±»æ‹¥æœ‰æ¥å£ï¼Œé€šè¿‡JDKåŠ¨æ€ä»£ç†å®ç°åŠŸèƒ½æ‰©å±• ç›®æ ‡ç±»æ²¡æœ‰æ¥å£ï¼Œé€šè¿‡CGLibç»„ä»¶å®ç°åŠŸèƒ½æ‰©å±• ä»£ç†æ¨¡å¼ï¼š ä»£ç†æ¨¡å¼é€šè¿‡ä»£ç†å¯¹è±¡å¯¹åŸå¯¹è±¡çš„å®ç°åŠŸèƒ½æ‰©å±• é™æ€ä»£ç†ç¤ºä¾‹ï¼š UserService.java\npackage com.imooc.spring.aop.service; /** * @author Rex * @create 2021-01-05 11:47 */ public interface UserService { public void createUser(); } UserService.java\npackage com.imooc.spring.aop.service; /** * @author Rex * @create 2021-01-05 11:47 */ public class UserServiceImpl implements UserService{ @Override public void createUser() { System.out.println(\u0026#34;æ‰§è¡Œåˆ›å»ºç”¨æˆ·ä¸šåŠ¡é€»è¾‘\u0026#34;); } } UserServiceProxy.java\npackage com.imooc.spring.aop.service; import java.text.SimpleDateFormat; import java.util.Date; /** * @author Rex * @create 2021-01-05 11:49 */ //é™æ€ä»£ç†æ˜¯æŒ‡å¿…é¡»æ‰‹åŠ¨åˆ›å»ºä»£ç†ç±»çš„ä»£ç†æ¨¡å¼ä½¿ç”¨æ–¹å¼ public class UserServiceProxy implements UserService{ //æŒæœ‰å§”æ‰˜ç±»çš„å¯¹è±¡ private UserService userService; public UserServiceProxy(UserService userService){ this.userService = userService; } @Override public void createUser() { System.out.println(\u0026#34;======\u0026#34; + new SimpleDateFormat(\u0026#34;yyyy-MM-dd HH:mm:ss sss\u0026#34;).format(new Date()) +\u0026#34;==========\u0026#34;); this.userService.createUser(); } } UserServiceProxy1.java\npackage com.imooc.spring.aop.service; /** * @author Rex * @create 2021-01-05 11:54 */ public class UserServiceProxy1 implements UserService { private UserService userService; public UserServiceProxy1(UserService userService){ this.userService = userService; } @Override public void createUser() { userService.createUser(); System.out.println(\u0026#34;=======åç½®æ‰©å±•åŠŸèƒ½======\u0026#34;); } } è¿è¡Œç»“æœï¼š\n======2021-01-05 12:28:08 008========== æ‰§è¡Œåˆ›å»ºç”¨æˆ·ä¸šåŠ¡é€»è¾‘ =======åç½®æ‰©å±•åŠŸèƒ½====== åŠ¨æ€ä»£ç†ç¤ºä¾‹ UserSerivce.java\npackage com.imooc.spring.aop.service; /** * @author Rex * @create 2021-01-05 11:47 */ public interface UserService { public void createUser(); } UserServiceImpl.java\npackage com.imooc.spring.aop.service; /** * @author Rex * @create 2021-01-05 11:47 */ public class UserServiceImpl implements UserService{ @Override public void createUser() { System.out.println(\u0026#34;æ‰§è¡Œåˆ›å»ºç”¨æˆ·ä¸šåŠ¡é€»è¾‘\u0026#34;); } } EmployeeService.java\npackage com.imooc.spring.aop.service; /** * @author Rex * @create 2021-01-05 12:20 */ public interface EmployeeService { public void createEmployee(); } EmployeeServiceImpl.java\npackage com.imooc.spring.aop.service; /** * @author Rex * @create 2021-01-05 12:20 */ public class EmployeeServiceImpl implements EmployeeService{ @Override public void createEmployee() { System.out.println(\u0026#34;æ‰§è¡Œåˆ›å»ºå‘˜å·¥å®ç°ç±»\u0026#34;); } } ProxyInvocationHandler.java\npackage com.imooc.spring.aop.service; import java.lang.reflect.InvocationHandler; import java.lang.reflect.Method; import java.lang.reflect.Proxy; import java.text.SimpleDateFormat; import java.util.Date; /** * InvocationHandleræ˜¯JDKæä¾›çš„åå°„ç±»ï¼Œç”¨äºåœ¨JDKåŠ¨æ€ä»£ç†ä¸­å¯¹ç›®æ ‡æ–¹æ³•è¿›è¡Œå¢å¼º * InvocationHandlerå®ç°ç±»ä¸åˆ‡é¢ç±»çš„çš„ç¯ç»•é€šçŸ¥ç±»ä¼¼ * @author Rex * @create 2021-01-05 12:06 */ public class ProxyInvocationHandler implements InvocationHandler { private Object target; //ç›®æ ‡å¯¹è±¡ private ProxyInvocationHandler(Object target){ this.target = target; } /** * åœ¨invoke()æ–¹æ³•å¯¹ç›®æ ‡æ–¹æ³•è¿›è¡Œå¢å¼º * @param proxy ä»£ç†ç±»å¯¹è±¡ * @param method ç›®æ ‡æ–¹æ³•å¯¹è±¡ * @param args ç›®æ ‡æ–¹æ³•å®å‚ * @return ç›®æ ‡æ–¹æ³•è¿è¡Œåè¿”å›å€¼ * @throws Throwable ç›®æ ‡æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ */ @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { System.out.println(\u0026#34;======\u0026#34; +new SimpleDateFormat(\u0026#34;yyyy-MM-dd HH:mm:ss sss\u0026#34;).format(new Date()) + \u0026#34;======\u0026#34;); Object ret = method.invoke(target, args);//è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œ ProceedingJoinPoint.proceed() return ret; } public static void main(String[] args) { UserService userService = new UserServiceImpl(); ProxyInvocationHandler proxyInvocationHandler = new ProxyInvocationHandler(userService); //åŠ¨æ€åˆ›å»ºä»£ç†ç±» UserService userServiceProxy = (UserService)Proxy.newProxyInstance(userService.getClass().getClassLoader(), userService.getClass().getInterfaces(), proxyInvocationHandler); userServiceProxy.createUser(); //åŠ¨æ€ä»£ç†ï¼Œå¿…é¡»å®ç°æ¥å£æ‰å¯ä»¥è¿è¡Œ EmployeeService employeeService = new EmployeeServiceImpl(); EmployeeService employeeServiceProxy = (EmployeeService) Proxy.newProxyInstance(employeeService.getClass().getClassLoader(), employeeService.getClass().getInterfaces(), new ProxyInvocationHandler(employeeService)); employeeServiceProxy.createEmployee(); } } è¿è¡Œç»“æœï¼š\n======2021-01-05 12:23:20 020====== æ‰§è¡Œåˆ›å»ºç”¨æˆ·ä¸šåŠ¡é€»è¾‘ ======2021-01-05 12:23:20 020====== æ‰§è¡Œåˆ›å»ºå‘˜å·¥å®ç°ç±» CGLibå®ç°ä»£ç†ç±» CGLibæ˜¯è¿è¡Œæ—¶å­—èŠ‚ç å¢å¼ºæŠ€æœ¯ Spring AOPæ‰©å±•æ— æ¥å£ç±»ä½¿ç”¨CGLib AOPä¼šè¿è¡Œæ—¶ç”Ÿæˆç›®æ ‡ç»§æ‰¿ç±»å­—èŠ‚ç çš„æ–¹å¼è¿›è¡Œè¡Œä¸ºæ‰©å±• AOPä»£ç å®ä¾‹ï¼š XMLå½¢å¼ applicationContext.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:aop=\u0026#34;http://www.springframework.org/schema/aop\u0026#34; xsi:schemaLocation=\u0026#34; http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd\u0026#34;\u0026gt; \u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.imooc.spring.aop.dao.UserDao\u0026#34;\u0026gt;\u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;employeeDao\u0026#34; class=\u0026#34;com.imooc.spring.aop.dao.EmployeeDao\u0026#34;\u0026gt;\u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.imooc.spring.aop.service.UserService\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;userDao\u0026#34; ref=\u0026#34;userDao\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;employeeService\u0026#34; class=\u0026#34;com.imooc.spring.aop.service.EmployeeService\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;employeeDao\u0026#34; ref=\u0026#34;employeeDao\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;methodChecker\u0026#34; class=\u0026#34;com.imooc.spring.aop.aspect.MethodChecker\u0026#34;\u0026gt;\u0026lt;/bean\u0026gt; \u0026lt;aop:config\u0026gt; \u0026lt;aop:pointcut id=\u0026#34;pointcut\u0026#34; expression=\u0026#34;execution(* com.imooc..*.*(..))\u0026#34;/\u0026gt; \u0026lt;aop:aspect ref=\u0026#34;methodChecker\u0026#34;\u0026gt; \u0026lt;aop:around method=\u0026#34;check\u0026#34; pointcut-ref=\u0026#34;pointcut\u0026#34;\u0026gt;\u0026lt;/aop:around\u0026gt; \u0026lt;/aop:aspect\u0026gt; \u0026lt;/aop:config\u0026gt; \u0026lt;/beans\u0026gt; UserDao.java\npackage com.imooc.spring.aop.dao; /** * ç”¨æˆ·è¡¨Dao */ public class UserDao { public void insert(){ System.out.println(\u0026#34;æ–°å¢ç”¨æˆ·æ•°æ®\u0026#34;); } } EmployeeDao.java\npackage com.imooc.spring.aop.dao; /** * å‘˜å·¥è¡¨Dao * @author Rex * @create 2021-01-04 23:20 */ public class EmployeeDao { public void insert(){ System.out.println(\u0026#34;æ–°å¢å‘˜å·¥æ•°æ®\u0026#34;); } } Userervice.java\npackage com.imooc.spring.aop.service; import com.imooc.spring.aop.dao.UserDao; /** * ç”¨æˆ·æœåŠ¡ * @author Rex * @create 2021-01-04 22:46 */ public class UserService { private UserDao userDao; public void createUser(){ try { Thread.sleep(3000); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(\u0026#34;æ‰§è¡Œå‘˜å·¥å…¥èŒä¸šåŠ¡é€»è¾‘\u0026#34;); userDao.insert(); } public String generateRandomPassword(String type, Integer length){ System.out.println(\u0026#34;æŒ‰\u0026#34; + type + \u0026#34;æ–¹å¼ç”Ÿæˆ\u0026#34; + length + \u0026#34;ä½éšæœºå¯†ç \u0026#34;); return \u0026#34;Zxcquil\u0026#34;; } public UserDao getUserDao() { return userDao; } public void setUserDao(UserDao userDao) { this.userDao = userDao; } } EmployeeService.java\npackage com.imooc.spring.aop.service; import com.imooc.spring.aop.dao.EmployeeDao; /** * å‘˜å·¥æœåŠ¡ * @author Rex * @create 2021-01-04 23:20 */ public class EmployeeService { private EmployeeDao employeeDao; public void entry(){ System.out.println(\u0026#34;æ‰§è¡Œå‘˜å·¥å…¥èŒä¸šåŠ¡é€»è¾‘\u0026#34;); employeeDao.insert(); } public EmployeeDao getEmployeeDao() { return employeeDao; } public void setEmployeeDao(EmployeeDao employeeDao) { this.employeeDao = employeeDao; } } MethodCheck.java\npackage com.imooc.spring.aop.aspect; import org.aspectj.lang.ProceedingJoinPoint; import java.text.SimpleDateFormat; import java.util.Date; /** * @author Rex * @create 2021-01-04 23:07 */ public class MethodChecker { //ProceedingJoinPointæ˜¯JoinPointçš„å‡çº§ç‰ˆï¼Œåœ¨åŸæœ‰åŠŸèƒ½å¤–ï¼Œè¿˜å¯ä»¥æ§åˆ¶ç›®æ ‡æ–¹æ³•æ˜¯å¦æ‰§è¡Œ public Object check(ProceedingJoinPoint pjp) throws Throwable { try { long startTime = new Date().getTime(); Object ret = pjp.proceed();//æ‰§è¡Œç›®æ ‡æ–¹æ³• long endTime = new Date().getTime(); long duration = endTime - startTime; if (duration \u0026gt;= 1000){ String className = pjp.getTarget().getClass().getName(); String methodName = pjp.getSignature().getName(); SimpleDateFormat sdf = new SimpleDateFormat(\u0026#34;yyyy-MM-dd HH:mm:ss sss\u0026#34;); String now = sdf.format(new Date()); System.out.println(\u0026#34;===========\u0026#34;+now+\u0026#34;:\u0026#34;+className+\u0026#34;.\u0026#34;+methodName + \u0026#34;(\u0026#34; + duration+\u0026#34;ms)======\u0026#34;); } return ret; } catch (Throwable throwable) { System.out.println(\u0026#34;Exception message:\u0026#34;+throwable.getMessage()); throw throwable; } } } SpringContext.java\npackage com.imooc.spring.aop; import com.imooc.spring.aop.service.UserService; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; /** * @author Rex * @create 2021-01-04 23:20 */ public class SpringContext { public static void main(String[] args) { ApplicationContext context = new ClassPathXmlApplicationContext(\u0026#34;classpath:applicationContext.xml\u0026#34;); UserService userService = context.getBean(\u0026#34;userService\u0026#34;, UserService.class); userService.createUser(); } } æ‰§è¡Œç»“æœï¼š\næ‰§è¡Œå‘˜å·¥å…¥èŒä¸šåŠ¡é€»è¾‘ æ–°å¢ç”¨æˆ·æ•°æ® ===========2021-01-05 14:15:17 017:com.imooc.spring.aop.service.UserService.createUser(3046ms)====== æ³¨è§£å½¢å¼ applicationContext.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:aop=\u0026#34;http://www.springframework.org/schema/aop\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\u0026#34;\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.imooc\u0026#34;\u0026gt;\u0026lt;/context:component-scan\u0026gt; \u0026lt;aop:aspectj-autoproxy\u0026gt;\u0026lt;/aop:aspectj-autoproxy\u0026gt; \u0026lt;/beans\u0026gt; BookShop.java\npackage com.imooc.spring.aop.entity; import org.springframework.stereotype.Component; /** * @author Rex * @create 2021-01-05 10:53 */ @Component public class BookShop { public void sellingBooks(){ System.out.println(\u0026#34;å–å‡ºä¸€æœ¬javaåŸºç¡€ä¹¦ç±\u0026#34;); } } MethodPro.java\npackage com.imooc.spring.aop.aspect; import org.aspectj.lang.ProceedingJoinPoint; import org.aspectj.lang.annotation.After; import org.aspectj.lang.annotation.Around; import org.aspectj.lang.annotation.Aspect; import org.aspectj.lang.annotation.Before; import org.springframework.stereotype.Component; /** * @author Rex * @create 2021-01-05 10:54 */ @Component @Aspect public class MethodPro { // @Around(\u0026#34;execution(public * com.imooc..*.*())\u0026#34;) public void welcome(ProceedingJoinPoint pjd) throws Throwable { System.out.println(\u0026#34;æ¬¢è¿å…‰ä¸´æ…•è¯¾å°åº—\u0026#34;); pjd.proceed(); System.out.println(\u0026#34;æ¬¢è¿å†æ¬¡å…‰ä¸´\u0026#34;); } @Before(\u0026#34;execution(public * com.imooc..*.*(..))\u0026#34;) public void preSales(){ System.out.println(\u0026#34;=====å”®å‰æœåŠ¡=====\u0026#34;); } @After(\u0026#34;execution(public * com.imooc..*.*(..))\u0026#34;) public void afterSale(){ System.out.println(\u0026#34;=====å”®åæœåŠ¡======\u0026#34;); } } SpringApplication.java\npackage com.imooc.spring.aop; import com.imooc.spring.aop.entity.BookShop; import org.springframework.context.ApplicationContext; import org.springframework.context.annotation.ComponentScan; import org.springframework.context.support.ClassPathXmlApplicationContext; /** * @author Rex * @create 2021-01-05 11:03 */ @ComponentScan public class SpringApplication { public static void main(String[] args) { ApplicationContext context = new ClassPathXmlApplicationContext(\u0026#34;classpath:applicationContext.xml\u0026#34;); BookShop bookShop = context.getBean(\u0026#34;bookShop\u0026#34;, BookShop.class); bookShop.sellingBooks(); } } æ‰§è¡Œç»“æœï¼š\n=====å”®å‰æœåŠ¡===== å–å‡ºä¸€æœ¬javaåŸºç¡€ä¹¦ç± =====å”®åæœåŠ¡====== ","permalink":"https://rexhub.space/posts/back/java/framework/spring/springaop%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B/","summary":"Spring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹ Spring AOP Spring AOP - Aspect Oriented Programming é¢å‘åˆ‡é¢ç¼–ç¨‹ AOPçš„åšæ³•æ˜¯å°†é€šç”¨ã€äºä¸šåŠ¡æ— å…³çš„åŠŸèƒ½æŠ½è±¡å°è£…ä¸ºåˆ‡é¢ç±» åˆ‡é¢å¯é…ç½®åœ¨ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œå‰ã€åè¿è¡Œï¼ŒçœŸæ­£åšåˆ°å³æ’å³ç”¨ Spring AOP ç”¨åˆ°çš„ä¾èµ–dependencyï¼š\n\u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-context\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.3.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.aspectj\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aspectjweaver\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.9.6\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; applicationContext.xmlä¸­schemaä¾èµ–\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:aop=\u0026#34;http://www.springframework.org/schema/aop\u0026#34; xsi:schemaLocation=\u0026#34; http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd\u0026#34;\u0026gt; \u0026lt;!-- bean definitions here --\u0026gt; \u0026lt;/beans\u0026gt; Spring AOPæ¦‚å¿µ Spring AOPä¸AspectJçš„å…³ç³» Eclipse AspectJï¼Œä¸€ç§åŸºäºJavaå¹³å°çš„é¢å‘åˆ‡é¢ç¼–ç¨‹çš„è¯­è¨€ Spring AOPä½¿ç”¨AspectJWeaverå®ç°ç±»ä¸æ–¹æ³•çš„åŒ¹é… Spring AOPåˆ©ç”¨ä»£ç†æ¨¡å¼å®ç°å¯¹è±¡è¿è¡Œæ—¶åŠŸèƒ½æ‰©å±• å‡ ä¸ªå…³é”®æ¦‚å¿µ æ³¨è§£ è¯´æ˜ Aspect åˆ‡é¢ï¼Œå…·ä½“çš„å¯æ’æ‹”ç»„ä»¶åŠŸèƒ½ç±»ï¼Œé€šå¸¸ä¸€ä¸ªåˆ‡é¢åªå®ç°ä¸€ä¸ªé€šç”¨åŠŸèƒ½ Target Class/Method ç›®æ ‡ç±»ã€ç›®æ ‡æ–¹æ³•ï¼ŒæŒ‡çœŸæ­£è¦æ‰§è¡Œä¸ä¸šåŠ¡ç›¸å…³çš„æ–¹æ³• PointCut åˆ‡å…¥ç‚¹ï¼Œä½¿ç”¨executionè¡¨è¾¾å¼è¯´æ˜åˆ‡é¢è¦ä½œç”¨åœ¨ç³»ç»Ÿçš„å“ªäº›ç±»ä¸Š JoinPoint è¿æ¥ç‚¹ï¼Œåˆ‡é¢è¿è¡Œè¿‡ç¨‹ä¸­æ—¶åŒ…æ‹¬äº†ç›®æ ‡ç±»/æ–¹æ³•å…ƒæ•°æ®çš„å¯¹è±¡ Advice é€šçŸ¥ï¼Œè¯´æ˜å…·ä½“çš„åˆ‡é¢çš„æ‰§è¡Œæ—¶æœºï¼ŒSpringåŒ…å«äº†äº”ç§ä¸åŒç±»å‹é€šçŸ¥ AOPé…ç½®è¿‡ç¨‹ ä¾èµ–AspectJ å®ç°åˆ‡é¢ç±»/æ–¹æ³• é…ç½®Aspect Bean å®šä¹‰PointCut é…ç½®Advice JoinPointæ ¸å¿ƒæ–¹æ³• æ³¨è§£ è¯´æ˜ Object getTarget() è·å–IoCå®¹å™¨å†…ç›®æ ‡å¯¹è±¡ Signature getSignature() è·å–ç›®æ ‡æ–¹æ³• Object[] getArgs() è·å–ç›®æ ‡æ–¹æ³•å‚æ•° PointCutåˆ‡ç‚¹è¡¨è¾¾å¼ é€šçŸ¥ äº”ç§é€šçŸ¥ç±»å‹ æ³¨è§£ è¯´æ˜ Before Advice å‰ç½®é€šçŸ¥ï¼Œç›®æ ‡æ–¹æ³•è¿è¡Œå‰æ‰§è¡Œ After Returning Advice è¿”å›åé€šçŸ¥ï¼Œç›®æ ‡æ–¹æ³•è¿”å›æ•°æ®åæ‰§è¡Œ After Throwing Advice å¼‚å¸¸é€šçŸ¥ï¼Œç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ After Advice åç½®é€šçŸ¥ï¼Œç›®æ ‡æ–¹æ³•è¿è¡Œ Around Advice æœ€å¼ºå¤§é€šçŸ¥ï¼Œè‡ªå®šä¹‰é€šçŸ¥æ‰§è¡Œæ—¶æœºï¼Œå¯å†³å®šç›®æ ‡æ–¹æ³•æ˜¯å¦è¿è¡Œ ç‰¹æ®Šçš„â€œé€šçŸ¥â€-å¼•ä»‹å¢å¼º å¼•ä»‹å¢å¼º(Introduction Interceptor)æ˜¯å¯¹ç±»çš„å¢å¼ºï¼Œè€Œéæ–¹æ³• å¼•ä»‹å¢å¼ºå…è®¸åœ¨è¿è¡Œæ—¶ä¸ºç›®æ ‡ç±»å¢åŠ æ–°å±æ€§æˆ–æ–¹æ³• å¼•ä»‹å¢å¼ºå…è®¸åœ¨è¿è¡Œæ—¶æ”¹å˜ç±»çš„è¡Œä¸ºï¼Œè®©ç±»éšè¿è¡Œç¯å¢ƒåŠ¨æ€å˜æ›´ Spring AOPå®ç°åŸç† SpringåŸºäºä»£ç†æ¨¡å¼å®ç°åŠŸèƒ½åŠ¨æ€æ‰©å±•ï¼ŒåŒ…å«ä¿©ç§å½¢å¼ ç›®æ ‡ç±»æ‹¥æœ‰æ¥å£ï¼Œé€šè¿‡JDKåŠ¨æ€ä»£ç†å®ç°åŠŸèƒ½æ‰©å±• ç›®æ ‡ç±»æ²¡æœ‰æ¥å£ï¼Œé€šè¿‡CGLibç»„ä»¶å®ç°åŠŸèƒ½æ‰©å±• ä»£ç†æ¨¡å¼ï¼š ä»£ç†æ¨¡å¼é€šè¿‡ä»£ç†å¯¹è±¡å¯¹åŸå¯¹è±¡çš„å®ç°åŠŸèƒ½æ‰©å±• é™æ€ä»£ç†ç¤ºä¾‹ï¼š UserService.","title":"Springaopé¢å‘åˆ‡é¢ç¼–ç¨‹"},{"content":"Spring IoCä¸Beanç®¡ç† Springå¿«é€Ÿå…¥é—¨ IoCæ§åˆ¶åè½¬ IoCæ§åˆ¶åè½¬ï¼Œå…¨ç§°Inverse of Controlï¼Œæ˜¯ä¸€ç§è®¾è®¡ç†å¿µï¼ŒæŠŠå¯¹è±¡åˆ›å»ºå’Œå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨è¿‡ç¨‹ï¼Œäº¤ç»™springè¿›è¡Œç®¡ç† ç”±ä»£ç†äººæ¥åˆ›å»ºä¸ç®¡ç†å¯¹è±¡ï¼Œæ¶ˆè´¹è€…é€šè¿‡ä»£ç†äººæ¥è·å–å¯¹è±¡ IoCçš„ç›®çš„æ˜¯é™ä½å¯¹è±¡ä¹‹é—´ç›´æ¥è€¦åˆ åŠ å…¥IoCå®¹å™¨å°†å¯¹è±¡ç»Ÿä¸€ç®¡ç†ï¼Œè®©å¯¹è±¡å…³è”å˜ä¸ºå¼±è€¦åˆ DIä¾èµ–æ³¨å…¥ IoCæ˜¯è®¾è®¡ç†å¿µï¼Œæ˜¯ç°ä»£ç¨‹åºè®¾è®¡éµå¾ªçš„æ ‡å‡†ï¼Œæ˜¯å®è§‚ç›®æ ‡ DI(Dependency Injection)æ˜¯å…·ä½“æŠ€æœ¯å®ç°ï¼Œæ˜¯å¾®è§‚å®ç° DIåœ¨Javaä¸­åˆ©ç”¨åå°„æŠ€æœ¯å®ç°å¯¹è±¡æ³¨å…¥ï¼ˆInjectionï¼‰ Spring Springçš„å«ä¹‰ Springå¯ä»ç‹­ä¹‰ä¸å¹¿ä¹‰ä¿©ä¸ªè§’åº¦çœ‹å¾… ç‹­ä¹‰çš„Springæ˜¯æŒ‡Springæ¡†æ¶ï¼ˆSpring Frameworkï¼‰ å¹¿ä¹‰çš„Springæ˜¯æŒ‡Springç”Ÿæ€ä½“ç³» ç‹­ä¹‰çš„Spring Springæ¡†æ¶æ˜¯ä¼ä¸šå¼€å‘å¤æ‚æ€§çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ Springæ¡†æ¶çš„æ ¸å¿ƒæ˜¯IoCå®¹å™¨ä¸AOPé¢å‘åˆ‡é¢å˜æˆ Spring IoCè´Ÿè´£åˆ›å»ºä¸ç®¡ç†ç³»ç»Ÿå¯¹è±¡ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ‰©å±•åŠŸèƒ½ ä¼ ç»Ÿå¼€å‘æ–¹å¼ å¯¹è±¡ç›´æ¥å¼•ç”¨å¯¼è‡´å¯¹è±¡ç¡¬æ€§å…³è”ï¼Œç¨‹åºéš¾ä»¥æ‰©å±•ç»´æŠ¤ Spring IoC IoCå®¹å™¨æ˜¯Springç”Ÿæ€çš„åœ°åŸºç”¨äºç»Ÿä¸€åˆ›å»ºä¸ç®¡ç†å¯¹è±¡ä¾èµ– Spring IoCå®¹å™¨èŒè´£ å¯¹è±¡çš„æ§åˆ¶å™¨äº¤ç”±ç¬¬ä¸‰æ–¹ç»Ÿä¸€ç®¡ç†ï¼ˆIoCæ§åˆ¶åè½¬ï¼‰ åˆ©ç”¨Javaåå°„æŠ€æœ¯å®ç°è¿è¡Œæ—¶å¯¹è±¡åˆ›å»ºä¸å…³è”ï¼ˆDIä¾èµ–æ³¨å…¥ï¼‰ åŸºäºé…ç½®æé«˜åº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§ä¸æ‰©å±•æ€§ IOCåº•å±‚åŸç†ï¼š xmlè§£æã€å·¥å‚æ¨¡å¼ã€åå°„ IOC(æ¥å£) IOCæ€æƒ³åŸºäºIOCå®¹å™¨å®Œæˆï¼ŒIOCå®¹å™¨åº•å±‚å°±æ˜¯å¯¹è±¡å·¥å‚\nSpringæä¾›IOCå®¹å™¨å®ç°ä¸¤ç§æ–¹å¼ï¼šï¼ˆä¸¤ä¸ªæ¥å£ï¼‰\nBeanFactoryï¼šIOCå®¹å™¨åŸºæœ¬å®ç°æ–¹å¼ï¼Œæ˜¯Springå†…éƒ¨çš„ä½¿ç”¨çš„æ¥å£ï¼Œä¸æä¾›ç»™å¼€å‘äººå‘˜ä½¿ç”¨\nç‰¹ç‚¹ï¼š\nâ€‹\tåŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåœ¨è·å–å¯¹è±¡ï¼ˆä½¿ç”¨ï¼‰æ‰å»åˆ›å»ºå¯¹è±¡\nApplicationContextï¼šBeanFactoryæ¥å£çš„å­æ¥å£ï¼Œæä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œ ä¸€èˆ¬ç”±å¼€å‘äººå‘˜è¿›è¡Œä½¿ç”¨\nç‰¹ç‚¹ï¼šåŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™å°±ä¼šæŠŠé…ç½®æ–‡ä»¶å¯¹è±¡è¿›è¡Œåˆ›å»º\nApplicationContextæ¥å£\nä»£ç ç¤ºä¾‹ï¼š éœ€è¦å¼•å…¥çš„ä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-context\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.3.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; Apple.java\npackage com.imooc.spring.ioc.entity; /** * @author CubeMonkey * @create 2020-11-27 23:57 */ public class Apple { private String title; private String color; private String origin; public Apple() { } public Apple(String title, String color, String origin) { this.title = title; this.color = color; this.origin = origin; } public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getColor() { return color; } public void setColor(String color) { this.color = color; } public String getOrigin() { return origin; } public void setOrigin(String origin) { this.origin = origin; } } applicationContext.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\u0026#34;\u0026gt; \u0026lt;!-- åœ¨IoCå®¹å™¨å¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨ç”±Springå®ä¾‹åŒ–Appleå¯¹è±¡ï¼Œå–åsweetAppleæ”¾å…¥åˆ°å®¹å™¨ä¸­--\u0026gt; \u0026lt;bean id=\u0026#34;sweetApple\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Apple\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;title\u0026#34; value=\u0026#34;çº¢å¯Œå£«\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;origin\u0026#34; value=\u0026#34;æ¬§æ´²\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;color\u0026#34; value=\u0026#34;çº¢è‰²\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;sourApple\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Apple\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;title\u0026#34; value=\u0026#34;é’è‹¹æœ\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;origin\u0026#34; value=\u0026#34;ä¸­äºš\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;color\u0026#34; value=\u0026#34;ç»¿è‰²\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;softApple\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Apple\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;title\u0026#34; value=\u0026#34;é‡‘å¸…\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;origin\u0026#34; value=\u0026#34;ä¸­å›½\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;color\u0026#34; value=\u0026#34;é‡‘è‰²\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;rdApple\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Apple\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;title\u0026#34; value=\u0026#34;è›‡æœ\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;origin\u0026#34; value=\u0026#34;ç¾å›½\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;color\u0026#34; value=\u0026#34;çº¢è‰²\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;lily\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Child\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;name\u0026#34; value=\u0026#34;è‰è‰\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;apple\u0026#34; ref=\u0026#34;softApple\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;andy\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Child\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;name\u0026#34; value=\u0026#34;å®‰è¿ª\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;apple\u0026#34; ref=\u0026#34;rdApple\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;luna\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Child\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;name\u0026#34; value=\u0026#34;éœ²å¨œ\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;apple\u0026#34; ref=\u0026#34;sweetApple\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; SpringApplication.java\npackage com.imooc.spring.ioc; import com.imooc.spring.ioc.entity.Apple; import com.imooc.spring.ioc.entity.Child; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; /** * @author CubeMonkey * @create 2020-11-30 16:14 */ public class SpringApplication { public static void main(String[] args) { ApplicationContext context = new ClassPathXmlApplicationContext(\u0026#34;classpath:applicationContext.xml\u0026#34;); Apple sweetApple = context.getBean(\u0026#34;sweetApple\u0026#34;, Apple.class); System.out.println(sweetApple.getTitle()); //ä»Iocå®¹å™¨ä¸­æå–beanId = lilyçš„å¯¹è±¡ Child lily = context.getBean(\u0026#34;lily\u0026#34;, Child.class); lily.eat(); Child andy = context.getBean(\u0026#34;andy\u0026#34;, Child.class); andy.eat(); Child luna = context.getBean(\u0026#34;luna\u0026#34;, Child.class); luna.eat(); } } XMLç®¡ç†å¯¹è±¡(Bean) ä¸‰ç§é…ç½®æ–¹å¼ 1. åŸºäºXMLé…ç½®Bean å®ä¾‹åŒ–Beançš„ä¸‰ç§æ–¹å¼ åŸºäºæ„é€ æ–¹æ³•å¯¹è±¡å®ä¾‹åŒ–\næ ¸å¿ƒä»£ç ï¼š\napplicationContext.xml\n\u0026lt;bean id=\u0026#34;apple2\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Apple\u0026#34;\u0026gt; \u0026lt;constructor-arg name=\u0026#34;title\u0026#34; value=\u0026#34;çº¢å¯Œå£«\u0026#34;\u0026gt;\u0026lt;/constructor-arg\u0026gt; \u0026lt;constructor-arg name=\u0026#34;color\u0026#34; value=\u0026#34;çº¢è‰²\u0026#34;\u0026gt;\u0026lt;/constructor-arg\u0026gt; \u0026lt;constructor-arg name=\u0026#34;origin\u0026#34; value=\u0026#34;æ¬§æ´²\u0026#34;\u0026gt;\u0026lt;/constructor-arg\u0026gt; \u0026lt;/bean\u0026gt; åŸºäºé™æ€å·¥å‚å®ä¾‹åŒ–\næ ¸å¿ƒä»£ç ï¼š\napplicationContext.xml\n\u0026lt;!--åˆ©ç”¨é™æ€å·¥å‚è·å–å¯¹è±¡--\u0026gt; \u0026lt;bean id=\u0026#34;apple4\u0026#34; class=\u0026#34;com.imooc.spring.ioc.factory.AppleStaticFactory\u0026#34; factory-method=\u0026#34;createSweetApple\u0026#34;\u0026gt;\u0026lt;/bean\u0026gt; â€‹\tAppleStaticFactory.java\npackage com.imooc.spring.ioc.factory; import com.imooc.spring.ioc.entity.Apple; /** * é™æ€å·¥å‚é€šè¿‡é™æ€æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼Œéšè—åˆ›å»ºå¯¹è±¡çš„ç»†èŠ‚ * @author CubeMonkey * @create 2020-12-01 18:50 */ public class AppleStaticFactory { public static Apple createSweetApple(){ //logger.info(\u0026#34;\u0026#34;) Apple apple = new Apple(); apple.setTitle(\u0026#34;çº¢å¯Œå£«\u0026#34;); apple.setOrigin(\u0026#34;æ¬§æ´²\u0026#34;); apple.setColor(\u0026#34;çº¢è‰²\u0026#34;); return apple; } } åŸºäºå·¥å‚å®ä¾‹æ–¹æ³•å®ä¾‹åŒ–\næ ¸å¿ƒä»£ç ï¼š\napplicationContext.xml\n\u0026lt;!--åˆ©ç”¨å·¥å‚å®ä¾‹æ–¹æ³•è·å–å¯¹è±¡--\u0026gt; \u0026lt;bean id=\u0026#34;factoryInstance\u0026#34; class=\u0026#34;com.imooc.spring.ioc.factory.AppleFactoryInstance\u0026#34;\u0026gt;\u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;apple5\u0026#34; factory-bean=\u0026#34;factoryInstance\u0026#34; factory-method=\u0026#34;createSweetApple\u0026#34;\u0026gt;\u0026lt;/bean\u0026gt; AppleFactoryInstance.java\npackage com.imooc.spring.ioc.factory; import com.imooc.spring.ioc.entity.Apple; /** * å·¥å‚å®ä¾‹æ–¹æ³•åˆ›å»ºå¯¹è±¡æ˜¯æŒ‡IoCå®¹å™¨å¯¹å·¥å‚ç±»è¿›è¡Œå®ä¾‹åŒ–å¹¶è°ƒç”¨å¯¹åº”çš„å®ä¾‹æ–¹æ³•åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ * @author CubeMonkey * @create 2020-12-01 18:56 */ public class AppleFactoryInstance { public Apple createSweetApple(){ Apple apple = new Apple(); apple.setTitle(\u0026#34;çº¢å¯Œå£«\u0026#34;); apple.setOrigin(\u0026#34;æ¬§æ´²\u0026#34;); apple.setColor(\u0026#34;çº¢è‰²\u0026#34;); return apple; } } 2. åŸºäºæ³¨è§£é…ç½®Bean 3. åŸºäºJavaä»£ç é…ç½®Bean ä»IoCå®¹å™¨è·å–bean æ–¹æ³•ï¼š Apple apple4 = context.getBean(\u0026#34;apple4\u0026#34;, Apple.class);//æ¨è System.out.println(apple4.getTitle()); Apple apple3 = (Apple)context.getBean(\u0026#34;apple3\u0026#34;); System.out.println(apple3.getTitle()); idä¸nameå±æ€§ç›¸åŒç‚¹ bean id ä¸nameéƒ½æ˜¯è®¾ç½®å¯¹è±¡åœ¨IoCå®¹å™¨ä¸­å”¯ä¸€æ ‡è¯† ä¸¤è€…åœ¨åŒä¸€é…ç½®æ–‡ä»¶ä¸­éƒ½ä¸å…è®¸å‡ºç°é‡å¤ ä¸¤è€…å…è®¸åœ¨å¤šä¸ªé…ç½®æ–‡ä»¶ä¸­å‡ºç°é‡å¤ï¼Œæ–°å¯¹è±¡è¦†ç›–æ—§å¯¹è±¡ idä¸nameå±æ€§åŒºåˆ« idè¦æ±‚æ›´ä¸ºä¸¥æ ¼ï¼Œä¸€æ¬¡åªèƒ½å®šä¹‰ä¸€ä¸ªå¯¹è±¡æ ‡è¯†ï¼ˆæ¨èï¼‰ nameæ›´ä¸ºå®½æ¾ï¼Œä¸€æ¬¡å…è®¸å®šä¹‰å¤šä¸ªå¯¹è±¡æ ‡è¯† tips:idä¸nameçš„å‘½åæœ‰æ„ä¹‰ï¼ŒæŒ‰é©¼å³°å‘½åä¹¦å†™ è·¯å¾„è¡¨è¾¾å¼ åŠ è½½å•ä¸ªé…ç½®æ–‡ä»¶ ApplicationContext context = new ClassPathXmlApplicationContext(\u0026#34;classpath:applicationContext.xml\u0026#34;); åŠ è½½å¤šé…ç½®æ–‡ä»¶ String[] configLocations = new String[]{\u0026#34;classpath:applicationContext.xml\u0026#34;, {\u0026#34;classpath:applicationContext-1.xml\u0026#34;}}; ApplicationContext context = new ClassPathXmlApplicationContext(configLocations) è·¯å¾„è¡¨è¾¾å¼è¯´æ˜ è¡¨è¾¾å¼å®ä¾‹ è¯´æ˜ classpath:config.xml æ‰«æclasspathæ ¹è·¯å¾„(ä¸åŒ…å«jar)çš„config.xml classpath:com/imooc/config.xml æ‰«æclasspathä¸‹(ä¸åŒ…å«jar)com.imoocåŒ…ä¸­çš„config.xml classpath*:com/imooc/config.xml æ‰«æclasspathä¸‹(åŒ…å«jar)com.imoocåŒ…ä¸­çš„config.xml classpath:config-*.xml æ‰«æclasspathæ ¹è·¯å¾„ä¸‹æ‰€æœ‰ä»¥config-å¼€å¤´çš„XMLæ–‡ä»¶ classpath:com/**/config.xml æ‰«æcomåŒ…ä¸‹(åŒ…å«ä»»ä½•å­åŒ…)çš„config.xml file:c/config.xml æ‰«æcç›˜æ ¹è·¯å¾„config.xml ä¾èµ–æ³¨å…¥ å¯¹è±¡ä¾èµ–æ³¨å…¥ ä¾èµ–æ³¨å…¥æ˜¯æŒ‡è¿è¡Œæ—¶å°†å®¹å™¨å†…å¯¹è±¡åˆ©ç”¨åå°„èµ‹ç»™å…¶ä»–å¯¹è±¡çš„æ“ä½œ\nåŸºäºsetteræ–¹æ³•æ³¨å…¥å¯¹è±¡\n\u0026lt;bean name=\u0026#34;sweetApple\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Apple\u0026#34;\u0026gt; \u0026lt;!-- IoCå®¹å™¨è‡ªåŠ¨åˆ©ç”¨åå°„æœºåˆ¶è¿è¡Œæ—¶è°ƒç”¨setXxxæ–¹æ³•ä¸ºå±æ€§èµ‹å€¼--\u0026gt; \u0026lt;property name=\u0026#34;title\u0026#34; value=\u0026#34;çº¢å¯Œå£«\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;color\u0026#34; value=\u0026#34;çº¢è‰²\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;origin\u0026#34; value=\u0026#34;æ¬§æ´²\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;price\u0026#34; value=\u0026#34;123\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean name=\u0026#34;lily\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Child\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;name\u0026#34; value=\u0026#34;è‰è‰\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;!--åˆ©ç”¨refæ³¨å…¥ä¾èµ–å¯¹è±¡--\u0026gt; \u0026lt;property name=\u0026#34;apple\u0026#34; ref=\u0026#34;sweetApple\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; åŸºäºæ„é€ æ–¹æ³•æ³¨å…¥å¯¹è±¡\n\u0026lt;bean id=\u0026#34;sourApple\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Apple\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;title\u0026#34; value=\u0026#34;é’è‹¹æœ\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;color\u0026#34; value=\u0026#34;ç»¿è‰²\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;origin\u0026#34; value=\u0026#34;ä¸­äºš\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;price\u0026#34; value=\u0026#34;9.8\u0026#34;\u0026gt;\u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;bean id=\u0026#34;andy\u0026#34; class=\u0026#34;com.imooc.spring.ioc.entity.Child\u0026#34;\u0026gt; \u0026lt;constructor-arg name=\u0026#34;name\u0026#34; value=\u0026#34;å®‰è¿ª\u0026#34;\u0026gt;\u0026lt;/constructor-arg\u0026gt; \u0026lt;constructor-arg name=\u0026#34;apple\u0026#34; ref=\u0026#34;sourApple\u0026#34;\u0026gt;\u0026lt;/constructor-arg\u0026gt; \u0026lt;/bean\u0026gt; é›†åˆä¾èµ–æ³¨å…¥ æ³¨å…¥List \u0026lt;bean id = \u0026#34;...\u0026#34; class = \u0026#34;...\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;someList\u0026#34;\u0026gt; \u0026lt;list\u0026gt; \u0026lt;value\u0026gt;å…·ä½“å€¼\u0026lt;/value\u0026gt; \u0026lt;ref bean=\u0026#34;beanId\u0026#34;\u0026gt;\u0026lt;/ref\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; æ³¨å…¥Set \u0026lt;bean id = \u0026#34;...\u0026#34; class=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;someSet\u0026#34;\u0026gt; \u0026lt;set\u0026gt; \u0026lt;value\u0026gt;å…·ä½“å€¼\u0026lt;/value\u0026gt; \u0026lt;ref bean=\u0026#34;beanId\u0026#34;\u0026gt;\u0026lt;/ref\u0026gt; \u0026lt;/set\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; æ³¨å…¥Map \u0026lt;bean id=\u0026#34;...\u0026#34; class=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;someMap\u0026#34;\u0026gt; \u0026lt;map\u0026gt; \u0026lt;entry key=\u0026#34;k1\u0026#34; value=\u0026#34;v1\u0026#34;\u0026gt;\u0026lt;/entry\u0026gt; \u0026lt;entry key=\u0026#34;k2\u0026#34; value-ref=\u0026#34;beanId\u0026#34;\u0026gt;\u0026lt;/entry\u0026gt; \u0026lt;/map\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; æ³¨å…¥Properties \u0026lt;bean id=\u0026#34;...\u0026#34; class=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;properties name=\u0026#34;someProperties\u0026#34;\u0026gt; \u0026lt;props\u0026gt; \u0026lt;prop key=\u0026#34;k1\u0026#34;\u0026gt;v1\u0026lt;/prop\u0026gt; \u0026lt;prop key=\u0026#34;k2\u0026#34;\u0026gt;v2\u0026lt;/prop\u0026gt; \u0026lt;/props\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;/bean\u0026gt; æŸ¥çœ‹å®¹å™¨å†…å¯¹è±¡ String[] beanNames = context.getBeanDefinitionNames(); bean scopeå±æ€§ bean scopeå±æ€§ç”¨äºå†³å®šå¯¹è±¡ä½•æ—¶è¢«åˆ›å»ºä¸ä½œç”¨èŒƒå›´ bean scopeé…ç½®å°†å½±å“å®¹å™¨å†…å¯¹è±¡çš„æ•°é‡ bean scopeé»˜è®¤å€¼singleton(å•ä¾‹)ï¼ŒæŒ‡å…¨å±€å…±äº«åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹ bean scopeå±æ€§æ¸…å• scopeå±æ€§ è¯´æ˜ singleton å•ä¾‹(é»˜è®¤å€¼)ï¼Œæ¯ä¸€ä¸ªå®¹å™¨æœ‰ä¸”åªæœ‰å”¯ä¸€çš„å®ä¾‹ï¼Œå®ä¾‹è¢«å…¨å±€å…±äº« prototype å¤šä¾‹ï¼Œæ¯æ¬¡ä½¿ç”¨æ—¶éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªå®ä¾‹ request webç¯å¢ƒä¸‹ï¼Œæ¯ä¸€æ¬¡ç‹¬ç«‹è¯·æ±‚å­˜åœ¨å”¯ä¸€å®ä¾‹ session webç¯å¢ƒä¸‹ï¼Œæ¯ä¸€ä¸ªsessionå­˜åœ¨æœ‰å”¯ä¸€å®ä¾‹ applicaiton webç¯å¢ƒä¸‹ï¼Œæ¯ä¸€ä¸ªServletContextå­˜åœ¨å”¯ä¸€å®ä¾‹ websocket æ¯ä¸€æ¬¡WebSocketè¿æ¥ä¸­å­˜åœ¨å”¯ä¸€å®ä¾‹ singletonä¸prototypeå¯¹æ¯” singleton prototype å¯¹è±¡æ•°é‡ å…¨å±€å”¯ä¸€ å­˜åœ¨å¤šä¸ª å®ä¾‹åŒ–æ—¶æœº IoCå®¹å™¨å¯åŠ¨æ—¶ getBean()æˆ–å¯¹è±¡æ³¨å…¥æ—¶ çº¿ç¨‹å®‰å…¨é—®é¢˜ å­˜åœ¨ ä¸å­˜åœ¨ æ‰§è¡Œæ•ˆç‡ é«˜ ä½ beanç”Ÿå‘½å‘¨æœŸ Iocå®¹å™¨æç®€å®ç° ç¤ºä¾‹ä»£ç ï¼š package com.imooc.spring.ioc.context; import org.dom4j.Document; import org.dom4j.Element; import org.dom4j.Node; import org.dom4j.io.SAXReader; import java.io.File; import java.lang.reflect.Method; import java.net.URLDecoder; import java.util.HashMap; import java.util.List; import java.util.Locale; import java.util.Map; /** * @author Rex * @create 2020-12-31 16:08 */ public class ClassPathXmlApplicationContext implements ApplicationContext{ private Map iocContainer = new HashMap(); public ClassPathXmlApplicationContext(){ try { String filePath = this.getClass().getResource(\u0026#34;/applicationContext.xml\u0026#34;).getPath(); filePath = new URLDecoder().decode(filePath, \u0026#34;utf-8\u0026#34;); SAXReader reader = new SAXReader(); Document document = reader.read(new File(filePath)); List\u0026lt;Node\u0026gt; nodes = document.getRootElement().selectNodes(\u0026#34;bean\u0026#34;); for (Node node : nodes) { Element ele = (Element) node; String id = ele.attributeValue(\u0026#34;id\u0026#34;); String className = ele.attributeValue(\u0026#34;class\u0026#34;); Class\u0026lt;?\u0026gt; c = Class.forName(className); Object obj = c.newInstance(); List\u0026lt;Node\u0026gt; properties = ele.selectNodes(\u0026#34;property\u0026#34;); for (Node p : properties) { Element property = (Element) p; String propName = property.attributeValue(\u0026#34;name\u0026#34;); String propValue = property.attributeValue(\u0026#34;value\u0026#34;); String setMethodName = \u0026#34;set\u0026#34;+propName.substring(0, 1).toUpperCase() + propName.substring(1); System.out.println(\u0026#34;å‡†å¤‡æ‰§è¡Œ\u0026#34;+setMethodName+\u0026#34;æ–¹æ³•æ³¨å…¥æ•°æ®\u0026#34;); Method setMethod = c.getMethod(setMethodName, String.class); setMethod.invoke(obj, propValue); } iocContainer.put(id, obj); } System.out.println(iocContainer); System.out.println(\u0026#34;IOCå®¹å™¨åˆå§‹åŒ–å®Œæ¯•\u0026#34;); }catch (Exception e){ e.printStackTrace(); } } @Override public Object getBean(String beanId) { return iocContainer.get(beanId); } } ","permalink":"https://rexhub.space/posts/back/java/framework/spring/springioc%E4%B8%8Ebean%E7%AE%A1%E7%90%86/","summary":"Spring IoCä¸Beanç®¡ç† Springå¿«é€Ÿå…¥é—¨ IoCæ§åˆ¶åè½¬ IoCæ§åˆ¶åè½¬ï¼Œå…¨ç§°Inverse of Controlï¼Œæ˜¯ä¸€ç§è®¾è®¡ç†å¿µï¼ŒæŠŠå¯¹è±¡åˆ›å»ºå’Œå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨è¿‡ç¨‹ï¼Œäº¤ç»™springè¿›è¡Œç®¡ç† ç”±ä»£ç†äººæ¥åˆ›å»ºä¸ç®¡ç†å¯¹è±¡ï¼Œæ¶ˆè´¹è€…é€šè¿‡ä»£ç†äººæ¥è·å–å¯¹è±¡ IoCçš„ç›®çš„æ˜¯é™ä½å¯¹è±¡ä¹‹é—´ç›´æ¥è€¦åˆ åŠ å…¥IoCå®¹å™¨å°†å¯¹è±¡ç»Ÿä¸€ç®¡ç†ï¼Œè®©å¯¹è±¡å…³è”å˜ä¸ºå¼±è€¦åˆ DIä¾èµ–æ³¨å…¥ IoCæ˜¯è®¾è®¡ç†å¿µï¼Œæ˜¯ç°ä»£ç¨‹åºè®¾è®¡éµå¾ªçš„æ ‡å‡†ï¼Œæ˜¯å®è§‚ç›®æ ‡ DI(Dependency Injection)æ˜¯å…·ä½“æŠ€æœ¯å®ç°ï¼Œæ˜¯å¾®è§‚å®ç° DIåœ¨Javaä¸­åˆ©ç”¨åå°„æŠ€æœ¯å®ç°å¯¹è±¡æ³¨å…¥ï¼ˆInjectionï¼‰ Spring Springçš„å«ä¹‰ Springå¯ä»ç‹­ä¹‰ä¸å¹¿ä¹‰ä¿©ä¸ªè§’åº¦çœ‹å¾… ç‹­ä¹‰çš„Springæ˜¯æŒ‡Springæ¡†æ¶ï¼ˆSpring Frameworkï¼‰ å¹¿ä¹‰çš„Springæ˜¯æŒ‡Springç”Ÿæ€ä½“ç³» ç‹­ä¹‰çš„Spring Springæ¡†æ¶æ˜¯ä¼ä¸šå¼€å‘å¤æ‚æ€§çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ Springæ¡†æ¶çš„æ ¸å¿ƒæ˜¯IoCå®¹å™¨ä¸AOPé¢å‘åˆ‡é¢å˜æˆ Spring IoCè´Ÿè´£åˆ›å»ºä¸ç®¡ç†ç³»ç»Ÿå¯¹è±¡ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ‰©å±•åŠŸèƒ½ ä¼ ç»Ÿå¼€å‘æ–¹å¼ å¯¹è±¡ç›´æ¥å¼•ç”¨å¯¼è‡´å¯¹è±¡ç¡¬æ€§å…³è”ï¼Œç¨‹åºéš¾ä»¥æ‰©å±•ç»´æŠ¤ Spring IoC IoCå®¹å™¨æ˜¯Springç”Ÿæ€çš„åœ°åŸºç”¨äºç»Ÿä¸€åˆ›å»ºä¸ç®¡ç†å¯¹è±¡ä¾èµ– Spring IoCå®¹å™¨èŒè´£ å¯¹è±¡çš„æ§åˆ¶å™¨äº¤ç”±ç¬¬ä¸‰æ–¹ç»Ÿä¸€ç®¡ç†ï¼ˆIoCæ§åˆ¶åè½¬ï¼‰ åˆ©ç”¨Javaåå°„æŠ€æœ¯å®ç°è¿è¡Œæ—¶å¯¹è±¡åˆ›å»ºä¸å…³è”ï¼ˆDIä¾èµ–æ³¨å…¥ï¼‰ åŸºäºé…ç½®æé«˜åº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§ä¸æ‰©å±•æ€§ IOCåº•å±‚åŸç†ï¼š xmlè§£æã€å·¥å‚æ¨¡å¼ã€åå°„ IOC(æ¥å£) IOCæ€æƒ³åŸºäºIOCå®¹å™¨å®Œæˆï¼ŒIOCå®¹å™¨åº•å±‚å°±æ˜¯å¯¹è±¡å·¥å‚\nSpringæä¾›IOCå®¹å™¨å®ç°ä¸¤ç§æ–¹å¼ï¼šï¼ˆä¸¤ä¸ªæ¥å£ï¼‰\nBeanFactoryï¼šIOCå®¹å™¨åŸºæœ¬å®ç°æ–¹å¼ï¼Œæ˜¯Springå†…éƒ¨çš„ä½¿ç”¨çš„æ¥å£ï¼Œä¸æä¾›ç»™å¼€å‘äººå‘˜ä½¿ç”¨\nç‰¹ç‚¹ï¼š\nâ€‹\tåŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåœ¨è·å–å¯¹è±¡ï¼ˆä½¿ç”¨ï¼‰æ‰å»åˆ›å»ºå¯¹è±¡\nApplicationContextï¼šBeanFactoryæ¥å£çš„å­æ¥å£ï¼Œæä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œ ä¸€èˆ¬ç”±å¼€å‘äººå‘˜è¿›è¡Œä½¿ç”¨\nç‰¹ç‚¹ï¼šåŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™å°±ä¼šæŠŠé…ç½®æ–‡ä»¶å¯¹è±¡è¿›è¡Œåˆ›å»º\nApplicationContextæ¥å£\nä»£ç ç¤ºä¾‹ï¼š éœ€è¦å¼•å…¥çš„ä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-context\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.3.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; Apple.java\npackage com.imooc.spring.ioc.entity; /** * @author CubeMonkey * @create 2020-11-27 23:57 */ public class Apple { private String title; private String color; private String origin; public Apple() { } public Apple(String title, String color, String origin) { this.","title":"Springiocä¸beanç®¡ç†"},{"content":"Spring Testä¸JUnit4æ•´åˆ Spring Testæµ‹è¯•æ¨¡å— Spring Testæ˜¯Springä¸­ç”¨äºæµ‹è¯•çš„æ¨¡å— Sprint Testå¯¹JUnitå•å…ƒæµ‹è¯•æ¡†æ¶æœ‰è‰¯å¥½çš„æ•´åˆ é€šè¿‡Spring Testå¯åœ¨JUnitåœ¨å•å…ƒæµ‹è¯•æ—¶è‡ªåŠ¨åˆå§‹åŒ–IoCå®¹å™¨ Springä¸JUnit4æ•´åˆè¿‡ç¨‹ Mavenå·¥ç¨‹ä¾èµ–spring-test åˆ©ç”¨@RunWithä¸@ContextConfigurationæè¿°æµ‹è¯•ç”¨ä¾‹ç±» æµ‹è¯•ç”¨ä¾‹ç±»ä»å®¹å™¨è·å–å¯¹è±¡å®Œæˆæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œ ","permalink":"https://rexhub.space/posts/back/java/framework/spring/springtest%E4%B8%8Ejunit4%E6%95%B4%E5%90%88/","summary":"Spring Testä¸JUnit4æ•´åˆ Spring Testæµ‹è¯•æ¨¡å— Spring Testæ˜¯Springä¸­ç”¨äºæµ‹è¯•çš„æ¨¡å— Sprint Testå¯¹JUnitå•å…ƒæµ‹è¯•æ¡†æ¶æœ‰è‰¯å¥½çš„æ•´åˆ é€šè¿‡Spring Testå¯åœ¨JUnitåœ¨å•å…ƒæµ‹è¯•æ—¶è‡ªåŠ¨åˆå§‹åŒ–IoCå®¹å™¨ Springä¸JUnit4æ•´åˆè¿‡ç¨‹ Mavenå·¥ç¨‹ä¾èµ–spring-test åˆ©ç”¨@RunWithä¸@ContextConfigurationæè¿°æµ‹è¯•ç”¨ä¾‹ç±» æµ‹è¯•ç”¨ä¾‹ç±»ä»å®¹å™¨è·å–å¯¹è±¡å®Œæˆæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œ ","title":"Springtestä¸junit4æ•´åˆ"},{"content":"åŸºäºJava Configé…ç½®çš„IoCå®¹å™¨ åŸºäºJava Configçš„ä¼˜åŠ¿ å®Œå…¨æ‘†è„±XMLçš„æŸç¼šï¼Œä½¿ç”¨ç‹¬ç«‹Javaç±»ç®¡ç†å¯¹è±¡ä¸ä¾èµ– æ³¨è§£é…ç½®ç›¸å¯¹åˆ†æ•£ï¼Œåˆ©ç”¨Java Configå¯å¯¹é…ç½®é›†ä¸­ç®¡ç† å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¿›è¡Œä¾èµ–æ£€æŸ¥ï¼Œä¸å®¹æ˜“å‡ºé”™ Java Configæ ¸å¿ƒæ³¨è§£ æ³¨è§£ è¯´æ˜ @Configuration æè¿°ç±»ï¼Œè¯´æ˜å½“å‰ç±»æ˜¯Java Configé…ç½®ç±»ï¼Œå®Œå…¨æ›¿ä»£XMLæ–‡ä»¶ @Bean æè¿°æ–¹æ³•ï¼Œæ–¹æ³•è¿”å›å¯¹è±¡å°†è¢«IoCå®¹å™¨ç®¡ç†ï¼ŒbeanIdé»˜è®¤ä¸ºæ–¹æ³•å @ImportResource æè¿°ç±»ï¼ŒåŠ è½½é™æ€æ–‡ä»¶ï¼Œå¯ä½¿ç”¨@Valueæ³¨è§£è·å– @CompoenentScan æè¿°ç±»ï¼ŒåŒXMLçš„context:component-scanæ ‡ç­¾ ","permalink":"https://rexhub.space/posts/back/java/framework/spring/%E5%9F%BA%E4%BA%8Ejavaconfig%E9%85%8D%E7%BD%AE%E7%9A%84ioc%E5%AE%B9%E5%99%A8/","summary":"åŸºäºJava Configé…ç½®çš„IoCå®¹å™¨ åŸºäºJava Configçš„ä¼˜åŠ¿ å®Œå…¨æ‘†è„±XMLçš„æŸç¼šï¼Œä½¿ç”¨ç‹¬ç«‹Javaç±»ç®¡ç†å¯¹è±¡ä¸ä¾èµ– æ³¨è§£é…ç½®ç›¸å¯¹åˆ†æ•£ï¼Œåˆ©ç”¨Java Configå¯å¯¹é…ç½®é›†ä¸­ç®¡ç† å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¿›è¡Œä¾èµ–æ£€æŸ¥ï¼Œä¸å®¹æ˜“å‡ºé”™ Java Configæ ¸å¿ƒæ³¨è§£ æ³¨è§£ è¯´æ˜ @Configuration æè¿°ç±»ï¼Œè¯´æ˜å½“å‰ç±»æ˜¯Java Configé…ç½®ç±»ï¼Œå®Œå…¨æ›¿ä»£XMLæ–‡ä»¶ @Bean æè¿°æ–¹æ³•ï¼Œæ–¹æ³•è¿”å›å¯¹è±¡å°†è¢«IoCå®¹å™¨ç®¡ç†ï¼ŒbeanIdé»˜è®¤ä¸ºæ–¹æ³•å @ImportResource æè¿°ç±»ï¼ŒåŠ è½½é™æ€æ–‡ä»¶ï¼Œå¯ä½¿ç”¨@Valueæ³¨è§£è·å– @CompoenentScan æè¿°ç±»ï¼ŒåŒXMLçš„context:component-scanæ ‡ç­¾ ","title":"åŸºäºjavaconfigé…ç½®çš„iocå®¹å™¨"},{"content":"åŸºäºæ³¨è§£é…ç½®IoCå®¹å™¨ åŸºäºæ³¨è§£çš„ä¼˜åŠ¿ æ‘†è„±ç¹ççš„XMLå½¢å¼çš„beanä¸ä¾èµ–æ³¨å…¥é…ç½® åŸºäºâ€œå£°æ˜å¼â€çš„åŸåˆ™ï¼Œæ›´é€‚åˆè½»é‡çº§çš„ç°ä»£ä¼ä¸šåº”ç”¨ è®©ä»£ç å¯è¯»æ€§å˜å¾—æ›´å¥½ï¼Œè®©ç ”å‘äººå‘˜æ‹¥æœ‰æ›´å¥½çš„å¼€å‘ä½“éªŒ ä¸‰ç±»æ³¨è§£ ç»„ä»¶ç±»å‹æ³¨è§£-å£°æ˜å½“å‰ç±»çš„åŠŸèƒ½ä¸èŒè´£ è‡ªåŠ¨è£…é…æ³¨è§£-æ ¹æ®å±æ€§ç‰¹å¾è‡ªåŠ¨æ³¨å…¥å¯¹è±¡ å…ƒæ•°æ®æ³¨è§£-æ›´ç»†åŒ–çš„è¾…åŠ©IoCå®¹å™¨ç®¡ç†å¯¹è±¡çš„ æ³¨è§£ ç»„ä»¶ç±»å‹æ³¨è§£ï¼š å››ç§ç»„ä»¶ç±»å‹æ³¨è§£ æ³¨è§£ è¯´æ˜ @Component ç»„ä»¶æ³¨è§£ï¼Œé€šç”¨æ³¨è§£ï¼Œè¢«è¯¥æ³¨è§£æè¿°çš„ç±»å°†è¢«IoCå®¹å™¨ç®¡ç†å¹¶å®ä¾‹åŒ– @Controller xAè¯­ä¹‰æ³¨è§£ï¼Œè¯´æ˜å½“å‰ç±»æ˜¯MVCåº”ç”¨ä¸­çš„æ§åˆ¶å™¨ç±» @Service è¯­ä¹‰æ³¨è§£ï¼Œè¯´æ˜å½“å‰ç±»æ˜¯Serviceä¸šåŠ¡æœåŠ¡ç±» @Repository è¯­ä¹‰æ³¨è§£ï¼Œè¯´æ˜å½“å‰ç±»ç”¨äºä¸šåŠ¡æŒä¹…å±‚ï¼Œé€šå¸¸æè¿°å¯¹åº”Daoç±» å¼€å¯ç»„ä»¶æ‰«æï¼š \u0026lt;!--XMLé…ç½®å¼€å¯ç»„ä»¶æ‰«æï¼Œæ‰èƒ½ä½¿ç”¨æ³¨è§£--\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.imooc\u0026#34;\u0026gt; \u0026lt;context:exclude-filter type=\u0026#34;regex\u0026#34; expression=\u0026#34;com.imooc.exl.*\u0026#34;\u0026gt; \u0026lt;/context:exclude-filter\u0026gt; \u0026lt;/context:component-scan\u0026gt; åŸºäºæ³¨è§£åˆå§‹åŒ–IoCå®¹å™¨ â€‹\tapplicationContext.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\u0026#34;\u0026gt; \u0026lt;!--åœ¨IoCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æå››ç§ç»„ä»¶ç±»å‹æ³¨è§£å¹¶å®Œæˆå®ä¾‹åŒ– @Repository @Service @Controller @Component --\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.imooc\u0026#34;/\u0026gt; \u0026lt;/beans\u0026gt; è‡ªåŠ¨è£…é…æ³¨è§£ï¼š ä¸¤ç±»è‡ªåŠ¨è£…é…æ³¨è§£ï¼š åˆ†ç±» æ³¨è§£ è¯´æ˜ æŒ‰ç±»å‹è£…é… @Autowired æŒ‰å®¹å™¨å†…å¯¹è±¡ç±»å‹åŠ¨æ€æ³¨å…¥å±æ€§ï¼Œç”±Springæœºæ„æä¾› @Inject åŸºäºJSR-330(Dependency Injection for Java)æ ‡å‡†ï¼Œå…¶ä»–åŒ@Autowired,ä½†ä¸æ”¯æŒrequestå±æ€§ æŒ‰åç§°è£…é… @Named ä¸@Injecté…åˆä½¿ç”¨ï¼ŒJSR-330è§„èŒƒï¼ŒæŒ‰å±æ€§åè‡ªåŠ¨è£…é…å±æ€§ @Resource åŸºäºJSR-250è§„èŒƒï¼Œä¼˜å…ˆæŒ‰åç§°ï¼Œå†æŒ‰ç±»å‹æ™ºèƒ½åŒ¹é… Autowired: pring IoCå®¹å™¨ä¼šè‡ªåŠ¨é€šè¿‡åå°„æŠ€æœ¯å°†å±æ€§privateä¿®é¥°ç¬¦è‡ªåŠ¨æ”¹ä¸ºpublicï¼Œç›´æ¥è¿›è¡Œèµ‹å€¼, ä¸å†æ‰§è¡Œsetæ–¹æ³•ã€‚å¦‚æœè£…é…æ³¨è§£æ”¾åœ¨setæ–¹æ³•ä¸Šï¼Œåˆ™è‡ªåŠ¨æŒ‰ç±»å‹/åç§°å¯¹setæ–¹æ³•å‚æ•°è¿›è¡Œæ³¨å…¥\nResource: @Resourceè®¾ç½®nameå±æ€§ï¼Œåˆ™æŒ‰ç…§nameåœ¨IoCå®¹å™¨ä¸­å°†beanæ³¨å…¥ @Resourceæœªè®¾ç½®nameå±æ€§ 2.1 ä»¥å±æ€§åä½œä¸ºbean nameåœ¨IoCå®¹å™¨ä¸­åŒ¹é…beanï¼Œå¦‚æœ‰åŒ¹é…æ³¨å…¥ 2.2 æŒ‰å±æ€§åæœªåŒ¹é…ï¼Œåˆ™æŒ‰ç±»å‹è¿›è¡ŒåŒ¹é…ï¼ŒåŒautowiredï¼Œéœ€åŠ å…¥@Primaryè§£å†³å†²çª ä½¿ç”¨å»ºè®®ï¼šåœ¨ä½¿ç”¨@Resourceå¯¹è±¡æ—¶ï¼Œæ¨èè®¾ç½®nameæˆ–ä¿è¯å±æ€§åä¸beanåç§°ä¸€è‡´ å…ƒæ•°æ®æ³¨è§£ æ³¨è§£ è¯´æ˜ @Primary æŒ‰ç±»å‹è£…é…æ—¶å‡ºç°å¤šä¸ªç›¸åŒç±»å‹å¯¹è±¡ï¼Œæ‹¥æœ‰æ­¤æ³¨è§£å¯¹è±¡ä¼˜å…ˆè¢«æ³¨å…¥ @PostConstruct æè¿°æ–¹æ³•ï¼Œç›¸å½“äºXMLä¸­init-methodé…ç½®çš„æ³¨è§£ç‰ˆæœ¬ @PreDestory æè¿°æ–¹æ³•ï¼Œç›¸å½“äºXMLä¸­destroy-methodé…ç½®çš„æ³¨è§£ç‰ˆæœ¬ @Scope è®¾ç½®å¯¹è±¡çš„scopeå±æ€§ @Value ä¸ºå±æ€§æ³¨å…¥é™æ€æ•°æ® ","permalink":"https://rexhub.space/posts/back/java/framework/spring/%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AEioc%E5%AE%B9%E5%99%A8/","summary":"åŸºäºæ³¨è§£é…ç½®IoCå®¹å™¨ åŸºäºæ³¨è§£çš„ä¼˜åŠ¿ æ‘†è„±ç¹ççš„XMLå½¢å¼çš„beanä¸ä¾èµ–æ³¨å…¥é…ç½® åŸºäºâ€œå£°æ˜å¼â€çš„åŸåˆ™ï¼Œæ›´é€‚åˆè½»é‡çº§çš„ç°ä»£ä¼ä¸šåº”ç”¨ è®©ä»£ç å¯è¯»æ€§å˜å¾—æ›´å¥½ï¼Œè®©ç ”å‘äººå‘˜æ‹¥æœ‰æ›´å¥½çš„å¼€å‘ä½“éªŒ ä¸‰ç±»æ³¨è§£ ç»„ä»¶ç±»å‹æ³¨è§£-å£°æ˜å½“å‰ç±»çš„åŠŸèƒ½ä¸èŒè´£ è‡ªåŠ¨è£…é…æ³¨è§£-æ ¹æ®å±æ€§ç‰¹å¾è‡ªåŠ¨æ³¨å…¥å¯¹è±¡ å…ƒæ•°æ®æ³¨è§£-æ›´ç»†åŒ–çš„è¾…åŠ©IoCå®¹å™¨ç®¡ç†å¯¹è±¡çš„ æ³¨è§£ ç»„ä»¶ç±»å‹æ³¨è§£ï¼š å››ç§ç»„ä»¶ç±»å‹æ³¨è§£ æ³¨è§£ è¯´æ˜ @Component ç»„ä»¶æ³¨è§£ï¼Œé€šç”¨æ³¨è§£ï¼Œè¢«è¯¥æ³¨è§£æè¿°çš„ç±»å°†è¢«IoCå®¹å™¨ç®¡ç†å¹¶å®ä¾‹åŒ– @Controller xAè¯­ä¹‰æ³¨è§£ï¼Œè¯´æ˜å½“å‰ç±»æ˜¯MVCåº”ç”¨ä¸­çš„æ§åˆ¶å™¨ç±» @Service è¯­ä¹‰æ³¨è§£ï¼Œè¯´æ˜å½“å‰ç±»æ˜¯Serviceä¸šåŠ¡æœåŠ¡ç±» @Repository è¯­ä¹‰æ³¨è§£ï¼Œè¯´æ˜å½“å‰ç±»ç”¨äºä¸šåŠ¡æŒä¹…å±‚ï¼Œé€šå¸¸æè¿°å¯¹åº”Daoç±» å¼€å¯ç»„ä»¶æ‰«æï¼š \u0026lt;!--XMLé…ç½®å¼€å¯ç»„ä»¶æ‰«æï¼Œæ‰èƒ½ä½¿ç”¨æ³¨è§£--\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.imooc\u0026#34;\u0026gt; \u0026lt;context:exclude-filter type=\u0026#34;regex\u0026#34; expression=\u0026#34;com.imooc.exl.*\u0026#34;\u0026gt; \u0026lt;/context:exclude-filter\u0026gt; \u0026lt;/context:component-scan\u0026gt; åŸºäºæ³¨è§£åˆå§‹åŒ–IoCå®¹å™¨ â€‹\tapplicationContext.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\u0026#34;\u0026gt; \u0026lt;!--åœ¨IoCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æå››ç§ç»„ä»¶ç±»å‹æ³¨è§£å¹¶å®Œæˆå®ä¾‹åŒ– @Repository @Service @Controller @Component --\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.imooc\u0026#34;/\u0026gt; \u0026lt;/beans\u0026gt; è‡ªåŠ¨è£…é…æ³¨è§£ï¼š ä¸¤ç±»è‡ªåŠ¨è£…é…æ³¨è§£ï¼š åˆ†ç±» æ³¨è§£ è¯´æ˜ æŒ‰ç±»å‹è£…é… @Autowired æŒ‰å®¹å™¨å†…å¯¹è±¡ç±»å‹åŠ¨æ€æ³¨å…¥å±æ€§ï¼Œç”±Springæœºæ„æä¾› @Inject åŸºäºJSR-330(Dependency Injection for Java)æ ‡å‡†ï¼Œå…¶ä»–åŒ@Autowired,ä½†ä¸æ”¯æŒrequestå±æ€§ æŒ‰åç§°è£…é… @Named ä¸@Injecté…åˆä½¿ç”¨ï¼ŒJSR-330è§„èŒƒï¼ŒæŒ‰å±æ€§åè‡ªåŠ¨è£…é…å±æ€§ @Resource åŸºäºJSR-250è§„èŒƒï¼Œä¼˜å…ˆæŒ‰åç§°ï¼Œå†æŒ‰ç±»å‹æ™ºèƒ½åŒ¹é… Autowired: pring IoCå®¹å™¨ä¼šè‡ªåŠ¨é€šè¿‡åå°„æŠ€æœ¯å°†å±æ€§privateä¿®é¥°ç¬¦è‡ªåŠ¨æ”¹ä¸ºpublicï¼Œç›´æ¥è¿›è¡Œèµ‹å€¼, ä¸å†æ‰§è¡Œsetæ–¹æ³•ã€‚å¦‚æœè£…é…æ³¨è§£æ”¾åœ¨setæ–¹æ³•ä¸Šï¼Œåˆ™è‡ªåŠ¨æŒ‰ç±»å‹/åç§°å¯¹setæ–¹æ³•å‚æ•°è¿›è¡Œæ³¨å…¥","title":"åŸºäºæ³¨è§£é…ç½®iocå®¹å™¨"},{"content":"åå°„Reflect ä»€ä¹ˆæ˜¯åå°„ åå°„(Reflect)æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€è®¿é—®ç±»ä¸å¯¹è±¡çš„æŠ€æœ¯ åå°„æ˜¯JDK1.2ç‰ˆæœ¬åçš„é«˜çº§ç‰¹æ€§ï¼Œéš¶å±äºjava.lang.reflect å¤§å¤šæ˜¯Javaæ¡†æ¶éƒ½åŸºäºåå°„å®ç°å‚æ•°ã€åŠ¨æ€æ³¨å…¥ç­‰ç‰¹æ€§ åå°„çš„æ ¸å¿ƒç±» Classç±» Constructoræ„é€ æ–¹æ³•ç±» Methodæ–¹æ³•ç±» Fieldæˆå‘˜å˜é‡ç±» Classç±» Classæ˜¯JVMä¸­ä»£è¡¨\u0026quot;ç±»å’Œæ¥å£\u0026quot;ç±» Classå¯¹è±¡å…·ä½“åŒ…å«äº†æŸä¸ªç‰¹å®šç±»çš„ç»“æ„ä¿¡æ¯ é€šè¿‡Classå¯¹è±¡å¯è·å–å¯¹åº”ç±»çš„æ„é€ æ–¹æ³•/æ–¹æ³•/æˆå‘˜å˜é‡ Classæ ¸å¿ƒæ–¹æ³• æ–¹æ³• ç”¨é€” Class.forName() é™æ€æ–¹æ³•ï¼Œç”¨äºè·å–æŒ‡å®šClasså¯¹è±¡ classObj.newInstance() é€šè¿‡é»˜è®¤æ„é€ æ–¹æ³•åˆ›å»ºæ–°çš„å¯¹è±¡ classObj.getConstructor() è·å¾—æŒ‡å®šçš„publicä¿®é¥°æ„é€ æ–¹æ³•Constructå¯¹è±¡ classObj.getMethod() è·å–æŒ‡å®šçš„publicä¿®é¥°æ–¹æ³•Methodå¯¹è±¡ classObj.getField() è·å–æŒ‡å®šçš„publicä¿®é¥°æˆå‘˜å˜é‡çš„Fieldå¯¹è±¡ ä½¿ç”¨æ¡ˆä¾‹ï¼š Employee.java\npackage com.imooc.reflect.entity; /** * å‘˜å·¥å®ä½“ç±» * @author CubeMonkey * @create 2020-10-21 16:01 */ public class Employee { static{ System.out.println(\u0026#34;Employeeå·²è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å·²åˆå§‹åŒ–\u0026#34;); } private Integer eno; private String ename; private Float salary; private String dname; public Employee(){ System.out.println(\u0026#34;Employeeé»˜è®¤æ„é€ æ–¹æ³•å·²è¢«æ‰§è¡Œ\u0026#34;); } public Integer getEno() { return eno; } public void setEno(Integer eno) { this.eno = eno; } public String getEname() { return ename; } public void setEname(String ename) { this.ename = ename; } public Float getSalary() { return salary; } public void setSalary(Float salary) { this.salary = salary; } public String getDname() { return dname; } public void setDname(String dname) { this.dname = dname; } } ClassSample.java\npackage com.imooc.reflect; import com.imooc.reflect.entity.Employee; /** * @author CubeMonkey * @create 2020-10-21 16:03 */ public class ClassSample { public static void main(String[] args) { try { //Class.forName()æ–¹æ³•å°†æŒ‡å®šçš„ç±»åŠ è½½åˆ°jvmä¸­ï¼Œå¹¶è¿”å›å¯¹åº”Classå¯¹è±¡ Class employeeClass = Class.forName(\u0026#34;com.imooc.reflect.entity.Employee\u0026#34;); System.out.println(\u0026#34;Employeeå·²è¢«åŠ è½½åˆ°jvm\u0026#34;); //newInstanceé€šè¿‡é»˜è®¤æ„é€ æ–¹æ³•åˆ›å»ºæ–°çš„å¯¹è±¡ Employee employee = (Employee) employeeClass.newInstance(); System.out.println(employee); } catch (ClassNotFoundException e) { //ç±»åä¸ç±»è·¯å¾„ä¹¦å†™é”™è¯¯æ—¶æŠ›å‡ºâ€œClassNotFoundExceptionâ€å¼‚å¸¸ e.printStackTrace(); } catch (IllegalAccessException e) { //éæ³•è®¿é—®å¼‚å¸¸ï¼Œå½“åœ¨ä½œç”¨åŸŸå¤–è®¿é—®å¯¹è±¡æ–¹æ³•æˆ–æˆå‘˜å˜é‡æ—¶æŠ›å‡º e.printStackTrace(); } catch (InstantiationException e) { //å¯¹è±¡æ— æ³•è¢«å®ä¾‹åŒ–ï¼ŒæŠ›å‡ºâ€œInstantiationExceptionâ€å¼‚å¸¸ e.printStackTrace(); } } } Constructoræ„é€ å™¨ç±» Constructorç±»æ˜¯å¯¹Javaç±»ä¸­çš„æ„é€ æ–¹æ³•çš„æŠ½è±¡ Constructorå¯¹è±¡åŒ…å«äº†å…·ä½“ç±»çš„æŸä¸ªå…·ä½“æ„é€ æ–¹æ³•çš„å£°æ˜ é€šè¿‡Constructorå¯¹è±¡è°ƒç”¨å¸¦å‚æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ Constructorç±»æ ¸å¿ƒæ–¹æ³• æ–¹æ³• ç”¨é€” classObj.getConstructor() è·å–æŒ‡å®špublicä¿®é¥°çš„æ„é€ æ–¹æ³•å¯¹è±¡ constructorObj.newInstance() é€šè¿‡å¯¹åº”çš„æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ ä½¿ç”¨æ¡ˆä¾‹ï¼š ConstructorSample.java\npackage com.imooc.reflect; import com.imooc.reflect.entity.Employee; import java.lang.reflect.Constructor; import java.lang.reflect.InvocationTargetException; /** * åˆ©ç”¨å¸¦å‚æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ * @author CubeMonkey * @create 2020-10-22 15:08 */ public class ConstructorSample { public static void main(String[] args) { try { Class employeeClass = Class.forName(\u0026#34;com.imooc.reflect.entity.Employee\u0026#34;); Constructor constructor = employeeClass.getConstructor(Integer.class, String.class, Float.class, String.class); Employee employee = (Employee) constructor.newInstance(100, \u0026#34;æé›·\u0026#34;, 3000f, \u0026#34;ç ”å‘éƒ¨\u0026#34;); System.out.println(employee); } catch (ClassNotFoundException e) { e.printStackTrace(); } catch (NoSuchMethodException e) { //æ²¡æœ‰æ‰¾åˆ°ä¸ä¹‹å¯¹åº”æ ¼å¼çš„æ–¹æ³• e.printStackTrace(); } catch (IllegalAccessException e) { //éæ³•è®¿é—® e.printStackTrace(); } catch (InstantiationException e) { //å®ä¾‹åŒ–å¼‚å¸¸ï¼ˆæ¥å£ã€æŠ½è±¡ç±»ï¼‰ e.printStackTrace(); } catch (InvocationTargetException e) { //å½“è¢«è°ƒç”¨çš„æ–¹æ³•çš„å†…éƒ¨æŠ›å‡ºäº†å¼‚å¸¸è€Œæ²¡æœ‰è¢«æ•è·æ—¶ e.printStackTrace(); } } } Methodæ–¹æ³•ç±» Methodå¯¹è±¡æŒ‡ä»£æŸä¸ªç±»ä¸­çš„æ–¹æ³•çš„æè¿° Methodå¯¹è±¡ä½¿ç”¨classObj.getMethod()æ–¹æ³•è·å– é€šè¿‡Methodå¯¹è±¡è°ƒç”¨æŒ‡å®šå¯¹è±¡çš„å¯¹åº”æ–¹æ³• Methodç±»æ ¸å¿ƒæ–¹æ³• æ–¹æ³• ç”¨é€” classObj.getMethod() è·å–æŒ‡å®špublicä¿®é¥°çš„æ–¹æ³•å¯¹è±¡ methodObj.invoke() è°ƒç”¨æŒ‡å®šå¯¹è±¡çš„æ–¹æ³• ä½¿ç”¨æ¡ˆä¾‹ï¼š package com.imooc.reflect; import com.imooc.reflect.entity.Employee; import java.lang.reflect.Constructor; import java.lang.reflect.InvocationTargetException; import java.lang.reflect.Method; /** * åˆ©ç”¨Methodæ–¹æ³•ç±»è°ƒç”¨ * @author CubeMonkey * @create 2020-10-22 15:29 */ public class MethodSample { public static void main(String[] args) { try { Class employeeClass = Class.forName(\u0026#34;com.imooc.reflect.entity.Employee\u0026#34;); Constructor constructor = employeeClass.getConstructor(Integer.class, String.class, Float.class, String.class); Employee employee = (Employee) constructor.newInstance(100, \u0026#34;æé›·\u0026#34;, 3000f, \u0026#34;ç ”å‘éƒ¨\u0026#34;); Method updateSalaryMethod = employeeClass.getMethod(\u0026#34;updateSalry\u0026#34;, Float.class); Employee employee1 = (Employee) updateSalaryMethod.invoke(employee, 1000f); System.out.println(employee1); } catch (ClassNotFoundException e) { e.printStackTrace(); } catch (NoSuchMethodException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } catch (InstantiationException e) { e.printStackTrace(); } catch (InvocationTargetException e) { e.printStackTrace(); } } } Fieldæˆå‘˜å˜é‡ç±» Fieldå¯¹åº”æŸä¸ªå…·ä½“ç±»ä¸­çš„æˆå‘˜å˜é‡çš„å£°æ˜ Fieldå¯¹è±¡ä½¿ç”¨classObj.getField()æ–¹æ³•è·å– é€šè¿‡Fieldå¯¹è±¡å¯ä¸ºæŸå¯¹è±¡æˆå‘˜å˜é‡èµ‹å€¼/å–å€¼ï¼ˆè¿è¡Œæ—¶ï¼‰ Fieldç±»æ ¸å¿ƒæ–¹æ³• â€‹\næ–¹æ³• ç”¨é€” classObj.getField() è·å–æŒ‡å®špublicä¿®é¥°çš„æˆå‘˜å˜é‡ fieldObj.set() ä¸ºæŸå¯¹è±¡æŒ‡å®šæˆå‘˜å˜é‡èµ‹å€¼ fieldObj.get() è·å–æŸå¯¹è±¡æŒ‡å®šæˆå‘˜å˜é‡æ•°å€¼ ä½¿ç”¨æ¡ˆä¾‹ package com.imooc.reflect; import com.imooc.reflect.entity.Employee; import java.lang.reflect.Constructor; import java.lang.reflect.Field; import java.lang.reflect.InvocationTargetException; /** * @author CubeMonkey * @create 2020-10-23 9:45 */ public class FieldSample { public static void main(String[] args) { try { Class employeeClass = Class.forName(\u0026#34;com.imooc.reflect.entity.Employee\u0026#34;); Constructor constructor = employeeClass.getConstructor(Integer.class, String.class, Float.class, String.class); Employee employee = (Employee) constructor.newInstance(100, \u0026#34;æç£Š\u0026#34;, 3000f, \u0026#34;ç ”å‘éƒ¨\u0026#34;); Field enameField = employeeClass.getField(\u0026#34;ename\u0026#34;); enameField.set(employee, \u0026#34;æé›·\u0026#34;); String ename = (String) enameField.get(employee); System.out.println(\u0026#34;enameï¼š\u0026#34;+ename); } catch (ClassNotFoundException e) { e.printStackTrace(); } catch (NoSuchMethodException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } catch (InstantiationException e) { e.printStackTrace(); } catch (InvocationTargetException e) { e.printStackTrace(); } catch (NoSuchFieldException e) { //æ²¡æœ‰æ‰¾åˆ°å¯¹åº”æˆå‘˜å˜é‡ e.printStackTrace(); } } } getDeclareç³»åˆ—æ–¹æ³• getDeclaredConstructor(s) | Method(s) | Field(s) è·å–å¯¹åº”å¯¹è±¡ getConstructor | Method | Field åªèƒ½è·å–publicå¯¹è±¡ è®¿é—®éä½œç”¨åŸŸå†…æ„é€ æ–¹æ³•ã€æ–¹æ³•ã€æˆå‘˜å˜é‡ã€ä¼šæŠ›å‡ºå¼‚å¸¸ ä½¿ç”¨æ¡ˆä¾‹ï¼š package com.imooc.reflect; import com.imooc.reflect.entity.Employee; import java.lang.reflect.Constructor; import java.lang.reflect.Field; import java.lang.reflect.InvocationTargetException; import java.lang.reflect.Method; /** * @author CubeMonkey * @create 2020-10-23 10:02 */ public class GetDeclareSample { public static void main(String[] args) { try { Class employeeClass = Class.forName(\u0026#34;com.imooc.reflect.entity.Employee\u0026#34;); Constructor constructor = employeeClass.getConstructor(Integer.class, String.class, Float.class, String.class); Employee employee = (Employee) constructor.newInstance(100, \u0026#34;æç£Š\u0026#34;, 3000f, \u0026#34;ç ”å‘éƒ¨\u0026#34;); Field[] fields = employeeClass.getDeclaredFields(); for (Field field : fields){ // System.out.println(field.getName()); if (field.getModifiers() == 1){//publicä¿®é¥° Object val = field.get(employee); System.out.println(val); }else if(field.getModifiers() == 2){//private String methodName = \u0026#34;get\u0026#34;+field.getName().substring(0, 1).toUpperCase() + field.getName().substring(1); Method getMethod = employeeClass.getMethod(methodName); Object ret = getMethod.invoke(employee); System.out.println(ret); } } } catch (ClassNotFoundException e) { e.printStackTrace(); } catch (InstantiationException e) { e.printStackTrace(); } catch (InvocationTargetException e) { e.printStackTrace(); } catch (NoSuchMethodException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } } } åå°„åœ¨é¡¹ç›®ä¸­çš„åº”ç”¨ï¼ˆI18Nï¼‰ I18N.javaæ¥å£\npackage com.imooc.i18n; /** * @author CubeMonkey * @create 2020-10-23 12:55 */ public interface I18N { public String say(); } Zhcn.javaç±»\npackage com.imooc.i18n; /** * @author CubeMonkey * @create 2020-10-23 12:56 */ public class Zhcn implements I18N{ @Override public String say() { return \u0026#34;ç”Ÿå‘½ä¸æ¯å¥‹æ–—ä¸æ­¢\u0026#34;; } } En.javaç±»\npackage com.imooc.i18n; /** * @author CubeMonkey * @create 2020-10-23 13:05 */ public class En implements I18N { @Override public String say() { return \u0026#34;Cease to the struggle and cease to the life\u0026#34;; } } config.properties\nlanguage=com.imooc.i18n.En Application.java\npackage com.imooc.i18n; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.IOException; import java.io.UnsupportedEncodingException; import java.net.URLDecoder; import java.util.Properties; /** * @author CubeMonkey * @create 2020-10-23 12:59 */ public class Application { public static void say(){ Properties properties = new Properties(); String configPath = Application.class.getResource(\u0026#34;/config.properties\u0026#34;).getPath(); try { configPath = new URLDecoder().decode(configPath, \u0026#34;utf-8\u0026#34;); properties.load(new FileInputStream(configPath)); String language = properties.getProperty(\u0026#34;language\u0026#34;); I18N i18n = (I18N) Class.forName(language).newInstance(); System.out.println(i18n.say()); } catch (UnsupportedEncodingException e) { e.printStackTrace(); } catch (FileNotFoundException e) { e.printStackTrace(); } catch (IOException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } catch (InstantiationException e) { e.printStackTrace(); } catch (ClassNotFoundException e) { e.printStackTrace(); } } public static void main(String[] args) { Application.say(); } } ","permalink":"https://rexhub.space/posts/back/java/reflect/","summary":"åå°„Reflect ä»€ä¹ˆæ˜¯åå°„ åå°„(Reflect)æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€è®¿é—®ç±»ä¸å¯¹è±¡çš„æŠ€æœ¯ åå°„æ˜¯JDK1.2ç‰ˆæœ¬åçš„é«˜çº§ç‰¹æ€§ï¼Œéš¶å±äºjava.lang.reflect å¤§å¤šæ˜¯Javaæ¡†æ¶éƒ½åŸºäºåå°„å®ç°å‚æ•°ã€åŠ¨æ€æ³¨å…¥ç­‰ç‰¹æ€§ åå°„çš„æ ¸å¿ƒç±» Classç±» Constructoræ„é€ æ–¹æ³•ç±» Methodæ–¹æ³•ç±» Fieldæˆå‘˜å˜é‡ç±» Classç±» Classæ˜¯JVMä¸­ä»£è¡¨\u0026quot;ç±»å’Œæ¥å£\u0026quot;ç±» Classå¯¹è±¡å…·ä½“åŒ…å«äº†æŸä¸ªç‰¹å®šç±»çš„ç»“æ„ä¿¡æ¯ é€šè¿‡Classå¯¹è±¡å¯è·å–å¯¹åº”ç±»çš„æ„é€ æ–¹æ³•/æ–¹æ³•/æˆå‘˜å˜é‡ Classæ ¸å¿ƒæ–¹æ³• æ–¹æ³• ç”¨é€” Class.forName() é™æ€æ–¹æ³•ï¼Œç”¨äºè·å–æŒ‡å®šClasså¯¹è±¡ classObj.newInstance() é€šè¿‡é»˜è®¤æ„é€ æ–¹æ³•åˆ›å»ºæ–°çš„å¯¹è±¡ classObj.getConstructor() è·å¾—æŒ‡å®šçš„publicä¿®é¥°æ„é€ æ–¹æ³•Constructå¯¹è±¡ classObj.getMethod() è·å–æŒ‡å®šçš„publicä¿®é¥°æ–¹æ³•Methodå¯¹è±¡ classObj.getField() è·å–æŒ‡å®šçš„publicä¿®é¥°æˆå‘˜å˜é‡çš„Fieldå¯¹è±¡ ä½¿ç”¨æ¡ˆä¾‹ï¼š Employee.java\npackage com.imooc.reflect.entity; /** * å‘˜å·¥å®ä½“ç±» * @author CubeMonkey * @create 2020-10-21 16:01 */ public class Employee { static{ System.out.println(\u0026#34;Employeeå·²è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å·²åˆå§‹åŒ–\u0026#34;); } private Integer eno; private String ename; private Float salary; private String dname; public Employee(){ System.out.println(\u0026#34;Employeeé»˜è®¤æ„é€ æ–¹æ³•å·²è¢«æ‰§è¡Œ\u0026#34;); } public Integer getEno() { return eno; } public void setEno(Integer eno) { this.","title":"Reflect"},{"content":"Emosé¡¹ç›®å­¦ä¹ è®°å½• å­¦ä¹ ç‚¹ï¼š åŠ å¯†ç®—æ³•\nè¿™é‡Œé‡‡ç”¨çš„æ˜¯IBMå¼€å‘çš„AESç®—æ³•ã€‚è¿™ç§å¯¹ç§°åŠ å¯†ç®—æ³•åœ¨åŠ å¯†å’Œè§£å¯†æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨ç›¸åŒçš„å¯†é’¥ã€‚ä¹Ÿå°±æ˜¯è¯´å¯†é’¥æ—¢å¯ä»¥ç”¨æ¥åŠ å¯†æ•°æ®ï¼Œä¹Ÿå¯ä»¥è§£å¯†æ•°æ®ã€‚å…³äºAESç®—æ³•çš„ä¼˜ç‚¹æˆ‘è¿™é‡Œä¸å±•å¼€è¯´æ˜äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±ç™¾åº¦æŸ¥é˜…èµ„æ–™ã€‚MySQLæ•°æ®åº“æä¾›äº†å†…ç½®çš„DESåŠ å¯†å’Œè§£å¯†çš„å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨å³å¯ã€‚åŠ å¯†çš„å‡½æ•°å«åšAES_ENCRPT()ï¼Œè§£å¯†çš„å‡½æ•°å«åšAES_DECRPT()\nâ€‹\tæ•°æ®åº“ï¼šç™»å½•sqlï¼Œè‹¥æŸ¥è¯¢è®°å½•ç»“æœåªæœ‰ä¸€æ¡ï¼Œå¯ä»¥åŠ limit 1åŠ å¿«æŸ¥è¯¢ä¸ªæ•°\n\u0026lt;select id=\u0026#34;login\u0026#34; parameterType=\u0026#34;com.example.emos.api.emos.model.form.LoginForm\u0026#34; resultType=\u0026#34;Integer\u0026#34;\u0026gt; SELECT id FROM tb_user WHERE username = #{username} AND password = HEX(AES_ENCRYPT(#{password}, #{username})) LIMIT 1; \u0026lt;/select\u0026gt; æ•°æ®åº“ï¼šæ•°æ®åº“æŸ¥è¯¢æ“ä½œçš„è¿”å›å€¼ç”¨å°è£…ç±»ï¼Œé˜²æ­¢ç»“æœä¸ºnullå€¼ä¸èƒ½èµ‹ç»™ä¸€èˆ¬æ•°æ®ç±»å‹ï¼›è‹¥æ˜¯å¢åˆ æ”¹è¿”å›ç»“æœè‚¯å®šä¸ºæ•°å­—ä¸”ä¸ä¸ºnullï¼Œè¡¨ç¤ºå½±å“çš„è®°å½•ä¸ªæ•°ï¼Œå¯ä»¥ç”¨ä¸€èˆ¬æ•°æ®ç±»å‹\næ•°æ®åº“ï¼šè¦ä¸è¦ç”¨MySQLæ–¹è¨€ï¼Ÿï¼Œå¯èƒ½ä¼šå­˜åœ¨å¯ç§»æ¤æ€§å·®\nåç«¯ï¼šä¸èƒ½éšæ„åˆ é™¤è®°å½•ï¼Œéœ€è¦æŸ¥è¯¢æœ‰æ²¡æœ‰ç›¸å…³çš„å¼•ç”¨\næ•°æ®åº“ï¼šå†™sqlçš„æ—¶å€™éœ€è¦æ³¨æ„çŠ¶æ€å­—æ®µ(status)\nåç«¯ï¼šåˆ†é¡µæŸ¥è¯¢çš„æ—¶å€™é™åˆ¶åˆ†é¡µçš„start(1, +âˆ)ï¼Œsize(10, 50)\næ•°æ®åº“ï¼šçµæ´»ä½¿ç”¨æ•°æ®åº“ä¸­çš„jsonå­—æ®µ\nåç«¯å·¥ä½œæµä¸­é‡‡ç”¨äº†QuartZå®šæ—¶å™¨å¼•èµ·ã€Activetiå¼•æ“\nä¸šåŠ¡ï¼šå®¡æ‰¹ä¼šè®®å‰éœ€æ³¨æ„ï¼š1.ç»“æŸæ—¶é—´å¿…é¡»å¤§äºå¼€å§‹æ—¶é—´ 2.ä¼šè®®å¼€å§‹æ—¶é—´ä¸èƒ½æ—©äºå½“å‰æ—¶é—´\nå‰ç«¯ï¼šå¯ç”¨day.jsè½¬æ¢æ—¥æœŸæ ¼å¼\næ•°æ®åº“ï¼šæ•°æ®ç±»å‹çš„æ•°æ®èŒƒå›´ã€\næ—¥æœŸæ ¼å¼ï¼š datetime: 8å­—èŠ‚\ntimestampï¼š4å­—èŠ‚ è¡¨ç¤ºèŒƒå›´æœ‰é™ï¼š~2038å¹´å°±æ»¡äº†\nç”˜ç‰¹å›¾ï¼šç”¨äºæè¿°ä»»åŠ¡\nå·¥ä½œæµï¼šé€šè¿‡å·¥ä½œæµæ¥æ§åˆ¶å®¡æ‰¹ç³»ç»Ÿ\nbugè§£å†³: ç§»é™¤springdoc-openapi-spring-boot-2-webmvcä¾èµ–ä¸­çš„jackson-dataformat-xmlï¼Œå¦åˆ™ä¼šä½¿controllerè¿”å›ç»“æœä¸ºxmlæ ¼å¼\né‡å¤æ–°å¢ç”¨æˆ·çš„æç¤ºä¸å‹å¥½\nä¼šè®®å®¤ä¸­ï¼Œåˆ é™¤æ¨¡å—çš„bug\n","permalink":"https://rexhub.space/posts/proj/emos/emos%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/","summary":"Emosé¡¹ç›®å­¦ä¹ è®°å½• å­¦ä¹ ç‚¹ï¼š åŠ å¯†ç®—æ³•\nè¿™é‡Œé‡‡ç”¨çš„æ˜¯IBMå¼€å‘çš„AESç®—æ³•ã€‚è¿™ç§å¯¹ç§°åŠ å¯†ç®—æ³•åœ¨åŠ å¯†å’Œè§£å¯†æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨ç›¸åŒçš„å¯†é’¥ã€‚ä¹Ÿå°±æ˜¯è¯´å¯†é’¥æ—¢å¯ä»¥ç”¨æ¥åŠ å¯†æ•°æ®ï¼Œä¹Ÿå¯ä»¥è§£å¯†æ•°æ®ã€‚å…³äºAESç®—æ³•çš„ä¼˜ç‚¹æˆ‘è¿™é‡Œä¸å±•å¼€è¯´æ˜äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±ç™¾åº¦æŸ¥é˜…èµ„æ–™ã€‚MySQLæ•°æ®åº“æä¾›äº†å†…ç½®çš„DESåŠ å¯†å’Œè§£å¯†çš„å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨å³å¯ã€‚åŠ å¯†çš„å‡½æ•°å«åšAES_ENCRPT()ï¼Œè§£å¯†çš„å‡½æ•°å«åšAES_DECRPT()\nâ€‹\tæ•°æ®åº“ï¼šç™»å½•sqlï¼Œè‹¥æŸ¥è¯¢è®°å½•ç»“æœåªæœ‰ä¸€æ¡ï¼Œå¯ä»¥åŠ limit 1åŠ å¿«æŸ¥è¯¢ä¸ªæ•°\n\u0026lt;select id=\u0026#34;login\u0026#34; parameterType=\u0026#34;com.example.emos.api.emos.model.form.LoginForm\u0026#34; resultType=\u0026#34;Integer\u0026#34;\u0026gt; SELECT id FROM tb_user WHERE username = #{username} AND password = HEX(AES_ENCRYPT(#{password}, #{username})) LIMIT 1; \u0026lt;/select\u0026gt; æ•°æ®åº“ï¼šæ•°æ®åº“æŸ¥è¯¢æ“ä½œçš„è¿”å›å€¼ç”¨å°è£…ç±»ï¼Œé˜²æ­¢ç»“æœä¸ºnullå€¼ä¸èƒ½èµ‹ç»™ä¸€èˆ¬æ•°æ®ç±»å‹ï¼›è‹¥æ˜¯å¢åˆ æ”¹è¿”å›ç»“æœè‚¯å®šä¸ºæ•°å­—ä¸”ä¸ä¸ºnullï¼Œè¡¨ç¤ºå½±å“çš„è®°å½•ä¸ªæ•°ï¼Œå¯ä»¥ç”¨ä¸€èˆ¬æ•°æ®ç±»å‹\næ•°æ®åº“ï¼šè¦ä¸è¦ç”¨MySQLæ–¹è¨€ï¼Ÿï¼Œå¯èƒ½ä¼šå­˜åœ¨å¯ç§»æ¤æ€§å·®\nåç«¯ï¼šä¸èƒ½éšæ„åˆ é™¤è®°å½•ï¼Œéœ€è¦æŸ¥è¯¢æœ‰æ²¡æœ‰ç›¸å…³çš„å¼•ç”¨\næ•°æ®åº“ï¼šå†™sqlçš„æ—¶å€™éœ€è¦æ³¨æ„çŠ¶æ€å­—æ®µ(status)\nåç«¯ï¼šåˆ†é¡µæŸ¥è¯¢çš„æ—¶å€™é™åˆ¶åˆ†é¡µçš„start(1, +âˆ)ï¼Œsize(10, 50)\næ•°æ®åº“ï¼šçµæ´»ä½¿ç”¨æ•°æ®åº“ä¸­çš„jsonå­—æ®µ\nåç«¯å·¥ä½œæµä¸­é‡‡ç”¨äº†QuartZå®šæ—¶å™¨å¼•èµ·ã€Activetiå¼•æ“\nä¸šåŠ¡ï¼šå®¡æ‰¹ä¼šè®®å‰éœ€æ³¨æ„ï¼š1.ç»“æŸæ—¶é—´å¿…é¡»å¤§äºå¼€å§‹æ—¶é—´ 2.ä¼šè®®å¼€å§‹æ—¶é—´ä¸èƒ½æ—©äºå½“å‰æ—¶é—´\nå‰ç«¯ï¼šå¯ç”¨day.jsè½¬æ¢æ—¥æœŸæ ¼å¼\næ•°æ®åº“ï¼šæ•°æ®ç±»å‹çš„æ•°æ®èŒƒå›´ã€\næ—¥æœŸæ ¼å¼ï¼š datetime: 8å­—èŠ‚\ntimestampï¼š4å­—èŠ‚ è¡¨ç¤ºèŒƒå›´æœ‰é™ï¼š~2038å¹´å°±æ»¡äº†\nç”˜ç‰¹å›¾ï¼šç”¨äºæè¿°ä»»åŠ¡\nå·¥ä½œæµï¼šé€šè¿‡å·¥ä½œæµæ¥æ§åˆ¶å®¡æ‰¹ç³»ç»Ÿ\nbugè§£å†³: ç§»é™¤springdoc-openapi-spring-boot-2-webmvcä¾èµ–ä¸­çš„jackson-dataformat-xmlï¼Œå¦åˆ™ä¼šä½¿controllerè¿”å›ç»“æœä¸ºxmlæ ¼å¼\né‡å¤æ–°å¢ç”¨æˆ·çš„æç¤ºä¸å‹å¥½\nä¼šè®®å®¤ä¸­ï¼Œåˆ é™¤æ¨¡å—çš„bug","title":"Emosé¡¹ç›®å­¦ä¹ è®°å½•"},{"content":"emosé¡¹ç›®å‡†å¤‡ é¡¹ç›®ç»“æ„ å·²æœ‰é¡¹ç›®ï¼š å·¥ä½œæµé¡¹ç›®(emos-workflow) å°ç¨‹åºé¡¹ç›®(emos-wx) å°ç¨‹åºåç«¯é¡¹ç›®(emos-wx-api) å¾…å¼€å‘é¡¹ç›® WebåŠå…¬ç³»ç»Ÿå‰ç«¯é¡¹ç›®(emos-vue) WebåŠå…¬ç³»ç»Ÿåç«¯é¡¹ç›®(emos-api) æ•°æ®è¡¨åˆ†ç±»ï¼š åºå· ç±»å‹ ç‰¹å¾ å¤‡æ³¨ 1 å·¥ä½œæµæ•°æ®è¡¨ ä»¥ act_ å¼€å¤´ å­˜å‚¨å·¥ä½œæµçš„å„é¡¹æ•°æ® 2 å®šæ—¶å™¨æ•°æ®è¡¨ ä»¥ qrtz_ å¼€å¤´ å­˜å‚¨QuartZå®šæ—¶å™¨æ•°æ® 3 ä¸šåŠ¡è¡¨ ä»¥ tb_ å¼€å¤´ ä¿å­˜ä¸šåŠ¡æ•°æ® 4 ç³»ç»Ÿè¡¨ ä»¥ sys_ å¼€å¤´ ä¿å­˜ç³»ç»Ÿé…ç½®ä¿¡æ¯ åç«¯ï¼š ä¾èµ–åº“ï¼š Lombok \u0026ndash; ç”Ÿæˆå¯¹è±¡çš„Get/Setæ–¹æ³•\nSpring Web \u0026ndash; springçš„webå¼€å‘æ¡†æ¶\nMyBatis Framework \u0026ndash; mybatisçš„å¼€å‘æ¡†æ¶\nMySQL Driver \u0026ndash; MySQLæ•°æ®åº“é©±åŠ¨\nSpring Data Redis(Access + Driver) \u0026ndash; Redisè¿æ¥+é©±åŠ¨å·¥å…·\nSpring Data MongoDB \u0026ndash; MongoDBè¿æ¥å·¥å…·\nSpring for RabbitMQ \u0026ndash; RabbitMQæ¶ˆæ¯é˜Ÿåˆ—è¿æ¥å·¥å…·\nWebSocket \u0026ndash; ç½‘ç»œå·¥å…·\nJava Mail Sender \u0026ndash; å‘é€é‚®ä»¶å·¥å…·\nJettty \u0026ndash; å› ä¸ºæœ¬é¡¹ç›®ä¸­ç”¨åˆ°äº†WebSocketï¼Œè€Œä¸”Jettyæœ¬èº«çš„IOå°±æ˜¯éé˜»å¡å¼çš„ï¼Œæ‰€ä»¥åœ¨é«˜å¹¶å‘çš„WebSocketç¯å¢ƒä¸‹ï¼ŒJettyæ¯”Tomcatæ›´åŠ é€‚åˆã€‚\ndruid \u0026ndash; mysqlæ•°æ®åº“è¿æ¥æ± \nspringdoc \u0026ndash; æ¥å£æ–‡æ¡£ç”Ÿæˆå·¥å…·\nSa-Token \u0026ndash; è½»é‡çº§æƒé™è®¤è¯æ¡†æ¶\n\u0026lt;!--æ ¸å¿ƒåº“--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;cn.dev33\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;sa-token-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.20.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--ç”¨Redisç¼“å­˜æˆæƒä¿¡æ¯--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;cn.dev33\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;sa-token-dao-redis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.20.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--æ³¨è§£å¼æƒé™éªŒè¯--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;cn.dev33\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;sa-token-spring-aop\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.20.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; é¡¹ç›®é…ç½® server: # jettyçº¿ç¨‹æ± é…ç½® jetty: threads: acceptors: 4 selectors: 8 port: 8090 servlet: context-path: /emos-api # æ–‡ä»¶ä¸Šä¼ å¤§å°é…ç½® multipart: max-request-size: 10MB max-file-size: 2MB spring: # æ•°æ®åº“è¿æ¥æ±  datasource: # æ•°æ®åº“æ± ç±»å‹ type: com.alibaba.druid.pool.DruidDataSource druid: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/emos?useUnicode=true\u0026amp;characterEncoding=UTF-8\u0026amp;serverTimezone=Asia/Shanghai\u0026amp;nullCatelogMeansCurrent=true username: root password: root # åˆå§‹è¿æ¥æ•°é‡ initial-size: 2 # æœ€å¤§æ´»è·ƒæ•° max-active: 4 # æœ€å°ç©ºé—²å€¼ min-idle: 4 # æœ€å¤§ç­‰å¾…å€¼ max-wait: 60000 # å»ºè®®é…ç½®ä¸ºtrueï¼Œä¸å½±å“æ€§èƒ½ï¼Œå¹¶ä¸”ä¿è¯å®‰å…¨æ€§ã€‚ç”³è¯·è¿æ¥çš„æ—¶å€™æ£€æµ‹ï¼Œå¦‚æœç©ºé—²æ—¶é—´å¤§äºtimeBetweenEvictionRunsMillisï¼Œæ‰§è¡ŒvalidationQueryæ£€æµ‹è¿æ¥æ˜¯å¦æœ‰æ•ˆã€‚ test-while-idle: true # ç”³è¯·è¿æ¥æ—¶æ‰§è¡ŒvalidationQueryæ£€æµ‹è¿æ¥æ˜¯å¦æœ‰æ•ˆï¼Œåšäº†è¿™ä¸ªé…ç½®ä¼šé™ä½æ€§èƒ½ã€‚ test-on-borrow: false # å½’è¿˜è¿æ¥æ—¶æ‰§è¡ŒvalidationQueryæ£€æµ‹è¿æ¥æ˜¯å¦æœ‰æ•ˆï¼Œåšäº†è¿™ä¸ªé…ç½®ä¼šé™ä½æ€§èƒ½ test-on-return: false # Redisé…ç½® redis: database: 0 host: localhost port: 6379 password: jedis: pool: # è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰ max-active: 1000 # è¿æ¥æ± ä¸­çš„æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰ max-wait: -1ms # è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥ max-idle: 16 # è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥ min-idle: 8 # MongoDBé…ç½® data: mongodb: host: localhost port: 27017 database: emos # èº«ä»½éªŒè¯ # authentication-database: admin # username: # password: sa-token: # tokenåç§° (åŒæ—¶ä¹Ÿæ˜¯cookieåç§°) token-name: token # tokenæœ‰æ•ˆæœŸï¼Œå•ä½s é»˜è®¤30å¤©, -1ä»£è¡¨æ°¸ä¸è¿‡æœŸ timeout: 2592000 # tokenä¸´æ—¶æœ‰æ•ˆæœŸ (æŒ‡å®šæ—¶é—´å†…æ— æ“ä½œå°±è§†ä¸ºtokenè¿‡æœŸ) å•ä½: ç§’ activity-timeout: -1 # æ˜¯å¦å…è®¸åŒä¸€è´¦å·å¹¶å‘ç™»å½• (ä¸ºtrueæ—¶å…è®¸ä¸€èµ·ç™»å½•, ä¸ºfalseæ—¶æ–°ç™»å½•æŒ¤æ‰æ—§ç™»å½•) allow-concurrent-login: true # åœ¨å¤šäººç™»å½•åŒä¸€è´¦å·æ—¶ï¼Œæ˜¯å¦å…±ç”¨ä¸€ä¸ªtoken (ä¸ºtrueæ—¶æ‰€æœ‰ç™»å½•å…±ç”¨ä¸€ä¸ªtoken, ä¸ºfalseæ—¶æ¯æ¬¡ç™»å½•æ–°å»ºä¸€ä¸ªtoken) is-share: false # tokené£æ ¼ token-style: uuid # é…ç½®MyBatis mybatis: # mapperæ–‡ä»¶åœ°å€æ˜ å°„ mapper-locations: classpath*:mapper/*.xml # é…ç½®xmlæ–‡ä»¶ä¸­resultTypeè¿”å›å€¼çš„åŒ…ä½ç½® type-aliases-package: com.example.emos.wx.db.pojo configuration: # å¼€å¯æ—¥å¿— log-impl: org.apache.ibatis.logging.stdout.StdOutImpl # å¼€å¯é©¼å³°è½¬æ¢ map-underscore-to-camel-case: true # æ—¥å¿—é…ç½® logging: # æ—¥å¿—çº§åˆ« level: root: info com.example.emos.wx.db.dao: warn pattern: # æ—¥å¿—æ ¼å¼ console: \u0026#34;%d{yyyy/MM/dd HH:mm:ss} %-5level %msg%n\u0026#34; # æ¥å£æ–‡æ¡£å·¥å…·é…ç½® springdoc: api-docs: # å¯ç”¨æ¥å£æ–‡æ¡£å·¥å…· enabled: true # é…ç½®æ¥å£æ–‡æ¡£url path: /doc-api.html # ç”¨swaggeræ¥ç¾åŒ–æ–‡æ¡£ swagger-ui: # é…ç½®swaggeræ¥å£æ–‡æ¡£url path: /swagger-ui.html disable-swagger-default-url: on å·¥å…·åº“ åºå· å·¥å…·åº“ å¤‡æ³¨ 1 hutool é€šç”¨å·¥å…·åº“ 2 commons-io æ–‡ä»¶IOé€šç”¨å·¥å…·åº“ 3 zxing ç”ŸæˆäºŒç»´ç å›¾ç‰‡ 4 httpcore HTTPçŠ¶æ€ç  åŸºç¡€é…ç½® ç»Ÿä¸€Webå“åº”ç»“æœ\npackage com.example.emos.api.common.dto; import lombok.Data; import org.apache.http.HttpStatus; import java.io.Serializable; import java.sql.ResultSet; /** * Description: ç»Ÿä¸€Webå“åº”ç»“æœ * * @author Rex * @date 2021-09-09 10:27 */ @Data public class Result\u0026lt;T\u0026gt; implements Serializable { private static final long serialVersionUID = 1L; /** * å“åº”ç  */ private Integer code; /** * å“åº”ä¿¡æ¯ */ private String msg; /** * å“åº”æ•°æ® */ private T data; public Result() { this.code = HttpStatus.SC_OK; this.msg = \u0026#34;success\u0026#34;; } public Result(String msg) { this(); this.msg = msg; } public Result(Integer code, String msg) { this.code = code; this.msg = msg; } public Result(Integer code, String msg, T data) { this(code, msg); this.data = data; } public static Result\u0026lt;Void\u0026gt; success(){ return new Result\u0026lt;\u0026gt;(); } public static Result\u0026lt;Void\u0026gt; success(String msg){ return new Result\u0026lt;\u0026gt;(msg); } public static \u0026lt;R\u0026gt;Result\u0026lt;R\u0026gt; success(R data){ Result\u0026lt;R\u0026gt; result = new Result\u0026lt;\u0026gt;(); result.setData(data); return result; } public static Result\u0026lt;Void\u0026gt; error(int code, String msg){ return new Result\u0026lt;\u0026gt;(code, msg); } public static Result\u0026lt;Void\u0026gt; error(String msg){ return error(HttpStatus.SC_INTERNAL_SERVER_ERROR, msg); } public static Result error(){ return error(HttpStatus.SC_INTERNAL_SERVER_ERROR, \u0026#34;æœªçŸ¥å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜\u0026#34;); } } æ•´åˆSpringDoc\npackage com.example.emos.api.config; import io.swagger.v3.oas.annotations.OpenAPIDefinition; import io.swagger.v3.oas.annotations.enums.SecuritySchemeType; import io.swagger.v3.oas.annotations.info.Info; import io.swagger.v3.oas.annotations.security.SecurityScheme; import org.springframework.context.annotation.Configuration; /** * Description: é…ç½®SpringDoc * * @author Rex * @date 2021-09-09 11:02 */ @Configuration @OpenAPIDefinition( info = @Info( title = \u0026#34;emos-api\u0026#34;, description = \u0026#34;Emosç®¡ç†ç³»ç»Ÿåç«¯Javaé¡¹ç›®\u0026#34;, version = \u0026#34;1.0\u0026#34; ) ) @SecurityScheme( name = \u0026#34;token\u0026#34;, type = SecuritySchemeType.HTTP, bearerFormat = \u0026#34;JWT\u0026#34;, scheme = \u0026#34;bearer\u0026#34; ) public class SpringDocConfig { } æ•´åˆæƒé™éªŒè¯å’Œæˆæƒ\nåœ¨com.example.emos.api.configåŒ…ä¸­åˆ›å»ºStpInterfaceImpl.javaç±»ï¼Œè¿™ä¸ªJavaç±»å°±æ˜¯Sa-Tokenæ¡†æ¶æ‹¦æˆªHTTPè¯·æ±‚ä¹‹åè°ƒç”¨çš„ç±»ã€‚åœ¨è¿™ä¸ªç±»ä¸­ï¼Œæˆ‘ä»¬ä¸€å…±è¦å£°æ˜ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«ç”¨æ¥æŸ¥è¯¢ç”¨æˆ·å®é™…çš„æƒé™å’Œè§’è‰²ã€‚ç„¶åSa-Tokenæ¡†æ¶çš„@SaCheckPermissionæˆ–è€…@SaCheckRoleæ³¨è§£ä¼šæ ¹æ®æŸ¥è¯¢å‡ºæ¥çš„æƒé™å’Œè§’è‰²ï¼Œè·Ÿæ³¨è§£è¦æ±‚çš„æƒé™æˆ–è€…è§’è‰²åšåŒ¹é…ã€‚\nTbUserDao.xml\n\u0026lt;select id=\u0026#34;searchUserPermissions\u0026#34; parameterType=\u0026#34;int\u0026#34; resultType=\u0026#34;String\u0026#34;\u0026gt; SELECT DISTINCT p.permission_name FROM tb_user u JOIN tb_role r ON JSON_CONTAINS(u.role, CAST(r.id AS CHAR)) JOIN tb_permission p ON JSON_CONTAINS(r.permissions, CAST(p.id AS CHAR)) WHERE u.id=#{userId} AND u.status=1; \u0026lt;/select\u0026gt; TbUserDao.java\n@Mapper public interface TbUserDao { â€¦â€¦ public Set\u0026lt;String\u0026gt; searchUserPermissions(int userId); } StpInterfaceImpl.java\npackage com.example.emos.api.config; import cn.dev33.satoken.stp.StpInterface; import com.example.emos.api.db.dao.TbUserDao; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Component; import java.util.ArrayList; import java.util.List; import java.util.Set; @Component public class StpInterfaceImpl implements StpInterface { @Autowired private TbUserDao userDao; /** * è¿”å›ä¸€ä¸ªç”¨æˆ·æ‰€æ‹¥æœ‰çš„æƒé™é›†åˆ */ @Override public List\u0026lt;String\u0026gt; getPermissionList(Object loginId, String loginKey) { int userId = Integer.parseInt(loginId.toString()); Set\u0026lt;String\u0026gt; permissions = userDao.searchUserPermissions(userId); ArrayList list = new ArrayList(); list.addAll(permissions); return list; } /** * è¿”å›ä¸€ä¸ªç”¨æˆ·æ‰€æ‹¥æœ‰çš„è§’è‰²æ ‡è¯†é›†åˆ */ @Override public List\u0026lt;String\u0026gt; getRoleList(Object loginId, String loginKey) { //å› ä¸ºæœ¬é¡¹ç›®ä¸éœ€è¦ç”¨åˆ°è§’è‰²åˆ¤å®šï¼Œæ‰€ä»¥è¿™é‡Œå°±è¿”å›ä¸€ä¸ªç©ºçš„ArrayListå¯¹è±¡ ArrayList\u0026lt;String\u0026gt; list = new ArrayList\u0026lt;String\u0026gt;(); return list; } } è·¨åŸŸé…ç½®\npackage com.example.emos.api.config; import org.springframework.context.annotation.Configuration; import org.springframework.web.servlet.config.annotation.CorsRegistry; import org.springframework.web.servlet.config.annotation.WebMvcConfigurer; /** * Description: è·¨åŸŸè¯·æ±‚é…ç½® * * @author Rex * @date 2021-09-09 12:55 */ @Configuration public class CorsConfig implements WebMvcConfigurer { @Override public void addCorsMappings(CorsRegistry registry) { registry.addMapping(\u0026#34;/**\u0026#34;) .allowedOriginPatterns(\u0026#34;*\u0026#34;) .allowCredentials(true) .allowedMethods(\u0026#34;GET\u0026#34;, \u0026#34;POST\u0026#34;, \u0026#34;DELETE\u0026#34;, \u0026#34;PUT\u0026#34;, \u0026#34;PATCH\u0026#34;) .maxAge(3600); } } å¼‚å¸¸\nè‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸\npackage com.example.emos.api.common.dto.exception; import lombok.Data; import lombok.EqualsAndHashCode; /** * Description: ä¸šåŠ¡å¼‚å¸¸ * * @author Rex * @date 2021-09-09 14:22 */ @EqualsAndHashCode(callSuper = true) @Data public class EmosException extends RuntimeException{ private String msg; private Integer code = 500; public EmosException(String msg){ super(msg); this.msg = msg; } public EmosException(String msg, Integer code){ super(msg); this.msg = msg; this.code = code; } } ç»Ÿä¸€å¼‚å¸¸å¤„ç†\npackage com.example.emos.api.config; import cn.dev33.satoken.exception.NotLoginException; import com.example.emos.api.common.dto.Result; import com.example.emos.api.common.exception.EmosException; import lombok.extern.slf4j.Slf4j; import org.springframework.http.HttpStatus; import org.springframework.web.bind.MethodArgumentNotValidException; import org.springframework.web.bind.annotation.ExceptionHandler; import org.springframework.web.bind.annotation.ResponseBody; import org.springframework.web.bind.annotation.ResponseStatus; import org.springframework.web.bind.annotation.RestControllerAdvice; /** * Description: ç»Ÿä¸€å¼‚å¸¸å¤„ç† * * @author Rex * @date 2021-09-09 14:26 */ @Slf4j @RestControllerAdvice public class GlobalExceptionHandler { /** * å¤„ç†å…¨å±€å¼‚å¸¸ä¿¡æ¯ * @param e å…¨å±€å¼‚å¸¸ * @return è¿”å›å¼‚å¸¸ä¿¡æ¯ */ @ResponseBody @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR) @ExceptionHandler(Exception.class) public Result\u0026lt;Void\u0026gt; exceptionHandler(Exception e){ log.error(\u0026#34;æ‰§è¡Œå¼‚å¸¸\u0026#34;, e); return Result.error(); } /** * å¤„ç†åç«¯éªŒè¯å¤±è´¥äº§ç”Ÿçš„å¼‚å¸¸ * @param e æ ¡éªŒå¼‚å¸¸ * @return è¿”å›å¼‚å¸¸ä¿¡æ¯ */ @ResponseBody @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR) @ExceptionHandler(MethodArgumentNotValidException.class) public Result\u0026lt;Void\u0026gt; methodArgumentNotValidExceptionHandler(MethodArgumentNotValidException e){ log.error(\u0026#34;æ‰§è¡Œå¼‚å¸¸\u0026#34;, e); return Result.error(e.getBindingResult().getFieldError().getDefaultMessage()); } /** * å¤„ç†ä¸šåŠ¡å¼‚å¸¸ * @param e ä¸šåŠ¡å¼‚å¸¸ * @return è¿”å›å¼‚å¸¸ä¿¡æ¯ */ @ResponseBody @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR) @ExceptionHandler(EmosException.class) public Result\u0026lt;Void\u0026gt; emosExceptionHandler(EmosException e){ log.error(\u0026#34;æ‰§è¡Œå¼‚å¸¸\u0026#34;, e); return Result.error(e.getMsg()); } /** * å¤„ç†æœªç™»å½•å¼‚å¸¸ * @param e æœªç™»å½•å¼‚å¸¸ * @return è¿”å›å¼‚å¸¸ä¿¡æ¯ */ @ResponseBody @ResponseStatus(HttpStatus.UNAUTHORIZED) @ExceptionHandler(NotLoginException.class) public Result\u0026lt;Void\u0026gt; unLoginHandler(NotLoginException e){ return Result.error(e.getMessage()); } } å¼€å¯Javaå¼‚æ­¥æ‰§è¡Œ\nä¸ºä»€ä¹ˆè¦ç»™Javaè¯­è¨€å¢æ·»å¼‚æ­¥æ‰§è¡Œï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåœ¨ä¸€ä¸ªä¸šåŠ¡æµç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä¼šæœ‰ä¸€äº›è€—è´¹æ—¶é—´çš„åˆ†æ”¯ä»»åŠ¡ï¼Œå¦‚æœæŠŠè¿™äº›çç¢ä¸”ä¸é‡è¦çš„ä»»åŠ¡ç”¨å¼‚æ­¥æ¥æ‰§è¡Œï¼Œé‚£ä¹ˆå°±å¯ä»¥å‡è½»å½“å‰çº¿ç¨‹çš„æ‰§è¡Œå‹åŠ›ã€‚\nä¸¾ä¸ªä¾‹å­å§ï¼Œä¾‹å¦‚æœ‰ä¸ªç”µå•†ç½‘ç«™ä¸ºäº†å¸å¼•æ–°ç”¨æˆ·æ³¨å†Œï¼Œç»™å‡ºäº†èµ é€ä¸€å¹´ä¼˜é…·ä¼šå‘˜çš„ä¼˜æƒ ã€‚å¦‚æœæˆ‘ä»¬é‡‡ç”¨åŒæ­¥çš„æ‰§è¡Œæ–¹å¼ï¼Œç”¨æˆ·å¸æˆ·å¼€é€šä¹‹åï¼Œå½“å‰çº¿ç¨‹è¿˜è¦è°ƒç”¨ä¼˜é…·ç³»ç»Ÿçš„æ¥å£ï¼Œå¼€é€šä¼šå‘˜å¸æˆ·ï¼Œå¹¶ä¸”å……å€¼ä¸€å¹´ä¼šå‘˜ã€‚æ•´ä¸ªæµç¨‹åŠ èµ·æ¥è¿˜æ˜¯æŒºè€—è´¹æ—¶é—´çš„ï¼Œè®©æ–°æ³¨å†Œç”¨æˆ·ç­‰å¾…ä¸€ä¸¤åˆ†é’Ÿæ‰èƒ½æ”¶åˆ°æ³¨å†ŒæˆåŠŸçš„é€šçŸ¥ï¼Œç”¨æˆ·å¿ƒé‡Œè‚¯å®šä¼šæ€€ç–‘ï¼šè¿™æ˜¯ä»€ä¹ˆç ´ç”µå•†ç½‘ç«™ï¼Œæ³¨å†Œä¸ªä¼šå‘˜å°±è¦å¥½å‡ åˆ†é’Ÿï¼Œæˆ‘è¦æ˜¯ä¹°ä¸œè¥¿ä¸å¾—å¡æˆç¿”å•Šã€‚\nå¦‚æœæˆ‘ä»¬é‡‡å–å¼‚æ­¥æ‰§è¡Œçš„æ–¹å¼ï¼Œç”µå•†å¸æˆ·å¼€é€šä¹‹åï¼Œæˆ‘ä»¬æŠŠå¼€é€šä¼˜é…·ä¼šå‘˜çš„ä»»åŠ¡äº¤ç»™å…¶ä»–çº¿ç¨‹å»åšï¼Œå½“å‰çº¿ç¨‹å°±ä¸ç”¨è´Ÿè´£äº†ï¼Œç›´æ¥è¿”å›ç»™ç”¨æˆ·æ³¨å†ŒæˆåŠŸå³å¯ã€‚å½“å…¶ä»–çº¿ç¨‹å¼€é€šä¼˜é…·ä¼šå‘˜ä¹‹åï¼Œç»™ç”¨æˆ·çš„æ‰‹æœºå‘ä¸€ä¸ªçŸ­ä¿¡é€šçŸ¥å³å¯ã€‚ä½ çœ‹ï¼Œé‡‡ç”¨äº†å¼‚æ­¥æ‰§è¡Œä»¥åï¼Œæ–°ç”¨æˆ·æ³¨å†Œçš„ä½“éªŒæ›´å¥½äº†ã€‚å…¶å®æˆ‘è¿™é‡Œè¯´çš„å¼‚æ­¥æ‰§è¡Œå°±æ˜¯ç”±SpringBootè‡ªåŠ¨æŠŠä»»åŠ¡äº¤ç»™çº¿ç¨‹æ± ä¸­æŸä¸ªçº¿ç¨‹å»æ‰§è¡Œã€‚ä½ ä»¥å‰è‡ªå·±åˆ›å»ºçº¿ç¨‹åˆ†é…ä»»åŠ¡çš„æ–¹å¼ï¼Œä¹Ÿå±äºå¼‚æ­¥æ‰§è¡Œã€‚åªä¸è¿‡æœ‰äº†SpringBootä¹‹åï¼Œä»»åŠ¡çš„åˆ†é…æ›´åŠ è‡ªåŠ¨äº†ã€‚\nå…³äºç”µå•†ç½‘ç«™æ–°ç”¨æˆ·æ³¨å†Œçš„ä¾‹å­ï¼Œæœ‰çš„åŒå­¦å¯èƒ½è¿˜æœ‰ç–‘é—®ï¼šä¸ç”¨å¼‚æ­¥æ‰§è¡Œï¼Œæˆ‘ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥åˆ†é…ä»»åŠ¡æ˜¯ä¸æ˜¯ä¹Ÿè¡Œï¼Ÿå½“ç„¶æ˜¯å¯è¡Œçš„ã€‚åˆšæ‰æˆ‘è¯´çš„å¼‚æ­¥æ‰§è¡Œé™·äºåŒä¸€ä¸ªç³»ç»Ÿä¸­ï¼ŒæŠŠåˆ†æ”¯ä»»åŠ¡äº¤ç»™å…¶ä»–çº¿ç¨‹å»æ‰§è¡Œã€‚å¦‚æœä½ ç”¨çš„æ˜¯åˆ†å¸ƒå¼æ¶æ„ï¼ŒAç³»ç»Ÿæƒ³è¦æŠŠåˆ†æ”¯ä»»åŠ¡åˆ†é…ä¸ªBç³»ç»Ÿå»æ‰§è¡Œï¼Œé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—æ¥åˆ†é…ä»»åŠ¡å®Œå…¨æ˜¯å¯è¡Œçš„ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸€ç§å¼‚æ­¥æ‰§è¡Œçš„æ–¹å¼ã€‚\nåˆ›å»ºçº¿ç¨‹æ± ï¼š\npackage com.example.emos.api.config; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.core.task.AsyncTaskExecutor; import org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor; import java.util.concurrent.ThreadPoolExecutor; /** * Description: çº¿ç¨‹æ± é…ç½®ç±» * * @author Rex * @date 2021-09-09 14:46 */ @Configuration public class ThreadPoolConfig { @Bean(\u0026#34;AsyncTaskExecutor\u0026#34;) public AsyncTaskExecutor taskExecutor(){ ThreadPoolTaskExecutor executorThread = new ThreadPoolTaskExecutor(); // è®¾ç½®æ ¸å¿ƒçº¿ç¨‹æ•° executorThread.setCorePoolSize(8); // è®¾ç½®æœ€å¤§çº¿ç¨‹æ•° executorThread.setMaxPoolSize(16); // è®¾ç½®é˜Ÿåˆ—å®¹é‡ executorThread.setQueueCapacity(32); // è®¾ç½®çº¿ç¨‹æ´»è·ƒæ—¶é—´(ç§’) executorThread.setKeepAliveSeconds(60); // è®¾ç½®é»˜è®¤çº¿ç¨‹åç§° executorThread.setThreadNamePrefix(\u0026#34;task-\u0026#34;); // è®¾ç½®æ‹’ç»ç­–ç•¥ executorThread.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy()); executorThread.initialize(); return executorThread; } } å¼€å¯SpringBootå¼‚æ­¥æ‰§è¡Œ\nâ€‹\tæˆ‘ä»¬åœ¨é¡¹ç›®çš„ä¸»ç±»EmosApiApplication.javaå£°æ˜ä¸Šé¢åŠ ä¸Š@EnableAsyncæ³¨è§£å³å¯ã€‚ç­‰å°†æ¥æˆ‘ä»¬å‘é€é‚®ä»¶çš„æ—¶å€™ï¼Œå†å»ç¼–å†™ä»»åŠ¡ç±»ã€‚\né¢„é˜²XSSæ”»å‡»\né˜²å¾¡XSSæ”»å‡»çš„åŠæ³•å¾ˆç®€å•ï¼Œé‚£å°±æ˜¯å¯¹æ‰€æœ‰ç”¨æˆ·çš„æ•°æ®å…ˆåšè½¬ä¹‰å¤„ç†ï¼Œç„¶åå†ä¿å­˜åˆ°æ•°æ®åº“é‡Œé¢ã€‚è½¬ä¹‰ä¹‹åçš„ä¿¡æ¯ï¼Œå°†æ¥è¢«åŠ è½½åˆ°ç½‘é¡µä¸Šé¢å°±ä¸§å¤±äº†ä½œä¸ºè„šæœ¬æ‰§è¡Œçš„èƒ½åŠ›ã€‚æ¯”å¦‚è¯´ä¸Šé¢æ–‡æœ¬æ¡†é‡Œé¢çš„è„šæœ¬ï¼Œç»è¿‡è½¬ä¹‰ä¹‹åå°±å˜æˆäº†\u0026lt;script\u0026gt;alert(\u0026quot;HelloWorld\u0026quot;)\u0026lt;/script\u0026gt;è¿™ä¸ªæ ·å­ã€‚å°±æ‹¿\u0026lt;script\u0026gt;æ¥è¯´å§ï¼Œå®ƒä¼šè¢«æ¸²æŸ“æˆ\u0026lt;script\u0026gt;å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯å½“åšè„šæœ¬æ ‡ç­¾æ¥æ‰§è¡Œã€‚\nå®ç°XSSå†…å®¹è½¬ä¹‰\npackage com.example.emos.api.config.xss; import cn.hutool.core.util.StrUtil; import cn.hutool.http.HtmlUtil; import cn.hutool.json.JSONUtil; import javax.servlet.ReadListener; import javax.servlet.ServletInputStream; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletRequestWrapper; import java.io.BufferedReader; import java.io.ByteArrayInputStream; import java.io.IOException; import java.io.InputStreamReader; import java.nio.charset.StandardCharsets; import java.util.LinkedHashMap; import java.util.Map; /** * Description: httpServletRequestè¯·æ±‚è½¬ä¹‰å°è£…ç±» * è½¬ä¹‰è¯·æ±‚è¿”å›çš„ç»“æœ * @author Rex * @date 2021-09-09 15:36 */ public class XssHttpSevletRequestWrapper extends HttpServletRequestWrapper { public XssHttpSevletRequestWrapper(HttpServletRequest request) { super(request); } @Override public String getParameter(String name) { String value = super.getParameter(name); if (!StrUtil.hasEmpty(value)){ value = HtmlUtil.cleanHtmlTag(value); } return value; } @Override public String[] getParameterValues(String name) { String[] values = super.getParameterValues(name); if (values != null) { for (int i = 0; i \u0026lt; values.length; i++) { String value = values[i]; if (!StrUtil.hasEmpty(value)){ value = HtmlUtil.cleanHtmlTag(value); } values[i] = value; } } return values; } @Override public Map\u0026lt;String, String[]\u0026gt; getParameterMap() { Map\u0026lt;String, String[]\u0026gt; parameterMap = super.getParameterMap(); LinkedHashMap\u0026lt;String, String[]\u0026gt; map = new LinkedHashMap\u0026lt;\u0026gt;(); if (parameterMap != null) { for (String key : parameterMap.keySet()) { String[] values = parameterMap.get(key); for (int i = 0; i \u0026lt; values.length; i++) { String value = values[i]; if (!StrUtil.hasEmpty(value)){ value = HtmlUtil.cleanHtmlTag(value); } values[i] = value; } map.put(key, values); } } return map; } @Override public String getHeader(String name) { String value = super.getHeader(name); if (!StrUtil.hasEmpty(value)){ value = HtmlUtil.cleanHtmlTag(value); } return value; } @Override public ServletInputStream getInputStream() throws IOException { ServletInputStream in = super.getInputStream(); InputStreamReader reader = new InputStreamReader(in, StandardCharsets.UTF_8); BufferedReader buffer = new BufferedReader(reader); StringBuilder body = new StringBuilder(); String line = buffer.readLine(); while (line != null){ body.append(line); line = buffer.readLine(); } buffer.close(); reader.close(); in.close(); Map\u0026lt;String, Object\u0026gt; map = JSONUtil.parseObj(body.toString()); Map\u0026lt;String, Object\u0026gt; result = new LinkedHashMap\u0026lt;\u0026gt;(); for (String key : map.keySet()) { Object value = map.get(key); if (value instanceof String){ if (!StrUtil.hasEmpty(value.toString())){ result.put(key, HtmlUtil.cleanHtmlTag(value.toString())); } }else { result.put(key, value); } } String json = JSONUtil.toJsonStr(result); ByteArrayInputStream bain = new ByteArrayInputStream(json.getBytes(StandardCharsets.UTF_8)); return new ServletInputStream() { @Override public boolean isFinished() { return false; } @Override public boolean isReady() { return false; } @Override public void setReadListener(ReadListener readListener) { } @Override public int read() throws IOException { return bain.read(); } }; } } è¿‡æ»¤è¯·æ±‚\npackage com.example.emos.api.config.xss; import javax.servlet.*; import javax.servlet.http.HttpServletRequest; import java.io.IOException; /** * Description: xssè¿‡æ»¤å™¨ * æ‹¦æˆªæ‰€æœ‰çš„HTTPè¯·æ±‚ï¼Œ * ç„¶åè°ƒç”¨ä¸Šé¢åˆ›å»ºçš„XssHttpServletRequestWrapperç±» * * @author Rex * @date 2021-09-09 16:06 */ public class XssFilter implements Filter { @Override public void init(FilterConfig filterConfig) throws ServletException { } @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { HttpServletRequest request = (HttpServletRequest) servletRequest; XssHttpSevletRequestWrapper wrapper = new XssHttpSevletRequestWrapper(request); filterChain.doFilter(wrapper, servletResponse); } @Override public void destroy() { } } è‡ªå®šä¹‰åˆ†é¡µå¯¹è±¡\npackage com.example.emos.api.common.dto; import java.io.Serializable; import java.util.List; /** * Description: è‡ªå®šä¹‰åˆ†é¡µ * * @author Rex * @date 2021-09-09 16:20 */ public class Pageination\u0026lt;T\u0026gt; implements Serializable { private static final long serialVersionUID = 1L; /** * æ€»è®°å½•æ•° */ private Long totalCount; /** * æ¯é¡µè®°å½•æ•° */ private Integer pageSize; /** * æ€»é¡µæ•° */ private Integer totalPage; /** * å½“å‰é¡µæ•° */ private Integer pageIndex; /** * åˆ—è¡¨æ•°æ® */ private List\u0026lt;T\u0026gt; list; public Pageination(List\u0026lt;T\u0026gt; list, Long totalCount, Integer pageIndex, Integer pageSize){ this.list = list; this.totalCount = totalCount; this.pageSize = pageSize; this.pageIndex = pageIndex; this.totalPage = (int) Math.ceil((double) totalCount / pageSize); } } ç”¨MybatixXæ’ä»¶è‡ªåŠ¨ç”Ÿæˆpojoã€daoã€mapper\nè‡ªå®šä¹‰æ¨¡æ¿\n.meta.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34; ?\u0026gt; \u0026lt;templates\u0026gt; \u0026lt;template\u0026gt; \u0026lt;property name=\u0026#34;configName\u0026#34; value=\u0026#34;domain\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;configFile\u0026#34; value=\u0026#34;domain.ftl\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;fileName\u0026#34; value=\u0026#34;${domain.fileName}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;suffix\u0026#34; value=\u0026#34;.java\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;packageName\u0026#34; value=\u0026#34;${domain.basePackage}.domain\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;encoding\u0026#34; value=\u0026#34;${domain.encoding}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;basePath\u0026#34; value=\u0026#34;${domain.basePath}\u0026#34;/\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;template\u0026gt; \u0026lt;property name=\u0026#34;configName\u0026#34; value=\u0026#34;mapperInterface\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;configFile\u0026#34; value=\u0026#34;mapperInterface.ftl\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;fileName\u0026#34; value=\u0026#34;${domain.fileName}Dao\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;suffix\u0026#34; value=\u0026#34;.java\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;packageName\u0026#34; value=\u0026#34;${domain.basePackage}.dao\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;encoding\u0026#34; value=\u0026#34;${domain.encoding}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;basePath\u0026#34; value=\u0026#34;${domain.basePath}\u0026#34;/\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;template\u0026gt; \u0026lt;property name=\u0026#34;configName\u0026#34; value=\u0026#34;mapperXml\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;configFile\u0026#34; value=\u0026#34;mapperXml.ftl\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;fileName\u0026#34; value=\u0026#34;${domain.fileName}Dao\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;suffix\u0026#34; value=\u0026#34;.xml\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;packageName\u0026#34; value=\u0026#34;mapper\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;encoding\u0026#34; value=\u0026#34;${domain.encoding}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;basePath\u0026#34; value=\u0026#34;src/main/resources\u0026#34;/\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;/templates\u0026gt; domain.ftl\npackage ${domain.packageName}; import lombok.Data; import javax.validation.constraints.NotBlank; import javax.validation.constraints.Size; import javax.validation.constraints.NotNull; import java.io.Serializable; \u0026lt;#list tableClass.importList as fieldType\u0026gt;${\u0026#34;\\n\u0026#34;}import ${fieldType};\u0026lt;/#list\u0026gt; /** * Description: ${tableClass.remark!} * * @TableName ${tableClass.tableName} * @author Rex */ @Data public class ${tableClass.shortClassName} implements Serializable { \u0026lt;#list tableClass.allFields as field\u0026gt; /** * ${field.remark!} */\u0026lt;#if !field.nullable || field.jdbcType==\u0026#34;VARCHAR\u0026#34;\u0026gt;${\u0026#34;\\n \u0026#34;}\u0026lt;/#if\u0026gt;\u0026lt;#if !field.nullable\u0026gt;\u0026lt;#if field.jdbcType==\u0026#34;VARCHAR\u0026#34;\u0026gt;@NotBlank(message=\u0026#34;[${field.remark!}]ä¸èƒ½ä¸ºç©º\u0026#34;)\u0026lt;#else\u0026gt;@NotNull(message=\u0026#34;[${field.remark!}]ä¸èƒ½ä¸ºç©º\u0026#34;)\u0026lt;/#if\u0026gt;\u0026lt;/#if\u0026gt;\u0026lt;#if field.jdbcType==\u0026#34;VARCHAR\u0026#34;\u0026gt;\u0026lt;#if !field.nullable\u0026gt;${\u0026#34;\\n \u0026#34;}\u0026lt;/#if\u0026gt;@Size(max= ${field.columnLength?c},message=\u0026#34;ç¼–ç é•¿åº¦ä¸èƒ½è¶…è¿‡${field.columnLength?c}\u0026#34;)\u0026lt;/#if\u0026gt; private ${field.shortTypeName} ${field.fieldName}; \u0026lt;/#list\u0026gt; } mapperInterface.ftl\npackage ${mapperInterface.packageName}; import ${tableClass.fullClassName}; import org.apache.ibatis.annotations.Mapper; /** * Description: TODO * * @author Rex */ @Mapper public interface ${mapperInterface.fileName} { /** * æ ¹æ®ä¸»é”®ç¼–å·åˆ é™¤ç”¨æˆ·ä¿¡æ¯ * @param id ä¸»é”®ç¼–å· * @return å½±å“è®°å½•æ•° */ int deleteByPrimaryKey(Long id); /** * æ’å…¥ä¸€æ¡è®°å½• * @param record å¾…æ’å…¥çš„è®°å½• * @return å½±å“è®°å½•æ•° */ int insert(${tableClass.shortClassName} record); /** * æ’å…¥æŒ‡å®šå­—æ®µï¼ŒæœªæŒ‡å®šçš„ç”¨é»˜è®¤å€¼ * @param record å¾…æ’å…¥çš„è®°å½• * @return å½±å“è®°å½•æ•° */ int insertSelective(${tableClass.shortClassName} record); /** * æ ¹æ®ä¸»é”®æŸ¥è¯¢è®°å½• * @param id ä¸»é”®ç¼–å· * @return è®°å½•å¯¹è±¡ */ ${tableClass.shortClassName} selectByPrimaryKey(Long id); /** * æ ¹æ®ä¸»é”®æ›´æ–°å­—æ®µï¼ˆä¸åŒ…æ‹¬nullï¼‰ * @param record å¾…æ›´æ–°çš„è®°å½• * @return å½±å“è®°å½•æ•° */ int updateByPrimaryKeySelective(${tableClass.shortClassName} record); /** * æ ¹æ®ä¸»é”®æ›´æ–°å­—æ®µï¼ˆåŒ…æ‹¬nullï¼‰ * @param record å¾…æ›´æ–°çš„è®°å½• * @return å½±å“è®°å½•æ•° */ int updateByPrimaryKey(${tableClass.shortClassName} record); } mapperXml.ftl\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;${mapperInterface.packageName}.${baseInfo.fileName}\u0026#34;\u0026gt; \u0026lt;resultMap id=\u0026#34;BaseResultMap\u0026#34; type=\u0026#34;${tableClass.fullClassName}\u0026#34;\u0026gt; \u0026lt;#list tableClass.pkFields as field\u0026gt; \u0026lt;id property=\u0026#34;${field.fieldName}\u0026#34; column=\u0026#34;${field.columnName}\u0026#34; jdbcType=\u0026#34;${field.jdbcType}\u0026#34;/\u0026gt; \u0026lt;/#list\u0026gt; \u0026lt;#list tableClass.baseFields as field\u0026gt; \u0026lt;result property=\u0026#34;${field.fieldName}\u0026#34; column=\u0026#34;${field.columnName}\u0026#34; jdbcType=\u0026#34;${field.jdbcType}\u0026#34;/\u0026gt; \u0026lt;/#list\u0026gt; \u0026lt;/resultMap\u0026gt; \u0026lt;sql id=\u0026#34;Base_Column_List\u0026#34;\u0026gt; \u0026lt;#list tableClass.allFields as field\u0026gt;${field.columnName}\u0026lt;#sep\u0026gt;,\u0026lt;#if field_index%3==2\u0026gt;${\u0026#34;\\n \u0026#34;}\u0026lt;/#if\u0026gt;\u0026lt;/#list\u0026gt; \u0026lt;/sql\u0026gt; \u0026lt;select id=\u0026#34;selectByPrimaryKey\u0026#34; parameterType=\u0026#34;java.lang.Long\u0026#34; resultMap=\u0026#34;BaseResultMap\u0026#34;\u0026gt; select \u0026lt;include refid=\u0026#34;Base_Column_List\u0026#34; /\u0026gt; from ${tableClass.tableName} where \u0026lt;#list tableClass.pkFields as field\u0026gt; ${field.columnName} = ${\u0026#39;#\u0026#39;}{${field.fieldName},jdbcType=${field.jdbcType}} \u0026lt;#if field_has_next\u0026gt;AND\u0026lt;/#if\u0026gt;\u0026lt;/#list\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;delete id=\u0026#34;deleteByPrimaryKey\u0026#34; parameterType=\u0026#34;java.lang.Long\u0026#34;\u0026gt; delete from ${tableClass.tableName} where \u0026lt;#list tableClass.pkFields as field\u0026gt; ${field.columnName} = ${\u0026#39;#\u0026#39;}{${field.fieldName},jdbcType=${field.jdbcType}} \u0026lt;#if field_has_next\u0026gt;AND\u0026lt;/#if\u0026gt;\u0026lt;/#list\u0026gt; \u0026lt;/delete\u0026gt; \u0026lt;insert id=\u0026#34;insert\u0026#34;\u0026lt;#if (tableClass.pkFields?size==1)\u0026gt; keyColumn=\u0026#34;${tableClass.pkFields[0].columnName}\u0026#34; keyProperty=\u0026#34;${tableClass.pkFields[0].fieldName}\u0026#34; parameterType=\u0026#34;${tableClass.fullClassName}\u0026#34; useGeneratedKeys=\u0026#34;true\u0026#34;\u0026lt;/#if\u0026gt;\u0026gt; insert into ${tableClass.tableName} ( \u0026lt;#list tableClass.allFields as field\u0026gt;${field.columnName}\u0026lt;#if field_index%3==2\u0026gt;${\u0026#34;\\n \u0026#34;}\u0026lt;/#if\u0026gt;\u0026lt;#sep\u0026gt;,\u0026lt;/#list\u0026gt;) values (\u0026lt;#list tableClass.allFields as field\u0026gt;${\u0026#39;#\u0026#39;}{${field.fieldName},jdbcType=${field.jdbcType}}\u0026lt;#if field_index%3==2\u0026gt;${\u0026#34;\\n \u0026#34;}\u0026lt;/#if\u0026gt;\u0026lt;#sep\u0026gt;,\u0026lt;/#list\u0026gt;) \u0026lt;/insert\u0026gt; \u0026lt;insert id=\u0026#34;insertSelective\u0026#34;\u0026lt;#if (tableClass.pkFields?size==1)\u0026gt; keyColumn=\u0026#34;${tableClass.pkFields[0].columnName}\u0026#34; keyProperty=\u0026#34;${tableClass.pkFields[0].fieldName}\u0026#34; parameterType=\u0026#34;${tableClass.fullClassName}\u0026#34; useGeneratedKeys=\u0026#34;true\u0026#34;\u0026lt;/#if\u0026gt;\u0026gt; insert into ${tableClass.tableName} \u0026lt;trim prefix=\u0026#34;(\u0026#34; suffix=\u0026#34;)\u0026#34; suffixOverrides=\u0026#34;,\u0026#34;\u0026gt; \u0026lt;#list tableClass.allFields as field\u0026gt; \u0026lt;if test=\u0026#34;${field.fieldName} != null\u0026#34;\u0026gt;${field.fieldName},\u0026lt;/if\u0026gt; \u0026lt;/#list\u0026gt; \u0026lt;/trim\u0026gt; \u0026lt;trim prefix=\u0026#34;values (\u0026#34; suffix=\u0026#34;)\u0026#34; suffixOverrides=\u0026#34;,\u0026#34;\u0026gt; \u0026lt;#list tableClass.allFields as field\u0026gt; \u0026lt;if test=\u0026#34;${field.fieldName} != null\u0026#34;\u0026gt;${field.columnName} = ${\u0026#39;#\u0026#39;}{${field.fieldName},jdbcType=${field.jdbcType}},\u0026lt;/if\u0026gt; \u0026lt;/#list\u0026gt; \u0026lt;/trim\u0026gt; \u0026lt;/insert\u0026gt; \u0026lt;update id=\u0026#34;updateByPrimaryKeySelective\u0026#34; parameterType=\u0026#34;${tableClass.fullClassName}\u0026#34;\u0026gt; update ${tableClass.tableName} \u0026lt;set\u0026gt; \u0026lt;#list tableClass.baseBlobFields as field\u0026gt; \u0026lt;if test=\u0026#34;${field.fieldName} != null\u0026#34;\u0026gt; ${field.columnName} = ${\u0026#39;#\u0026#39;}{${field.fieldName},jdbcType=${field.jdbcType}}, \u0026lt;/if\u0026gt; \u0026lt;/#list\u0026gt; \u0026lt;/set\u0026gt; where \u0026lt;#list tableClass.pkFields as field\u0026gt; ${field.columnName} = ${\u0026#39;#\u0026#39;}{${field.fieldName},jdbcType=${field.jdbcType}} \u0026lt;#if field_has_next\u0026gt;AND\u0026lt;/#if\u0026gt;\u0026lt;/#list\u0026gt; \u0026lt;/update\u0026gt; \u0026lt;update id=\u0026#34;updateByPrimaryKey\u0026#34; parameterType=\u0026#34;${tableClass.fullClassName}\u0026#34;\u0026gt; update ${tableClass.tableName} set \u0026lt;#list tableClass.baseBlobFields as field\u0026gt; ${field.columnName} = ${\u0026#39;#\u0026#39;}{${field.fieldName},jdbcType=${field.jdbcType}}\u0026lt;#sep\u0026gt;,\u0026lt;/#list\u0026gt; where \u0026lt;#list tableClass.pkFields as field\u0026gt; ${field.columnName} = ${\u0026#39;#\u0026#39;}{${field.fieldName},jdbcType=${field.jdbcType}} \u0026lt;#if field_has_next\u0026gt;AND\u0026lt;/#if\u0026gt;\u0026lt;/#list\u0026gt; \u0026lt;/update\u0026gt; \u0026lt;/mapper\u0026gt; é…ç½®\n","permalink":"https://rexhub.space/posts/proj/emos/emos%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/","summary":"emosé¡¹ç›®å‡†å¤‡ é¡¹ç›®ç»“æ„ å·²æœ‰é¡¹ç›®ï¼š å·¥ä½œæµé¡¹ç›®(emos-workflow) å°ç¨‹åºé¡¹ç›®(emos-wx) å°ç¨‹åºåç«¯é¡¹ç›®(emos-wx-api) å¾…å¼€å‘é¡¹ç›® WebåŠå…¬ç³»ç»Ÿå‰ç«¯é¡¹ç›®(emos-vue) WebåŠå…¬ç³»ç»Ÿåç«¯é¡¹ç›®(emos-api) æ•°æ®è¡¨åˆ†ç±»ï¼š åºå· ç±»å‹ ç‰¹å¾ å¤‡æ³¨ 1 å·¥ä½œæµæ•°æ®è¡¨ ä»¥ act_ å¼€å¤´ å­˜å‚¨å·¥ä½œæµçš„å„é¡¹æ•°æ® 2 å®šæ—¶å™¨æ•°æ®è¡¨ ä»¥ qrtz_ å¼€å¤´ å­˜å‚¨QuartZå®šæ—¶å™¨æ•°æ® 3 ä¸šåŠ¡è¡¨ ä»¥ tb_ å¼€å¤´ ä¿å­˜ä¸šåŠ¡æ•°æ® 4 ç³»ç»Ÿè¡¨ ä»¥ sys_ å¼€å¤´ ä¿å­˜ç³»ç»Ÿé…ç½®ä¿¡æ¯ åç«¯ï¼š ä¾èµ–åº“ï¼š Lombok \u0026ndash; ç”Ÿæˆå¯¹è±¡çš„Get/Setæ–¹æ³•\nSpring Web \u0026ndash; springçš„webå¼€å‘æ¡†æ¶\nMyBatis Framework \u0026ndash; mybatisçš„å¼€å‘æ¡†æ¶\nMySQL Driver \u0026ndash; MySQLæ•°æ®åº“é©±åŠ¨\nSpring Data Redis(Access + Driver) \u0026ndash; Redisè¿æ¥+é©±åŠ¨å·¥å…·\nSpring Data MongoDB \u0026ndash; MongoDBè¿æ¥å·¥å…·\nSpring for RabbitMQ \u0026ndash; RabbitMQæ¶ˆæ¯é˜Ÿåˆ—è¿æ¥å·¥å…·","title":"Emosé¡¹ç›®æ­å»º"}]